/* Created: 2020/12/30 16:42:55 GMT+00:00 version: latest */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=53)}([function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.info=t.error=t.verbose=t.warning=t.success=void 0;const o=a(n(11)),s="info::",c="error::",l="warning::",d="verbose::",u="success::";function p(e,t,...n){(function(){const e=o.get("abTastyDebug"),t=!window.abtastyStopLog;return!(!e&&!window.abTastyDebug)&&t})()&&console.log("%c [AB Tasty Debug mode] %c "+e,"background: #222; color: #bada55; padding: 3px; border-radius: 5px 0px 0px 5px;",t+" padding: 3px; border-radius: 0px 5px 5px 0px;",...n)}t.success=function(...e){p(u,"background: green; color: white;",...e)},t.warning=function(...e){p(l,"background: orange; color: white;",...e)},t.verbose=function(...e){(o.get("aBTastyVerbose")||window.aBTastyVerbose)&&p(d,"background: pink; color: white;",...e)},t.error=function(...e){p(c,"background: red; color: white;",...e)},t.info=function(...e){p(s,"background: blue; color: white;",...e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.curry=void 0;const i=n(41);t.curry=function e(t,n=[]){return(...r)=>{const a=t.length,o=e=>e===i.__,s=n.map(e=>o(e)&&r.length>0?r.shift():e).concat(r);return s.filter(e=>!o(e)).length<a?e(t,s):t(...s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logForSpecialClient=t.context=t.captureException=t.config=void 0;n(25),n(8),n(13);const i=n(3),r=n(21),a=n(4);t.config=()=>({install(){}}),t.captureException=e=>null,t.context=e=>(t.captureException(new Error("testing with tag_version")),e()),t.logForSpecialClient=e=>{i.additionalLogsDisabled()&&r.dispatchHit(a.HIT_TYPES.event,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldSendUserAgent=t.shouldVerifyCookies=t.additionalLogsDisabled=t.getDynamicTrafficAllocationCampaignIds=t.usesUAParserTargeting=t.usesGeolocTargeting=t.usesAdblockTargeting=t.getAudienceHelpers=t.getGlobalCodeFragments=t.getCrossDomainSettings=t.getAccountID=t.getAccountIdentifier=t.getSessionRecordingSettings=t.getAccountSettings=t.getAccountCampaign=t.getAccountData=t.shouldRunAsynchronously=t.noMoreQuota=void 0;const i=n(22),r={accountSettings:{id:38462,identifier:"f568e38836770fae0bb8aad9f5383b2d",accountName:"La Redoute PT Desktop + Mobile",region:"europe",frameworkVersion:"latest",pack:"premium",quota:0,toleranceParams:[],toleranceRegex:null,omnitureIntegration:2,accountIframeException:!1,runAsThread:0,sessionRecordingRights:!1,heatmapRight:!1,addJquery:!1,jqueryVarName:null,ajaxAutoReload:!0,excludeIE:!0,hashMrasnAllowed:!0,cedexisRadar:0,globalCode:'//-----------Tag de Transactions-----------//\nABTastyTagCommander = function() {\n\tif(typeof tc_vars != \'undefined\'){\n\t\tif(tc_vars["order_amount_ati_without_sf"]>0){\n\t\t\tclearInterval(timer);\n\t\t\tvar value = tc_vars["order_amount_ati_without_sf"];\n            if(!isNaN(tc_vars["order_id"])) _abtasty.push([\'transaction\',\'Transaction v2\',tc_vars["order_id"],value]);\n        }\n\t}\n}\n\nif(document.location.href.indexOf("basketthankyou") != -1){\n  var timer=setInterval("ABTastyTagCommander()", 100);\n}\n//-----------Tag de Transactions-----------//',globalCodeOnDocReady:!0,customCookieDomain:null,customCookiePath:"/",isSecureCookie:!1,oneVisitorOneTest:!1,waitForCnil:null,waitForCnilAction:!1,waitForCnilCookie:!1,waitForCnilCustomJs:null,waitForCnilStrictMode:!1,waitForCnilMode:"disabled",storageMode:"cookies",datalayerMaxToSend:100,tealiumAccountName:null,tealiumProfileName:null,apiTokenWeborama:null,getAlwaysWeborama:null,kruxNamespace:null,eulerianPixelURL:null},tests:{479091:{id:479091,name:"mobile newsletter subscription [iframe] NEW_USAR",traffic:100,type:"ab",parentID:0,globalCode:'var expiry = new Date();\r\n    expiry.setDate(expiry.getDate() +7); //expire 7 jours apres\r\n    document.cookie = "SUBPTMOBILE=YES; path=/; domain=laredoute.pt; expires=" + expiry.toString();',stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!1,condition:10,value:"shoppingbasket"},{include:!1,condition:10,value:"myaccount"},{include:!0,condition:10,value:"laredoute.pt"},{include:!1,condition:10,value:"basketregister"},{include:!1,condition:1,value:"webaccount"}],codeScope:[],selectorScope:[],cookieScope:[{include:!1,value:"FV",name:"Segmentation"}],ipScope:[]},analytics:[{name:"SiteCatalyst",wave:"82",tracker:"s",implementation:null,functionName:null}],customAnalytics:[],widgets:[],actionTrackings:{},variations:{603125:{id:603125,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[{id:2428695,type:"customScriptNew",selector:"",oldValue:"widthImage= 330;\r\nheightImage=470;\r\n\t\t\r\n$('body').append('<style type=\"text/css\">#Layer .cloz{top:0px;float:right;display:block;padding:5px 11px;font:700 9px \"Arial\";text-decoration:none;color:#fff;background:#000;border:1px solid #DBDBDB;position:relative;z-index:2;margin-bottom:6px;box-shadow:#DBDBDB 0 0 17px;}#Layer .cloz:hover{color:#000;background:#FFF;border:1px solid #DBDBDB}.LayerContent{float:right;height:'+heightImage+'px;width:'+widthImage+'px;box-shadow:#666 0 0 40px}#Layer{display:none;color:#000 !important;z-index:20002;font:11px arial;top:10%;left:50%;margin-left:-'+(widthImage/2)+'px;position:fixed;width:'+widthImage+'px;overflow:auto}#LayerOverlay{cursor:pointer;display:none;z-index:15000;background:#000;opacity:.5;filter:alpha(opacity=.5);width:100%;height:100%;position:fixed;top:0;left:0}</style><div id=\"LayerOverlay\"></div><div id=\"Layer\"></div>');\r\n$('#Layer').append('<a class=\"cloz\" href=\"javascript:void(0);\" title=\"FECHAR\">FECHAR [X]</a><div class=\"LayerContent\"><iframe id=\"iframe_nlsub\" scrolling=\"no\" frameborder=\"0\" style=\"position: relative; height: 100%; width: 100%;\" src=\"https://www.newsredoute.com/newsletters/nlt_pe18/landing_subs-news/testemobile.php\"></iframe></div>');\r\n\r\n/*$(document).on('mouseleave','body', function() {\r\n\tif (sessionStorage.SUBPTMOBILE == undefined) {\r\n\t\tsessionStorage.setItem('SUBPTMOBILE', true);\r\n\t\t$('#LayerOverlay').show();\r\n\t\t$('#Layer').fadeIn();\r\n\t\t$('#LayerOverlay,.cloz').click(function(){$('#LayerOverlay,#Layer').fadeOut(600);$('#Layer').replaceWith('<div id=\"Layer\"></div>');});\r\n\t}\r\n});*/\r\n\r\nsetTimeout(function(){\r\n\tif (sessionStorage.SUBPTMOBILE == undefined) {\r\n\t\tsessionStorage.setItem('SUBPTMOBILE', true);\r\n\t\t$('#LayerOverlay').show();\r\n\t\t$('#Layer').fadeIn();\r\n\t\t$('#LayerOverlay,.cloz').click(function(){$('#LayerOverlay,#Layer').fadeOut(600);$('#Layer').replaceWith('<div id=\"Layer\"></div>');});\r\n\t}\r\n},2000);\r\nvar expiry = new Date();\r\nexpiry.setDate(expiry.getDate() +7); //expire 7 days later\r\ndocument.cookie = \"SUBPTMOBILE=true; path=/; domain=laredoute.pt; expires=\" + expiry.toString();",value:null},{id:2428696,type:"addCSS",selector:"",oldValue:"@media only screen and (orientation : landscape)  {\n    #Layer {\n        height: 95% !important;\n        overflow: auto !important;\n        top: 2% !important;\n    }\n\n    .LayerContent {\n        height: 100% !important;\n    }\n}",value:"@media only screen and (orientation : landscape)  {\n    #Layer {\n        height: 95% !important;\n        overflow: auto !important;\n        top: 2% !important;\n    }\n\n    .LayerContent {\n        height: 100% !important;\n    }\n}"}],widgets:[],redirections:[]}},audienceTrigger:{name:"Audience of the account38462",id:"ee5c3cf1-8d90-49da-a90c-f96585286c85",targeting_groups:[{position:0,id:"90bc66c4-ae8e-451c-86fa-7d79862f3a64",targetings:[{id:"87c106de-90ca-4ffe-bfd2-44e19d954639",operator:"or",position:0,targeting_type:18,conditions:[{id:"4ef1533c-4366-479e-be24-0196b4fa18c0",range:!1,from:"3261235902",to:"0",include:!1},{id:"d6a58e4e-1122-4b2a-90c4-f5d752ca369a",range:!1,from:"3105950986",to:"0",include:!1},{id:"fe4a4229-58ae-46f2-b310-b0140557e110",range:!1,from:"3279132786",to:"0",include:!1}]},{id:"a42ef674-d592-4cda-b9f0-b01fd6810360",operator:"or",position:1,targeting_type:20,conditions:[{id:"2d36ab03-b318-4407-bd9f-4f2c27779bc0",name:"SUBPTMOBILE",value:"YES",include:!1}]},{id:"d78f628e-8482-4cc8-83e1-2ffd867017ed",operator:"and",position:2,targeting_type:17,conditions:[{id:"7c5c818f-c80b-4470-b12b-77430714a8de",value:3,is_segment_type:!1,include:!1}]},{id:"0bb67473-261c-45e6-9d12-0f0725251a73",operator:"and",position:3,targeting_type:22,conditions:[{id:"0e7b04cb-eaa0-43ac-b295-b36cee0b5860",condition:10,value:"EMC",include:!1},{id:"14ed571d-35d3-4ff6-b00f-7e154dbaf495",condition:10,value:"EMT",include:!1}]},{id:"15aa8a63-264b-4d93-a122-71c15d0aeaa4",operator:"and",position:4,targeting_type:27,conditions:[{id:"7c9388a6-05ed-4ba2-8fe4-542c24859c2a",value_min:300,value_max:3e3,include:!0}]},{id:"d2c16ecf-7bf4-4ac2-b81a-4f98a5a864a0",operator:"auto",position:5,targeting_type:31,conditions:[{id:"e65b1624-3216-4954-89cb-7b001e276556",value:5,include:!0}]}]}],is_segment:!1},audienceSegment:{name:"Mobile",id:"1c9078f4-b11d-4c0c-9304-a1b41588d2c4",targeting_groups:[{position:0,id:"966f9178-bff0-454f-ac0c-4a4e61fc6152",targetings:[{id:"e1ec1085-8806-42de-a1cf-bd40e61b8372",operator:"auto",position:0,targeting_type:17,conditions:[{id:"e822c693-a52e-4846-bdc3-16ceb1f8794e",value:1,is_segment_type:!0,include:!0}]},{id:"4a48790f-e744-41af-9b24-6dac20733ac7",operator:"auto",position:1,targeting_type:19,conditions:[{id:"962e8235-98a5-4e8c-b47c-b75d72216234",code_country:"PT",code_least_specific_subdivision:null,code_most_specific_subdivision:null,code_city:null,is_segment_type:!0,include:!0}]}]}],is_segment:!0}},503539:{id:503539,name:"Popin newsletter subscription [iframe] NOVO_USAR",traffic:100,type:"ab",parentID:0,globalCode:"var listener = addEventListener('blur', function() {\r\n\tif(document.activeElement === $('#iframe_nlsub')[0]) {\r\n\t\tABTastyClickTracking('CT on popin', null, 503539);\r\n\t}\r\n});\r\n\r\n$(document).on('mousedown', '.cloz', function(){ ABTastyClickTracking('CT on close button',null,503539); });\r\nvar expiry = new Date();\r\n    expiry.setDate(expiry.getDate() +7); //expire 7 jours apres\r\n    document.cookie = \"SUBPTPE19=YES; path=/; domain=laredoute.pt; expires=\" + expiry.toString();",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!1,condition:10,value:"shoppingbasket"},{include:!1,condition:10,value:"kwrd"},{include:!1,condition:10,value:"services"},{include:!1,condition:10,value:"login"},{include:!1,condition:10,value:"myaccount"},{include:!1,condition:10,value:"basketregister"},{include:!1,condition:10,value:"register"},{include:!1,condition:10,value:"webaccount"}],codeScope:[],selectorScope:[],cookieScope:[{include:!1,value:"FV",name:"Segmentation "}],ipScope:[]},analytics:[{name:"SiteCatalyst",wave:"82",tracker:"s",implementation:null,functionName:null}],customAnalytics:[],widgets:[],actionTrackings:{},variations:{630376:{id:630376,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[{id:2508386,type:"customScriptNew",selector:"",oldValue:"widthImage= 935;\r\nheightImage=570;\r\n\t\t\r\n$('body').append('<style type=\"text/css\">#Layer .cloz{top:0px;float:right;display:block;padding:5px 11px;font:700 9px \"Arial\";text-decoration:none;color:#fff;background:#000;border:1px solid #DBDBDB;position:relative;z-index:2;margin-bottom:6px;box-shadow:#DBDBDB 0 0 17px;}#Layer .cloz:hover{color:#000;background:#FFF;border:1px solid #DBDBDB}.LayerContent{float:right;height:'+heightImage+'px;width:'+widthImage+'px;box-shadow:#666 0 0 40px}#Layer{display:none;color:#000 !important;z-index:20002;font:11px arial;top:10%;left:50%;margin-left:-'+(widthImage/2)+'px;position:fixed;width:'+widthImage+'px;overflow:hidden}#LayerOverlay{cursor:pointer;display:none;z-index:15000;background:#000;opacity:.5;filter:alpha(opacity=.5);width:100%;height:100%;position:fixed;top:0;left:0}</style><div id=\"LayerOverlay\"></div><div id=\"Layer\"></div>');\r\n$('#Layer').append('<a class=\"cloz\" href=\"javascript:void(0);\" title=\"FECHAR\">FECHAR [X]</a><div class=\"LayerContent\"><iframe id=\"iframe_nlsub\" scrolling=\"no\" frameborder=\"0\" style=\"position: relative; height: 100%; width: 100%;\" src=\"https://www.newsredoute.com/newsletters/nlt_pe18/landing_subs-news/teste1.php\"></iframe></div>');\r\n\r\n$(document).on('mouseleave','body', function() {\r\n\tif (sessionStorage.SUBPTPE19 == undefined) {\r\n\t\tsessionStorage.setItem('SUBPTPE19', true);\r\n\t\t$('#LayerOverlay').show();\r\n\t\t$('#Layer').fadeIn();\r\n\t\t$('#LayerOverlay,.cloz').click(function(){$('#LayerOverlay,#Layer').fadeOut(600);$('#Layer').replaceWith('<div id=\"Layer\"></div>');});\r\n\t}\r\n});\r\n\r\nvar expiry = new Date();\r\nexpiry.setDate(expiry.getDate() +7); //expire 7 days later\r\ndocument.cookie = \"SUBPTPE19=true; path=/; domain=laredoute.pt; expires=\" + expiry.toString();",value:null}],widgets:[],redirections:[]}},audienceTrigger:{name:"Audience of the account38462",id:"f3220dcd-4b2e-46c9-b217-9c264e04433f",targeting_groups:[{position:0,id:"502a6c35-3bae-466a-ab2d-ecd7d25df0da",targetings:[{id:"6a8039d6-2293-40c6-8340-b278b2c4c4dd",operator:"or",position:0,targeting_type:18,conditions:[{id:"0fbda756-3cdb-41fe-beea-320b6755ed35",range:!1,from:"3279132786",to:"0",include:!1},{id:"47235e0d-ed10-4bf9-8c71-b820b41e9b7e",range:!1,from:"3105950986",to:"0",include:!1},{id:"67e9790a-9c92-4d49-ba4f-aaf426fed555",range:!1,from:"3261235902",to:"0",include:!1}]},{id:"27e8f726-389c-4ba9-a42e-8fbebebd49ed",operator:"or",position:1,targeting_type:20,conditions:[{id:"39aed9b8-bcd2-4e4f-878e-f11336b2643d",name:"SUBPTPE19",value:"YES",include:!1}]},{id:"9662887b-f315-473d-bbdb-78d53a4b6020",operator:"and",position:2,targeting_type:17,conditions:[{id:"614899aa-7c37-4d55-af45-8d6d5272c723",value:3,is_segment_type:!1,include:!0}]},{id:"02c0e662-90f4-449b-b800-b00059113a08",operator:"and",position:3,targeting_type:22,conditions:[{id:"49e304f5-5963-45fd-bb18-7d376e142d35",condition:10,value:"EMT",include:!1},{id:"8b02d6df-400d-4a35-ba38-a92e87094b22",condition:10,value:"EMC",include:!1}]},{id:"0a054b32-2339-4d5a-851b-a5022c034e2f",operator:"auto",position:4,targeting_type:31,conditions:[{id:"cc678a94-5a61-4ced-9636-d88f4bec2e9f",value:5,include:!0}]}]}],is_segment:!1},audienceSegment:{name:"Desktop",id:"98ed50fe-94c7-4088-870f-ece8982be9ae",targeting_groups:[{position:0,id:"737b1c77-12de-430a-a06c-7dd9508e64c7",targetings:[{id:"3b5b33de-643e-45e8-a6b0-c7de1b23ee9e",operator:"auto",position:0,targeting_type:17,conditions:[{id:"206a241b-6244-4601-b20e-f602493804ba",value:3,is_segment_type:!0,include:!0}]}]}],is_segment:!0}},534213:{id:534213,name:"Promo carrinho",traffic:100,type:"multipage",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:40,value:"master"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{665959:{id:665959,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[],widgets:[],redirections:[]}},children:[534214,534215]},534214:{id:534214,name:"Info no carrinho PT (duplicate)",traffic:100,type:"ab",parentID:534213,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:"www.laredoute.pt/shoppingbasket"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{665961:{id:665961,name:"Variation 1",traffic:100,masterVariationId:665959,modifications:[{id:2622775,type:"editHtml",selector:"#basketMain .basket-title",oldValue:'<h3 xmlns="http://www.w3.org/1999/xhtml" class="basket-title external-hide">Carrinho<small class="basket-title-number"></small></h3>\n\n<h4 xmlns="http://www.w3.org/1999/xhtml" style="background:#eeeeee; border:1px solid #cccccc; padding:5px 10px"><big data-ab-tasty-removed="1" style="display: none;"><samp><small>Oferta em destaque :<br />\n<strong></span> !<br />',value:'<h3 xmlns="http://www.w3.org/1999/xhtml" class="basket-title external-hide">Carrinho<small class="basket-title-number"></small></h3>\n\n<h4 xmlns="http://www.w3.org/1999/xhtml" style="background:#eeeeee; border:1px solid #cccccc; padding:5px 10px"><big data-ab-tasty-removed="1" style="display: none;"><samp><small>Oferta em destaque :<br />\n<strong></span> !<br />'},{id:2688963,type:"editStyleCSS",selector:"#basketMain H4:nth-child(2)",oldValue:"#basketMain H4:nth-child(2) {background-color:#ECF7EB!important;color:#FFFFFF!important}",value:'{"background-color":"#ECF7EB!important","color":"#FFFFFF!important"}'},{id:3026557,type:"editHtml",selector:"#basketMain H4:nth-child(2)",oldValue:'<h4 xmlns="http://www.w3.org/1999/xhtml" style="background:#eeeeee; border:1px solid #cccccc; padding:5px 10px"><big data-ab-tasty-removed="1" style="display: none;"><samp><small>Oferta em destaque :<br />\n<strong> !<br /></strong></small></samp></big><span style="color:#272522">ESPECIAL TROCAS & DEVOLUÇÕES:</span><br />\n<span style="font-size:14px"><big><span style="color:#000000"><small>Prolongamos o prazo de devolução e todas as encomendas podem ser devolvidas até 60 dias após a sua receção</small></span></big></span><br />\n<br />\n<span style="color:#272522">EM DESTAQUE:</span><br />\n\n<span style="color:#06d66e;font-size:16px"><strong>ENVIO GRÁTIS em todas as encomendas<span style="background-color:#F2FFF7 ;font-size:18px; font-family: \'Source Sans Pro\', sans-serif; color:#000000; display: inline-block; border-radius:28px; font-weight:bold; padding:4px 8px;"></span><span style="color:#27ae60"><strong></strong></span></strong></span>\n<p></p></h4>',value:'<h4 xmlns="http://www.w3.org/1999/xhtml" style="background:#eeeeee; border:1px solid #cccccc; padding:5px 10px"><big data-ab-tasty-removed="1" style="display: none;"><samp><small>Oferta em destaque :<br />\n<strong> !<br /></strong></small></samp></big><span style="color:#272522">ESPECIAL TROCAS & DEVOLUÇÕES:</span><br />\n<span style="font-size:14px"><big><span style="color:#000000"><small>Prolongamos o prazo de devolução e todas as encomendas podem ser devolvidas até 60 dias após a sua receção</small></span></big></span><br />\n<br />\n<span style="color:#272522">EM DESTAQUE:</span><br />\n\n<span style="color:#06d66e;font-size:16px"><strong>ENVIO GRÁTIS em todas as encomendas<span style="background-color:#F2FFF7 ;font-size:18px; font-family: \'Source Sans Pro\', sans-serif; color:#000000; display: inline-block; border-radius:28px; font-weight:bold; padding:4px 8px;"></span><span style="color:#27ae60"><strong></strong></span></strong></span>\n<p></p></h4>'},{id:3108107,type:"editStyleCSS",selector:"#basketMain H4:nth-child(3)",oldValue:"#basketMain H4:nth-child(3) {background-color:#F2FFF7!important;color:#000000!important;border-color:#A5B5A8!important;border-radius:!important}",value:'{"background-color":"#F2FFF7!important","color":"#000000!important","border-color":"#A5B5A8!important","border-radius":"!important"}'}],widgets:[],redirections:[]}},siblings:[534215]},534215:{id:534215,name:"code panier NL (duplicate) (duplicate) (duplicate)",traffic:100,type:"ab",parentID:534213,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:2,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:"/nl/shoppingbasket/"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{665963:{id:665963,name:"Variation 1",traffic:100,masterVariationId:665959,modifications:[{id:2622800,type:"editHtml",selector:"#basketMain .basket-title",oldValue:'<h3 xmlns="http://www.w3.org/1999/xhtml" class="basket-title external-hide">Mandje <small class="basket-title-number">(3)</small></h3>\n<h4 xmlns="http://www.w3.org/1999/xhtml" style="background:#eeeeee; border:1px solid #cccccc; padding:5px 10px"><big data-ab-tasty-removed="1" style="display: none;"><samp><small>Les offres magiques de Noël ✨<br />\n<strong><span style="color:#cc9966">-40%</span></strong> de réduction <span style="color:#cc9966"><strong>dès 2 articles achetés</strong></span> !<br />\n<span style="color:#cc9966"><strong>-50%</strong></span> de réduction <span style="color:#cc9966"><strong>dès 3 articles achetés</strong></span><br />\n<span style="color:#000000">sur la mode la Redoute Collections &amp; le Linge de Maison la Redoute Intérieur</span><br />\n<br />\n<span style="color:#cc9966"><strong>-25%</strong></span> sur les <span style="color:#cc9966"><strong>marques !</strong></span><br />\n<span style="font-size:14px"><strong>code : 5240</strong></span></small></samp></big><span><big><samp><small>Les offres magiques de Noël ✨<br />\n<strong><span style="color:#cc9966">-40%</span></strong> de réduction <span style="color:#cc9966"><strong>dès 2 articles achetés</strong></span> !<br />\n<span style="color:#cc9966"><strong>-50%</strong></span> de réduction <span style="color:#cc9966"><strong>dès 3 articles achetés</strong></span><br />\n<span style="color:#000000">sur la mode la Redoute Collections &amp; le Linge de Maison la Redoute Intérieur</span><br />\n<span style="color:#cc9966"><strong>-25%</strong></span> sur les <span style="color:#cc9966"><strong>marques !</strong></span><br />\n<span style="font-size:16px"><strong>code : 5240</strong></span></small></samp></big></span></h4>',value:'<h3 xmlns="http://www.w3.org/1999/xhtml" class="basket-title external-hide">Mandje <small class="basket-title-number">(3)</small></h3>\n<h4 xmlns="http://www.w3.org/1999/xhtml" style="background:#eeeeee; border:1px solid #cccccc; padding:5px 10px"><big data-ab-tasty-removed="1" style="display: none;"><samp><small>Les offres magiques de Noël ✨<br />\n<strong><span style="color:#cc9966">-40%</span></strong> de réduction <span style="color:#cc9966"><strong>dès 2 articles achetés</strong></span> !<br />\n<span style="color:#cc9966"><strong>-50%</strong></span> de réduction <span style="color:#cc9966"><strong>dès 3 articles achetés</strong></span><br />\n<span style="color:#000000">sur la mode la Redoute Collections &amp; le Linge de Maison la Redoute Intérieur</span><br />\n<br />\n<span style="color:#cc9966"><strong>-25%</strong></span> sur les <span style="color:#cc9966"><strong>marques !</strong></span><br />\n<span style="font-size:14px"><strong>code : 5240</strong></span></small></samp></big><span><big><samp><small>Les offres magiques de Noël ✨<br />\n<strong><span style="color:#cc9966">-40%</span></strong> de réduction <span style="color:#cc9966"><strong>dès 2 articles achetés</strong></span> !<br />\n<span style="color:#cc9966"><strong>-50%</strong></span> de réduction <span style="color:#cc9966"><strong>dès 3 articles achetés</strong></span><br />\n<span style="color:#000000">sur la mode la Redoute Collections &amp; le Linge de Maison la Redoute Intérieur</span><br />\n<span style="color:#cc9966"><strong>-25%</strong></span> sur les <span style="color:#cc9966"><strong>marques !</strong></span><br />\n<span style="font-size:16px"><strong>code : 5240</strong></span></small></samp></big></span></h4>'},{id:2622801,type:"editText",selector:"#basketMain H4:nth-child(2)",oldValue:'<big><samp><small><strong><span style="color:#000000">Enkel Vandaag</span><br />\n<span style="color:#c0392b">-10% extra&nbsp;&nbsp;op HEEL DE SITE!</span></strong><br />\n<span style="color:#000000"><span style="font-size:16px"><strong>code :</strong></span></span><span style="color:#000099"><span style="font-size:16px"><strong>&nbsp;</strong></span></span><span style="color:#c0392b"><span style="font-size:16px"><strong>3754</strong></span></span></small></samp></big><br />\n&nbsp;',value:'<big><samp><small><strong><span style="color:#000000">Enkel Vandaag</span><br />\n<span style="color:#c0392b">-10% extra&nbsp;&nbsp;op HEEL DE SITE!</span></strong><br />\n<span style="color:#000000"><span style="font-size:16px"><strong>code :</strong></span></span><span style="color:#000099"><span style="font-size:16px"><strong>&nbsp;</strong></span></span><span style="color:#c0392b"><span style="font-size:16px"><strong>3754</strong></span></span></small></samp></big><br />\n&nbsp;'},{id:2622802,type:"editStyleCSS",selector:"#basketMain H4:nth-child(2)",oldValue:"#basketMain H4:nth-child(2) {font-family:Source sans pro!important}",value:'{"font-family":"Source sans pro!important"}'},{id:2622803,type:"editStyleCSS",selector:"#basketMain H4:nth-child(2) > SPAN:nth-child(3) BIG SAMP SMALL",oldValue:"#basketMain H4:nth-child(2) > SPAN:nth-child(3) BIG SAMP SMALL {font-family:source sans pro !important}",value:'{"font-family":"source sans pro !important"}'},{id:2622804,type:"editText",selector:"#basketMain SPAN:nth-child(6) SPAN STRONG",oldValue:"5030",value:"5030"},{id:2622805,type:"editText",selector:"#basketMain SPAN:nth-child(5) SPAN STRONG",oldValue:"3754",value:"3754"},{id:2622806,type:"editText",selector:"#basketMain SMALL > STRONG:nth-child(1) SPAN:nth-child(1)",oldValue:"",value:""},{id:2622807,type:"editText",selector:"#basketMain SMALL > STRONG:nth-child(1) SPAN:nth-child(3)",oldValue:"-10% extra&nbsp;&nbsp;vanaf 89&euro; aankopen",value:"-10% extra&nbsp;&nbsp;vanaf 89&euro; aankopen"},{id:2622808,type:"editText",selector:"#basketMain H4:nth-child(2) > SPAN:nth-child(3) BIG SAMP",oldValue:'<br />\n<small><strong><span style="color:#c0392b">-10% extra&nbsp;&nbsp;op HEEL DE SITE!-10% extra&nbsp;&nbsp;vanaf 89&euro; aankopen</span></strong><br />\n<span style="color:#000000"><span style="font-size:16px"><strong>code :</strong></span></span><span style="color:#000099"><span style="font-size:16px"><strong>&nbsp;</strong></span></span><span style="color:#c0392b"><span style="font-size:16px"><strong>37543754</strong></span></span></small>',value:'<br />\n<small><strong><span style="color:#c0392b">-10% extra&nbsp;&nbsp;op HEEL DE SITE!-10% extra&nbsp;&nbsp;vanaf 89&euro; aankopen</span></strong><br />\n<span style="color:#000000"><span style="font-size:16px"><strong>code :</strong></span></span><span style="color:#000099"><span style="font-size:16px"><strong>&nbsp;</strong></span></span><span style="color:#c0392b"><span style="font-size:16px"><strong>37543754</strong></span></span></small>'},{id:2622809,type:"editText",selector:"#basketMain SAMP > SPAN:nth-child(2) SMALL > STRONG:nth-child(1) SPAN",oldValue:"-10% extra&nbsp;&nbsp;vanaf 89&euro; aankopen",value:"-10% extra&nbsp;&nbsp;vanaf 89&euro; aankopen"},{id:2622810,type:"editText",selector:"#basketMain SAMP > SPAN:nth-child(2) SPAN:nth-child(5) SPAN STRONG",oldValue:"3754",value:"3754"}],widgets:[],redirections:[]}},siblings:[534214]},606329:{id:606329,name:"shorter popup 100%",traffic:100,type:"ab",parentID:0,globalCode:"$('#validationButton_registerPage_register').addClass('AB_TASTY_1');\n$('#allSelectedInput').addClass('AB_TASTY_8');\n$('#privacidadeRedouteNo').addClass('AB_TASTY_2');\n$('#privacidadeRedouteYes').addClass('AB_TASTY_3');\n$('#option_no_N001').addClass('AB_TASTY_4');\n$('#option_yes_N001').addClass('AB_TASTY_5');\n$('#option_no_SMS1').addClass('AB_TASTY_6');\n$('#option_yes_SMS1').addClass('AB_TASTY_7');",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:"laredoute.pt/webaccount/register"},{include:!0,condition:10,value:"shoppingbasket/basketregister"},{include:!1,condition:10,value:"preprod"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[{name:"SiteCatalyst",wave:"61",tracker:"s",implementation:null,functionName:null}],customAnalytics:[],widgets:[],actionTrackings:{click:[{name:"Create account main button",selector:"#validationButton_registerPage_register"}]},variations:{750722:{id:750722,name:"ofertas shorter",traffic:100,masterVariationId:0,modifications:[{id:2893727,type:"addCSS",selector:"",oldValue:"#step2 #divBlockNews {\r\n    display: none;\r\n}\r\n\r\n#popin132 h4 {\r\n\tpadding: 1.2em 0;\r\n    margin: auto;\r\n    background-color: #000;\r\n    color: #FFF;\r\n    text-align: center;\r\n}\r\n\r\n#popin132 label {\r\n\tpadding: 0 30px 0 30px;\r\n}\r\n\r\n#popin132 #divBlockNews {\r\n\tpadding: 2em;\r\n}\r\n\r\n#popin132 .popinText a {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n#popin132 .popin-btn-close {\r\n\tbackground-color: transparent;\r\n}\r\n\r\n#popin132 .close:before,\r\n#popin132 .close:after {\r\n\tcolor: #fff;\r\n}\r\n\r\n#popin132 .lr-button-success {\r\n\tcursor: pointer;\r\n}\r\n\r\n/*\r\n#popin132 .lr-button-success,\r\n#popin132 .disabled {\r\n\tborder: 0;\r\n}\r\n\r\n#popin132 .lr-button-success::before {\r\n\tbackground-color: #45b450;\r\n}\r\n\r\n#popin132 .disabled {\r\n\tcolor: #FFF;\r\n}\r\n\r\n#popin132 .disabled::before {\r\n\tbackground-color: #e5e5e5;\r\n}\r\n\r\n#popin132 .popinText a {\r\n\tcolor: #4c7fef;\r\n}\r\n*/\r\n\r\n#popin132 .doNotAccept {\r\n    padding: 1.5em 0 0 0;\r\n    margin: auto;\r\n\tborder: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n#popin132 .pull-right {\r\n\twidth: 35%;\r\n\ttext-align: right;\r\n}\r\n\r\n#popin132 .radio-inline {\r\n    width: 40%;\r\n}\r\n\r\n#popin132 .allSelected {\r\n\tmargin: 2em auto 1.5em auto;\r\n}\r\n\r\n#popin132 .allSelected .checkbox-inline {\r\n    margin: auto;\r\n    vertical-align: top;\r\n}\r\n\r\n#popin132 .allSelected label {\r\n\tpadding: 0 2em 0 0;\r\n    margin: auto;\r\n}\r\n\r\n#popin132 h4,\r\n#popin132 .allSelected,\r\n#popin132 .acceptTerms {\r\n\ttext-transform: uppercase;\r\n}\r\n\r\n#popin132 .acceptTerms.disabled {\r\n    cursor: auto;\r\n}\r\n\r\n@media screen and (max-width: 767px) {\r\n    #popin132 #divBlockNews {\r\n        padding: 1em;\r\n    }\r\n\r\n\t#popin132 .media-middle {\r\n\t\twidth: 50%;\r\n\t    display: inline-block;\r\n    }\r\n}",value:"#step2 #divBlockNews {\r\n    display: none;\r\n}\r\n\r\n#popin132 h4 {\r\n\tpadding: 1.2em 0;\r\n    margin: auto;\r\n    background-color: #000;\r\n    color: #FFF;\r\n    text-align: center;\r\n}\r\n\r\n#popin132 label {\r\n\tpadding: 0 30px 0 30px;\r\n}\r\n\r\n#popin132 #divBlockNews {\r\n\tpadding: 2em;\r\n}\r\n\r\n#popin132 .popinText a {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n#popin132 .popin-btn-close {\r\n\tbackground-color: transparent;\r\n}\r\n\r\n#popin132 .close:before,\r\n#popin132 .close:after {\r\n\tcolor: #fff;\r\n}\r\n\r\n#popin132 .lr-button-success {\r\n\tcursor: pointer;\r\n}\r\n\r\n/*\r\n#popin132 .lr-button-success,\r\n#popin132 .disabled {\r\n\tborder: 0;\r\n}\r\n\r\n#popin132 .lr-button-success::before {\r\n\tbackground-color: #45b450;\r\n}\r\n\r\n#popin132 .disabled {\r\n\tcolor: #FFF;\r\n}\r\n\r\n#popin132 .disabled::before {\r\n\tbackground-color: #e5e5e5;\r\n}\r\n\r\n#popin132 .popinText a {\r\n\tcolor: #4c7fef;\r\n}\r\n*/\r\n\r\n#popin132 .doNotAccept {\r\n    padding: 1.5em 0 0 0;\r\n    margin: auto;\r\n\tborder: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n#popin132 .pull-right {\r\n\twidth: 35%;\r\n\ttext-align: right;\r\n}\r\n\r\n#popin132 .radio-inline {\r\n    width: 40%;\r\n}\r\n\r\n#popin132 .allSelected {\r\n\tmargin: 2em auto 1.5em auto;\r\n}\r\n\r\n#popin132 .allSelected .checkbox-inline {\r\n    margin: auto;\r\n    vertical-align: top;\r\n}\r\n\r\n#popin132 .allSelected label {\r\n\tpadding: 0 2em 0 0;\r\n    margin: auto;\r\n}\r\n\r\n#popin132 h4,\r\n#popin132 .allSelected,\r\n#popin132 .acceptTerms {\r\n\ttext-transform: uppercase;\r\n}\r\n\r\n#popin132 .acceptTerms.disabled {\r\n    cursor: auto;\r\n}\r\n\r\n@media screen and (max-width: 767px) {\r\n    #popin132 #divBlockNews {\r\n        padding: 1em;\r\n    }\r\n\r\n\t#popin132 .media-middle {\r\n\t\twidth: 50%;\r\n\t    display: inline-block;\r\n    }\r\n}"},{id:2893728,type:"customScriptNew",selector:"",oldValue:'$(function() {\r\n\tvar popinText = "<div class=\'popinText\'><p>A La Redoute compromete-se a assegurar o melhor nível de proteção dos seus dados pessoais e a respeitar as disposições legais do regulamento (UE) n°2016/679 de 27 abril 2016 relativo à proteção de dados pessoais.</p><span>Para mais informação leia a nossa <a href=\'/politica-de-privacidade.aspx\' target=\'_blank\' title=\'Política de Privacidade\'>Política de Privacidade</a></span></div>"\r\n\tvar privacidadeRedoute = \'<div class="form-group clearfix" id="privacidadeRedoute"><span class="media-middle">Li e aceito a política de privacidade da La Redoute</span><div class="pull-right"><span class="radio-inline"> <input type="radio" tabindex="42" name="privacidadeRedoute" id="privacidadeRedouteYes" class="custom-radio" value="yes" checked="" data-bv-field="privacidadeRedouteYes"><label for="privacidadeRedouteYes">Sim</label> </span> <span class="radio-inline"> <input type="radio" tabindex="43" name="privacidadeRedoute" id="privacidadeRedouteNo" class="custom-radio" value="no" data-bv-field="privacidadeRedouteNo"><label for="privacidadeRedouteNo">Não</label></span></div>\'\r\n\tvar allSelected = \'<div class="allSelected lr-button lr-button-block lr-button-success"><span class="checkbox-inline"><input type="checkbox" id="allSelectedInput" class="custom-checkbox"><label for="allSelectedInput">Compreendo e aceito todas&nbsp;as&nbsp;condições</label></span></div>\';\r\n\tvar acceptTerms = \'<div id="acceptTerms" class="acceptTerms lr-button lr-button-block">Confirmar</div>\';\r\n\tvar doNotAccept = \'<div class="doNotAccept lr-button lr-button-block disabled">Voltar</div>\';\r\n    var feedback = \'<div class="feedback"><div class="feedback-adjustment" style="margin-top: -10px;"><div class="feedback-content anim-blink-inf"><span class="anim-blink-inf-point"></span><span class="anim-blink-inf-point"></span><span class="anim-blink-inf-point"></span></div></div></div>\';\r\n\r\n    function createPopin132() {\r\n        $("<div id=\'popin132\'></div>").insertAfter($("#corePage #step2"));\r\n    \t$("#popin132").prepend($("#divBlockNews").clone());\r\n    \t//$("#step2 #divBlockNews").css("display", "none");\r\n    \t$("#popin132 h4").text("Gestão de dados pessoais");\r\n    \t$("#popin132 #choice_0 span").first().text("Ofertas exclusivas por e-mail");\r\n    \t$("#popin132 #choice_1 span").first().text("Ofertas exclusivas por SMS");\r\n    \t$(popinText).insertAfter($(\'#popin132 h4\'));\r\n    \t$(privacidadeRedoute).insertBefore($(\'#popin132 #choice_0\'));\r\n    \t$(allSelected).insertAfter($("#popin132 .popinText"));\r\n    \t$(acceptTerms).insertAfter($("#popin132 .form-group").last());\r\n    \t$(doNotAccept).insertAfter($("#popin132 .acceptTerms"));\r\n    \t$(\'#popin132 h4\').insertBefore($("#popin132 #divBlockNews"));\r\n\t\t$(\'#popin132\').addClass(\'popin\');\r\n\t\t$(\'#popin132\').popin({method:\'open\', position:\'defined\'});\r\n    }\r\n\r\n    $(window).on(\'click\', function() {\r\n        if (!$(".popin-wrapper[data-name=\'popin132\']").hasClass("in")) {\r\n            emptyInput();\r\n        }\r\n    });\r\n\r\n\t$(document).on("click", "#popin132 label", function() {\r\n        if ($(this).siblings(".custom-radio").length !== 0) {\r\n    \t    $(this).siblings(".custom-radio")[0].checked = true;\r\n    \t    detectInputValue();\r\n        }\r\n\t});\r\n\r\n\t$(document).on("click", "#popin132 .allSelected", function(e) {\r\n        if (e.target.className.indexOf("allSelected") !== -1) {\r\n            if ($(this).find("input")[0].checked == true) {\r\n                $(this).find("input")[0].checked = false;\r\n            }\r\n            else {\r\n                $(this).find("input")[0].checked = true;\r\n            }\r\n        }\r\n        checkAllSelected();\r\n\t});\r\n\r\n\t$(document).on("click", "#popin132 #acceptTerms", function() {\r\n        if ($(this).hasClass("disabled")) {\r\n            return false;\r\n        } else {\r\n    \t\t$("#customerLoginInformations").submit();\r\n            $(".acceptTerms").prepend(feedback);\r\n            $(".acceptTerms").removeClass("lr-button-success").addClass("disabled");\r\n        }\r\n\t});\r\n\r\n    $(document).on("click", "#popin132 .popin-btn-close", function() {\r\n\t\temptyInput();\r\n\t});\r\n\r\n\t$(document).on("click", "#popin132 .doNotAccept", function() {\r\n\t\t$("#popin132 .popin-btn-close").trigger("click");\r\n\t});\r\n\r\n\t$("#validationButton_registerPage_register").click(function(e) {\r\n\t\tsetTimeout(function() {\r\n\t\t\tif ($("#customerPersonalInformations").data(\'bootstrapValidator\').isValid() == true) {\r\n                $("#choice_0").removeClass("has-error");\r\n                $("#choice_0 .help-block").css("display", "none");\r\n                $("#choice_1").removeClass("has-error");\r\n                $("#choice_1 .help-block").css("display", "none");\r\n                if ($(".popin-wrapper[data-name=\'popin132\']").length !== 0) {\r\n                    $(".popin-wrapper[data-name=\'popin132\']").addClass("in");\r\n                } else {\r\n                    createPopin132();\r\n                }\r\n                $("#validationButton_registerPage_register")[0].disabled = false;\r\n                emptyInput();\r\n                detectInputValue();\r\n                return false;\r\n                e.stopImmediatePropagation();\r\n\t\t\t}\r\n\t\t}, 200);\r\n\t});\r\n\r\n    function checkAllSelected() {\r\n        if ($("#popin132 .allSelected input")[0].checked == true) {\r\n            $("#divBlockNews .custom-radio[value=\'yes\']").each(function() {\r\n    \t\t    $(this)[0].checked = true;\r\n    \t\t});\r\n        } else {\r\n            emptyInput();\r\n        }\r\n\t\tdetectInputValue();\r\n    }\r\n\r\n    function emptyInput() {\r\n        $("#divBlockNews .custom-radio, #divBlockNews .custom-checkbox").each(function() {\r\n    \t    $(this)[0].checked = false;\r\n    \t});\r\n    }\r\n\r\n    function detectInputValue() {\r\n\t    var customRadioLength = $("#popin132 .form-group").length;\r\n\t    var customRadioLengthCPT = 0;\r\n\t    $("#popin132 .custom-radio").each(function() {\r\n\t        if ($(this)[0].checked == true) {\r\n\t            customRadioLengthCPT++;\r\n\t        }\r\n\t    });\r\n\t    if (customRadioLengthCPT == customRadioLength && $("#privacidadeRedouteYes")[0].checked == true) {\r\n\t        $(".acceptTerms").addClass("lr-button-success").removeClass("disabled");\r\n\t    } else {\r\n\t        $(".acceptTerms").addClass("disabled").removeClass("lr-button-success");\r\n\t    }\r\n\t}\r\n});',value:null}],widgets:[],redirections:[]},824064:{id:824064,name:"Variation 1",traffic:0,masterVariationId:0,modifications:[{id:3125169,type:"customScriptNew",selector:"",oldValue:"$(function () {\r\n  const popinText = `\r\n  <div class='popinText'>\r\n    <p>Subscreva as nossas ofertas por newsletter e SMS, e ganhe acesso a ofertas exclusivas e em primeira mão.</p>\r\n  </div>`\r\n  // const privacidadeRedoute = `\r\n  // <div class=\"form-group clearfix\" id=\"privacidadeRedoute\">\r\n  //   <div class=\"pull-right\">\r\n  //     <span class=\"radio-inline\"> \r\n  //       <input type=\"radio\" tabindex=\"42\" name=\"privacidadeRedoute\" id=\"privacidadeRedouteYes\" class=\"custom-radio\" value=\"yes\" checked=\"\" data-bv-field=\"privacidadeRedouteYes\">\r\n  //       <label for=\"privacidadeRedouteYes\">Sim</label> \r\n  //     </span>\r\n  //     <span class=\"radio-inline\">\r\n  //       <input type=\"radio\" tabindex=\"43\" name=\"privacidadeRedoute\" id=\"privacidadeRedouteNo\" class=\"custom-radio\" value=\"no\" data-bv-field=\"privacidadeRedouteNo\">\r\n  //       <label for=\"privacidadeRedouteNo\">Não</label>\r\n  //     </span>\r\n  //   </div>\r\n  // </div>`\r\n  const allSelected = `\r\n  <div class=\"allSelected lr-button lr-button-block lr-button-success\">\r\n    <span class=\"checkbox-inline\">\r\n      <input type=\"checkbox\" id=\"allSelectedInput\" class=\"custom-checkbox\">\r\n      <label for=\"allSelectedInput\">Quero receber todas as ofertas da La Redoute</label>\r\n    </span>\r\n  </div>`\r\n  const acceptTerms = '<div id=\"acceptTerms\" class=\"acceptTerms lr-button lr-button-block\">Confirmar</div>'\r\n  const doNotAccept = '<div class=\"doNotAccept lr-button lr-button-block disabled\">Voltar</div>'\r\n  const feedback = `\r\n  <div class=\"feedback\">\r\n    <div class=\"feedback-adjustment\" style=\"margin-top: -10px;\">\r\n      <div class=\"feedback-content anim-blink-inf\">\r\n        <span class=\"anim-blink-inf-point\"></span>\r\n        <span class=\"anim-blink-inf-point\"></span>\r\n        <span class=\"anim-blink-inf-point\"></span>\r\n      </div>\r\n    </div>\r\n  </div>`\r\n\r\n  function createPopin132() {\r\n    $(\"<div id='popin132'></div>\").insertAfter($('#corePage #step2'))\r\n    $('#popin132').prepend($('#divBlockNews').clone())\r\n    // $(\"#step2 #divBlockNews\").css(\"display\", \"none\");\r\n    $('#popin132 h4').text('OFERTAS EXCLUSIVAS DA LA REDOUTE')\r\n    $('#popin132 #choice_0 span').first().text('Ofertas exclusivas por e-mail')\r\n    $('#popin132 #choice_1 span').first().text('Ofertas exclusivas por SMS')\r\n    $(popinText).insertAfter($('#popin132 h4'))\r\n    // $(privacidadeRedoute).insertBefore($('#popin132 #choice_0'))\r\n    $(allSelected).insertAfter($('#popin132 .popinText'))\r\n    $(acceptTerms).insertAfter($('#popin132 .form-group').last())\r\n    $(doNotAccept).insertAfter($('#popin132 .acceptTerms'))\r\n    $('#popin132 h4').insertBefore($('#popin132 #divBlockNews'))\r\n    $('#popin132').addClass('popin')\r\n    $('#popin132').popin({ method: 'open', position: 'defined' })\r\n  }\r\n\r\n  $(window).on('click', function () {\r\n    if (!$(\".popin-wrapper[data-name='popin132']\").hasClass('in')) {\r\n      emptyInput()\r\n    }\r\n  })\r\n\r\n  $(document).on('click', '#popin132 label', function () {\r\n    if ($(this).siblings('.custom-radio').length !== 0) {\r\n      $(this).siblings('.custom-radio')[0].checked = true\r\n      detectInputValue()\r\n    }\r\n  })\r\n\r\n  $(document).on('click', '#popin132 .allSelected', function (e) {\r\n    if (e.target.className.indexOf('allSelected') !== -1) {\r\n      if ($(this).find('input')[0].checked === true) {\r\n        $(this).find('input')[0].checked = false\r\n      } else {\r\n        $(this).find('input')[0].checked = true\r\n      }\r\n    }\r\n    checkAllSelected()\r\n  })\r\n\r\n  $(document).on('click', '#popin132 #acceptTerms', function () {\r\n    if ($(this).hasClass('disabled')) {\r\n      return false\r\n    } else {\r\n      $('#customerLoginInformations').submit()\r\n      $('.acceptTerms').prepend(feedback)\r\n      $('.acceptTerms').removeClass('lr-button-success').addClass('disabled')\r\n    }\r\n  })\r\n\r\n  $(document).on('click', '#popin132 .popin-btn-close', function () {\r\n    emptyInput()\r\n  })\r\n\r\n  $(document).on('click', '#popin132 .doNotAccept', function () {\r\n    $('#popin132 .popin-btn-close').trigger('click')\r\n  })\r\n\r\n  $('#validationButton_registerPage_register').click(function (e) {\r\n    setTimeout(function () {\r\n      if ($('#customerPersonalInformations').data('bootstrapValidator').isValid() === true) {\r\n        $('#choice_0').removeClass('has-error')\r\n        $('#choice_0 .help-block').css('display', 'none')\r\n        $('#choice_1').removeClass('has-error')\r\n        $('#choice_1 .help-block').css('display', 'none')\r\n        if ($(\".popin-wrapper[data-name='popin132']\").length !== 0) {\r\n          $(\".popin-wrapper[data-name='popin132']\").addClass('in')\r\n        } else {\r\n          createPopin132()\r\n        }\r\n        $('#validationButton_registerPage_register')[0].disabled = false\r\n        emptyInput()\r\n        detectInputValue()\r\n        return false\r\n      }\r\n    }, 200)\r\n  })\r\n\r\n  function checkAllSelected() {\r\n    if ($('#popin132 .allSelected input')[0].checked === true) {\r\n      $(\"#divBlockNews .custom-radio[value='yes']\").each(function () {\r\n        $(this)[0].checked = true\r\n      })\r\n    } else {\r\n      emptyInput()\r\n    }\r\n    detectInputValue()\r\n  }\r\n\r\n  function emptyInput() {\r\n    $('#divBlockNews .custom-radio, #divBlockNews .custom-checkbox').each(function () {\r\n      $(this)[0].checked = false\r\n    })\r\n  }\r\n\r\n  function detectInputValue() {\r\n    // const customRadioLength = $('#popin132 .form-group').length\r\n    // let customRadioLengthCPT = 0\r\n    $('#popin132 .custom-radio').each(function () {\r\n      if ($(this)[0].checked === true) {\r\n        // customRadioLengthCPT++\r\n      }\r\n    })\r\n    // if (customRadioLengthCPT === customRadioLength && $('#privacidadeRedouteYes')[0].checked === true) {\r\n    //   $('.acceptTerms').addClass('lr-button-success').removeClass('disabled')\r\n    // } else {\r\n    //   $('.acceptTerms').addClass('disabled').removeClass('lr-button-success')\r\n    // }\r\n  }\r\n})",value:null},{id:3125170,type:"addCSS",selector:"",oldValue:"#step2 #divBlockNews {\r\n  display: none;\r\n}\r\n\r\n#popin132 h4 {\r\npadding: 1.2em 0;\r\n  margin: auto;\r\n  background-color: #000;\r\n  color: #FFF;\r\n  text-align: center;\r\n}\r\n\r\n#popin132 label {\r\npadding: 0 30px 0 30px;\r\n}\r\n\r\n#popin132 #divBlockNews {\r\npadding: 2em;\r\n}\r\n\r\n#popin132 .popinText a {\r\ntext-decoration: underline;\r\n}\r\n\r\n#popin132 .popin-btn-close {\r\nbackground-color: transparent;\r\n}\r\n\r\n#popin132 .close:before,\r\n#popin132 .close:after {\r\ncolor: #fff;\r\n}\r\n\r\n#popin132 .lr-button-success {\r\ncursor: pointer;\r\n}\r\n\r\n#popin132 .doNotAccept {\r\n  padding: 1.5em 0 0 0;\r\n  margin: auto;\r\nborder: 0;\r\n  cursor: pointer;\r\n}\r\n\r\n#popin132 .pull-right {\r\nwidth: 35%;\r\ntext-align: right;\r\n}\r\n\r\n#popin132 .radio-inline {\r\n  width: 40%;\r\n}\r\n\r\n#popin132 .allSelected {\r\nmargin: 2em auto 1.5em auto;\r\n}\r\n\r\n#popin132 .allSelected .checkbox-inline {\r\n  margin: auto;\r\n  vertical-align: top;\r\n}\r\n\r\n#popin132 .allSelected label {\r\n/* padding: 0 2em 0 0; */\r\n  margin: auto;\r\n}\r\n\r\n#popin132 h4,\r\n#popin132 .allSelected,\r\n#popin132 .acceptTerms {\r\ntext-transform: uppercase;\r\n}\r\n\r\n#popin132 .acceptTerms.disabled {\r\n  cursor: auto;\r\n}\r\n\r\n@media screen and (max-width: 767px) {\r\n  #popin132 #divBlockNews {\r\n      padding: 1em;\r\n  }\r\n\r\n#popin132 .media-middle {\r\n  width: 50%;\r\n    display: inline-block;\r\n  }\r\n}",value:"#step2 #divBlockNews {\r\n  display: none;\r\n}\r\n\r\n#popin132 h4 {\r\npadding: 1.2em 0;\r\n  margin: auto;\r\n  background-color: #000;\r\n  color: #FFF;\r\n  text-align: center;\r\n}\r\n\r\n#popin132 label {\r\npadding: 0 30px 0 30px;\r\n}\r\n\r\n#popin132 #divBlockNews {\r\npadding: 2em;\r\n}\r\n\r\n#popin132 .popinText a {\r\ntext-decoration: underline;\r\n}\r\n\r\n#popin132 .popin-btn-close {\r\nbackground-color: transparent;\r\n}\r\n\r\n#popin132 .close:before,\r\n#popin132 .close:after {\r\ncolor: #fff;\r\n}\r\n\r\n#popin132 .lr-button-success {\r\ncursor: pointer;\r\n}\r\n\r\n#popin132 .doNotAccept {\r\n  padding: 1.5em 0 0 0;\r\n  margin: auto;\r\nborder: 0;\r\n  cursor: pointer;\r\n}\r\n\r\n#popin132 .pull-right {\r\nwidth: 35%;\r\ntext-align: right;\r\n}\r\n\r\n#popin132 .radio-inline {\r\n  width: 40%;\r\n}\r\n\r\n#popin132 .allSelected {\r\nmargin: 2em auto 1.5em auto;\r\n}\r\n\r\n#popin132 .allSelected .checkbox-inline {\r\n  margin: auto;\r\n  vertical-align: top;\r\n}\r\n\r\n#popin132 .allSelected label {\r\n/* padding: 0 2em 0 0; */\r\n  margin: auto;\r\n}\r\n\r\n#popin132 h4,\r\n#popin132 .allSelected,\r\n#popin132 .acceptTerms {\r\ntext-transform: uppercase;\r\n}\r\n\r\n#popin132 .acceptTerms.disabled {\r\n  cursor: auto;\r\n}\r\n\r\n@media screen and (max-width: 767px) {\r\n  #popin132 #divBlockNews {\r\n      padding: 1em;\r\n  }\r\n\r\n#popin132 .media-middle {\r\n  width: 50%;\r\n    display: inline-block;\r\n  }\r\n}"}],widgets:[],redirections:[]}}},610518:{id:610518,name:"Teste sticker carrinho pdp",traffic:100,type:"ab",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:"https://www.laredoute.pt/ppdp/prod"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{755883:{id:755883,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[{id:2940507,type:"editStyleCSS",selector:"#corePage DIV.tag-container:nth-child(3) A IMG",oldValue:"#corePage DIV.tag-container:nth-child(3) A IMG {width:320px!important;min-width:none!important;max-width:none!important;height:89px!important;min-height:none!important}",value:'{"width":"320px!important","min-width":"none!important","max-width":"none!important","height":"89px!important","min-height":"none!important"}'}],widgets:[],redirections:[]}}},626798:{id:626798,name:"Customer birthday code",traffic:100,type:"multipage",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:40,value:"master"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{777557:{id:777557,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[],widgets:[],redirections:[]}},children:[626799,626800,626801]},626799:{id:626799,name:"Home page",traffic:100,type:"ab",parentID:626798,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"waituntil",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:".laredoute.pt"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{777558:{id:777558,name:"Variation 1",traffic:100,masterVariationId:777557,modifications:[{id:2972498,type:"addCSS",selector:"",oldValue:"#jaRoom {position:relative; margin: 20px 0; line-height:normal;}\r\n.hpzsa-perso {position:relative; max-width:1440px;}\r\n.hpzsa-perso .encart {position:absolute; left:50%; top:15%;text-align:center;max-width:460px;}\r\n.hpzsa-perso .perso-nom {font-size:30px; color:#fff; margin:15px 0}\r\n.hpzsa-perso .cartouche {width:90%; margin:10px auto;background:#fff;padding:10px 0}\r\n.hpzsa-perso .cartouche-accroche {letter-spacing:2px; text-transform:uppercase;font-size:30px; font-weight:600; color:#d98915;}\r\n.hpzsa-perso .cartouche-texte {font-size:18px;}\r\n.hpzsa-perso .cta-perso {margin-top:50px;}\r\n.hpzsa-perso .cta-perso .lr-button {color:#fff;border: 1px solid #fff;background:none;min-width:260px;padding:15px 0;font-size:16px;}\r\n.hpzsa-perso .cta-perso .lr-button-secondary::after {background-color: #000;}\r\n.hpzsa-perso .cta-perso .lr-button-secondary:hover, .cta-perso .lr-button-secondary:focus {color: #fff;}\r\n.hpzsa-perso .perso-close {position:absolute; right:10px; top:10px;padding:10px;cursor:pointer;}\r\n\r\n@media screen and (max-width: 1200px) {\r\n    .hpzsa-perso .encart {top:10%;}\r\n}\r\n@media screen and (min-width: 982px) and (max-width: 1200px) {\r\n\t.hpzsa-perso .cta-perso {margin-top:30px;}\r\n}\r\n\r\n.hpzsa-m-perso {position:relative; max-width:992px;}\r\n.hpzsa-m-perso .perso-nom {position:absolute; left:0; top:30%;text-align:center;width:100%;font-size:50px; color:#fff;}\r\n.hpzsa-m-perso .perso-close {position:absolute; right:10px; top:10px;padding:10px;}\r\n\r\n@media screen and (max-width: 675px) {\r\n    .hpzsa-m-perso .perso-nom {top:30%;font-size:40px;}\r\n}\r\n@media screen and (max-width: 499px) {\r\n    .hpzsa-m-perso .perso-nom {top:30%;font-size:30px;}\r\n}\r\n@media screen and (max-width: 375px) {\r\n    .hpzsa-m-perso .perso-nom {top:30%;font-size:25px;}\r\n}",value:"#jaRoom {position:relative; margin: 20px 0; line-height:normal;}\r\n.hpzsa-perso {position:relative; max-width:1440px;}\r\n.hpzsa-perso .encart {position:absolute; left:50%; top:15%;text-align:center;max-width:460px;}\r\n.hpzsa-perso .perso-nom {font-size:30px; color:#fff; margin:15px 0}\r\n.hpzsa-perso .cartouche {width:90%; margin:10px auto;background:#fff;padding:10px 0}\r\n.hpzsa-perso .cartouche-accroche {letter-spacing:2px; text-transform:uppercase;font-size:30px; font-weight:600; color:#d98915;}\r\n.hpzsa-perso .cartouche-texte {font-size:18px;}\r\n.hpzsa-perso .cta-perso {margin-top:50px;}\r\n.hpzsa-perso .cta-perso .lr-button {color:#fff;border: 1px solid #fff;background:none;min-width:260px;padding:15px 0;font-size:16px;}\r\n.hpzsa-perso .cta-perso .lr-button-secondary::after {background-color: #000;}\r\n.hpzsa-perso .cta-perso .lr-button-secondary:hover, .cta-perso .lr-button-secondary:focus {color: #fff;}\r\n.hpzsa-perso .perso-close {position:absolute; right:10px; top:10px;padding:10px;cursor:pointer;}\r\n\r\n@media screen and (max-width: 1200px) {\r\n    .hpzsa-perso .encart {top:10%;}\r\n}\r\n@media screen and (min-width: 982px) and (max-width: 1200px) {\r\n\t.hpzsa-perso .cta-perso {margin-top:30px;}\r\n}\r\n\r\n.hpzsa-m-perso {position:relative; max-width:992px;}\r\n.hpzsa-m-perso .perso-nom {position:absolute; left:0; top:30%;text-align:center;width:100%;font-size:50px; color:#fff;}\r\n.hpzsa-m-perso .perso-close {position:absolute; right:10px; top:10px;padding:10px;}\r\n\r\n@media screen and (max-width: 675px) {\r\n    .hpzsa-m-perso .perso-nom {top:30%;font-size:40px;}\r\n}\r\n@media screen and (max-width: 499px) {\r\n    .hpzsa-m-perso .perso-nom {top:30%;font-size:30px;}\r\n}\r\n@media screen and (max-width: 375px) {\r\n    .hpzsa-m-perso .perso-nom {top:30%;font-size:25px;}\r\n}"},{id:2972499,type:"customScriptNew",selector:"",oldValue:'$(\'#panel2\').before(\'<div id="jaRoom"></div>\');\r\n$(\'#jaRoom\').append(\'<div class="catalog-block" id="reco_hb"><div class="module-bg bg-hb"></div> <div class="container carousel-container apply-reco" data-widget="5f6245a2b8504002a0584cb8"> <div class="reco-title catalog-subtitle">_____________</div> <div class="carousel"> <div class="carousel-item"> <div class="product"> <div class="product-img-container"> <picture> <img src="/m/images/PDP/placeholder_302.png" class="product-img"> </picture> </div> <div class="product-info"> <span class="product-brand">_____</span> <div class="product-title text-ellipsis">__________</div> <div class="product-price-container"> <span class="product-price">__</span> </div> </div> </div> </div><div class="carousel-item"> <div class="product"> <div class="product-img-container"> <picture> <img src="/m/images/PDP/placeholder_302.png" class="product-img"> </picture> </div> <div class="product-info"> <span class="product-brand">_____</span> <div class="product-title text-ellipsis">__________</div> <div class="product-price-container"> <span class="product-price">__</span> </div> </div> </div> </div><div class="carousel-item"> <div class="product"> <div class="product-img-container"> <picture> <img src="/m/images/PDP/placeholder_302.png" class="product-img"> </picture> </div> <div class="product-info"> <span class="product-brand">_____</span> <div class="product-title text-ellipsis">__________</div> <div class="product-price-container"> <span class="product-price">__</span> </div> </div> </div> </div><div class="carousel-item"> <div class="product"> <div class="product-img-container"> <picture> <img src="/m/images/PDP/placeholder_302.png" class="product-img"> </picture> </div> <div class="product-info"> <span class="product-brand">_____</span> <div class="product-title text-ellipsis">__________</div> <div class="product-price-container"> <span class="product-price">__</span> </div> </div> </div> </div><div class="carousel-item"> <div class="product"> <div class="product-img-container"> <picture> <img src="/m/images/PDP/placeholder_302.png" class="product-img"> </picture> </div> <div class="product-info"> <span class="product-brand">_____</span> <div class="product-title text-ellipsis">__________</div> <div class="product-price-container"> <span class="product-price">__</span> </div> </div> </div> </div></div> </div></div>\');\r\n\r\n\r\n$(document).ready(function(){\r\n\tvar now = new Date();\r\n\tvar annee   = now.getFullYear();\r\n\tvar mois    = now.getMonth() + 1;\r\n\tvar jour    = now.getDate();\r\n\tif (mois<10){mois = \'0\'+mois};\r\n\tif (jour<10){jour = \'0\'+jour};\r\n\tvar datedujour = annee+\'\'+mois+\'\'+jour;\r\n\t\r\n    var interval, repeatInterval = 5, nbInterval = 1;\r\n    $(\'#reco_hb\').hide();\r\n\tvar User = window.Utils.CookieManager["ReadCookie"]("M.R.User")\r\n\tif(User !== null){\r\n\tvar userSplited = User.split(\'&\',1);\r\n\tvar name = userSplited[0].split(\'UserFName=\');\r\n\tsetInterProductReco();\r\n\tbirthday();\r\n\t}\r\n    \r\n\tfunction readCookie(nameCookie) {\r\n        var nameEQ = nameCookie + "=";\r\n        var ca = document.cookie.split(\';\');\r\n        for(var i=0;i < ca.length;i++) {\r\n            var c = ca[i];\r\n            while (c.charAt(0)==\' \') c = c.substring(1,c.length);\r\n            if (c.indexOf(nameEQ) == 0){\r\n    \t\t\treturn c.substring(nameEQ.length,c.length);\r\n    \t\t}\r\n        }\r\n        return \'cookie_vide\';\r\n    }\r\n\t\r\n\tfunction productRecoCta() {\r\n        var hrefArray = [];\r\n        var cpt = 1;\r\n        $("#reco_hb .product a").each (function() {\r\n            if (cpt > 10) {\r\n                return false;\r\n            }\r\n            var hrefProduct = $(this).attr("href").slice(11,20);\r\n            hrefArray.push(hrefProduct);\r\n            cpt++;\r\n        });\r\n\t\tvar idArray = hrefArray.join("|");\r\n        var productsIds = "&productsIds=" + idArray;\r\n\t\tvar newLink = $(".linkRecoHp").attr("href") + productsIds;\r\n\t\t$(".linkRecoHp").attr("href", newLink);\r\n    }\r\n\r\n    function initProductRecoCta() {\r\n    \tvar reco = $("#reco_hb");\r\n    \tvar imgSrc = $("#reco_hb img").attr("src");\r\n    \tvar attrSrc = "placeholder";\r\n    \tif (reco.css(\'display\') == \'block\') {\r\n    \t\tif (imgSrc.indexOf(attrSrc) == -1) {\r\n                if($("#reco_hb .product a").length != 0  && $(".linkRecoHp").length != 0) {\r\n    \t\t\t    productRecoCta();\r\n                    clearInterval(interval);\r\n                }\r\n    \t\t}\r\n    \t}\r\n\r\n        if (nbInterval >= repeatInterval) {\r\n            clearInterval(interval);\r\n        }\r\n        nbInterval++;\r\n    }\r\n\r\n    function setInterProductReco() {\r\n    \tinterval = window.setInterval(initProductRecoCta, 1000);\r\n    }\r\n\t\r\n\tfunction birthday() {\r\n\t\tvar url = "/servicemyaccount/getcustomerpersonalisation.aspx";\r\n\t\treturn $.ajax({\r\n\t\t\ttype: "GET",\r\n\t\t\turl: url,\r\n\t\t\tasync: true,\r\n\t\t\tcache: true,\r\n\t\t\tcontentType: "application/json;charset=utf-8",\r\n\t\t\tdataType: "json",\r\n\t\t\tprocessData: false,\r\n\t\t\tsuccess: function (data) {\r\n                if (readCookie(\'psf004-data\') !== \'cookie_vide\') {\r\n                    data = JSON.parse(readCookie(\'psf004-data\'));\r\n                }\r\n                if(data.hasOwnProperty(\'R5\') && data.R5.hasOwnProperty(\'DATE\') && data.R5.hasOwnProperty(\'DATE_END\')){\r\n                    console.log("API DATA OK");\r\n\t\t\t\t\tvar dateannivfull = data.R5.DATE.split(\'-\');\r\n\t\t\t\t\tvar dateanniv = dateannivfull[0]+\'\'+dateannivfull[1]+\'\'+dateannivfull[2];\r\n\t\t\t\t\tvar jourCompteur = data.R5.DATE_END;\r\n\t\t\t\t\tvar findateannivfull = jourCompteur.split(\'-\');\r\n\t\t\t\t\tvar findateanniv = findateannivfull[0]+\'\'+findateannivfull[1]+\'\'+findateannivfull[2];\r\n\t\t\t\t\tvar displayAnniv = "hidden";\r\n\t\t\t\t\tvar displayEncoreTemps = "";\r\n\t\t\t\t\tvar marginTop50 = "marginTop50";\r\n\t\t\t\t\tvar marginTop20 = "marginTop20";\r\n\t\t\t\t\tif(datedujour==dateanniv){\r\n                        displayAnniv = "";\r\n                        displayEncoreTemps = "hidden";\r\n                        marginTop50=\'\';\r\n                        marginTop20=\'\';\r\n                    }\r\n\t\t\t\t\tif(datedujour<=findateanniv && datedujour>=dateanniv){\r\n\t\t\t\t\t\t$(\'#jaRoom\').prepend(\'<div class="hpzsa-perso hidden-xs hidden-sm"><a href="/feliz-aniversario.aspx"><img src="https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/hpzsa.jpg"><div class="encart"><img src="https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/feliz.png"><div class="perso-nom">\'+name[1]+\'</div><div class="cartouche"><div class="cartouche-accroche">Hoje é o seu dia!</div><div class="cartouche-texte">Preparámos para si uma seleção de artigos...</div></div><div class="cta-perso"><div class="lr-button lr-button-secondary">Veja aqui &#8227;</div></div></div></a></div><div class="hpzsa-m-perso hidden-lg hidden-md"><a href="/feliz-aniversario.aspx"><img src="https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/hpzsa-m.jpg"><div class="perso-nom">\'+name[1]+\'</div></a></div>\');\r\n\t\t\t\t\t\t$(\'#reco_hp\').remove();\r\n\t\t\t\t\t\t$(\'#reco_hb\').show();\r\n\t\t\t\t\t\t_page.Blocs.reco.init(_page, pageName);\r\n\t\t\t\t\t\t$( ".perso-close" ).click(function() {\r\n\t\t\t\t\t\t$(\'#jaRoom\').hide();\r\n\t\t\t\t\t\tsessionStorage.setItem("ja_plp", "hide");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif(sessionStorage.ja_plp==\'hide\'){$(\'#jaRoom\').hide();}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tvar nbvisites = sessionStorage.getItem(\'persovues\');\r\n\tif(nbvisites!=null) {\r\n\t\tnbvisites = parseInt(nbvisites);\r\n\t} else {\r\n\t\tnbvisites = 1;\r\n\t}\r\n\tnbvisites++;\r\n\tsessionStorage.setItem(\'persovues\',nbvisites);\r\n\tif(nbvisites>3) {\r\n\t\t$(\'#jaRoom\').hide();\r\n\t}\r\n\t\r\n});',value:null}],widgets:[],redirections:[]}},audienceTrigger:{name:"Audience of the account38462",id:"171db6da-4ecc-4bc8-8a00-81e2dae22196",targeting_groups:[{position:0,id:"721685cd-b00a-47d3-8ecd-1cf0b9e4d318",targetings:[{id:"b4cf9893-204c-4bf2-9199-f07f30582f5d",operator:"and",position:0,targeting_type:40,conditions:[{id:"e3961aab-c8da-4785-9b40-c821027ede2c",value:"return (tc_vars[\"env_template\"].indexOf('HP')!==-1);",include:!0}]}]}],is_segment:!1},audienceSegment:{name:"SegmentR5",id:"7755c968-9eb7-4894-8b9f-6e1fd2037933",targeting_groups:[{position:0,id:"bc6264fa-7539-4163-91d8-9ae23f4e6f6f",targetings:[{id:"115e088a-0c39-40d7-aeb5-5c8b84484e0a",operator:"or",position:0,targeting_type:20,conditions:[{id:"0412f151-d21f-4b0e-9ad6-d959be03ae1a",name:"Segmentation",value:null,include:!0}]}]}],is_segment:!0},siblings:[626800,626801]},626800:{id:626800,name:"Magasin",traffic:100,type:"ab",parentID:626798,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"waituntil",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:".laredoute.pt"},{include:!1,condition:10,value:"shoppingbasket"},{include:!1,condition:10,value:"laredoute.fr/ppdp"},{include:!1,condition:10,value:"/feliz-aniversario.aspx"},{include:!0,condition:1,value:".laredoute.pt/pplp"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[{include:!0,to:0,range:!1,from:"1829295054"},{include:!0,to:0,range:!1,from:"1552705174"},{include:!0,to:0,range:!1,from:"100216366"},{include:!0,to:0,range:!1,from:"1375601918"}]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{777559:{id:777559,name:"Variation 1",traffic:100,masterVariationId:777557,modifications:[{id:2972500,type:"addCSS",selector:"",oldValue:".plp-perso {position:relative; max-width:1440px;margin:0 auto 15px;}\r\n.plp-perso .perso-nom {position:absolute; left:50%; bottom:0;font-size:20px; color:#000;min-width:30%;text-align:center;}\r\n.plp-perso .perso-close {position:absolute; right:5px; top:5px;padding:10px;z-index:10;cursor: pointer;}\r\n\r\n@media screen and (max-width: 1200px) {\r\n    .plp-perso .perso-nom {font-size:16px;}\r\n}\r\n\r\n.plp-m-perso {position:relative; max-width:900px;margin:0 auto 15px;}\r\n.plp-m-perso .perso-nom {position:absolute;width:100%; left:34%; top:0; padding-top:5px;text-align:center;max-width:60%;font-size:22px; color:#000;}\r\n.plp-m-perso .perso-close {position:absolute; right:0; top:0;padding:10px;z-index:10;cursor: pointer;}\r\n\r\n@media screen and (max-width: 675px) {\r\n.plp-m-perso .perso-nom {padding-bottom:2px;font-size:16px;}\r\n}\r\n@media screen and (max-width: 499px) {\r\n.plp-m-perso .perso-nom {padding-bottom:2px;font-size:12px;}\r\n}\r\n@media screen and (max-width: 375px) {\r\n.plp-m-perso .perso-nom {padding-bottom:2px;font-size:10px;}\r\n}",value:".plp-perso {position:relative; max-width:1440px;margin:0 auto 15px;}\r\n.plp-perso .perso-nom {position:absolute; left:50%; bottom:0;font-size:20px; color:#000;min-width:30%;text-align:center;}\r\n.plp-perso .perso-close {position:absolute; right:5px; top:5px;padding:10px;z-index:10;cursor: pointer;}\r\n\r\n@media screen and (max-width: 1200px) {\r\n    .plp-perso .perso-nom {font-size:16px;}\r\n}\r\n\r\n.plp-m-perso {position:relative; max-width:900px;margin:0 auto 15px;}\r\n.plp-m-perso .perso-nom {position:absolute;width:100%; left:34%; top:0; padding-top:5px;text-align:center;max-width:60%;font-size:22px; color:#000;}\r\n.plp-m-perso .perso-close {position:absolute; right:0; top:0;padding:10px;z-index:10;cursor: pointer;}\r\n\r\n@media screen and (max-width: 675px) {\r\n.plp-m-perso .perso-nom {padding-bottom:2px;font-size:16px;}\r\n}\r\n@media screen and (max-width: 499px) {\r\n.plp-m-perso .perso-nom {padding-bottom:2px;font-size:12px;}\r\n}\r\n@media screen and (max-width: 375px) {\r\n.plp-m-perso .perso-nom {padding-bottom:2px;font-size:10px;}\r\n}"},{id:2972501,type:"customScriptNew",selector:"",oldValue:"$(document).ready(function(){\r\n\tif($('#plpperso').length < 1){\t\r\n\tvar User = window.Utils.CookieManager[\"ReadCookie\"](\"M.R.User\")\r\n\tif(User !== null){\r\n\tvar userSplited = User.split('&',1);\r\n\tvar name = userSplited[0].split('UserFName=');\r\n\tbirthday();\r\n\t}\t\t\t\r\n}\r\n\t\r\nfunction readCookie(nameCookie) {\r\n        var nameEQ = nameCookie + \"=\";\r\n        var ca = document.cookie.split(';');\r\n        for(var i=0;i < ca.length;i++) {\r\n            var c = ca[i];\r\n            while (c.charAt(0)==' ') c = c.substring(1,c.length);\r\n            if (c.indexOf(nameEQ) == 0){\r\n    \t\t\treturn c.substring(nameEQ.length,c.length);\r\n    \t\t}\r\n        }\r\n        return 'cookie_vide';\r\n    }\r\n\t\t\r\n\tfunction birthday() {\r\n\t\tvar now = new Date();\r\n\t\tvar annee   = now.getFullYear();\r\n\t\tvar mois    = now.getMonth() + 1;\r\n\t\tvar jour    = now.getDate();\r\n\t\tif (mois<10){mois = '0'+mois};\r\n\t\tif (jour<10){jour = '0'+jour};\r\n\t\tvar datedujour = annee+''+mois+''+jour;\r\n\t\tvar url = \"/servicemyaccount/getcustomerpersonalisation.aspx\";\r\n\t\treturn $.ajax({\r\n\t\t\ttype: \"GET\",\r\n\t\t\turl: url,\r\n\t\t\tasync: true,\r\n\t\t\tcache: true,\r\n\t\t\tcontentType: \"application/json;charset=utf-8\",\r\n\t\t\tdataType: \"json\",\r\n\t\t\tprocessData: false,\r\n\t\t\tsuccess: function (data) {\r\n                if (readCookie('psf004-data') !== 'cookie_vide') {\r\n                    data = JSON.parse(readCookie('psf004-data'));\r\n                }\r\n                if(data.hasOwnProperty('R5') && data.R5.hasOwnProperty('DATE') && data.R5.hasOwnProperty('DATE_END')){\r\n                    console.log(\"API DATA OK\");\r\n\t\t\t\t\tvar dateannivfull = data.R5.DATE.split('-');\r\n\t\t\t\t\tvar dateanniv = dateannivfull[0]+''+dateannivfull[1]+''+dateannivfull[2];\r\n\t\t\t\t\tvar jourCompteur = data.R5.DATE_END;\r\n\t\t\t\t\tvar findateannivfull = jourCompteur.split('-');\r\n\t\t\t\t\tvar findateanniv = findateannivfull[0]+''+findateannivfull[1]+''+findateannivfull[2];\r\n\t\t\t\t\tvar displayAnniv = \"hidden\";\r\n\t\t\t\t\tvar displayEncoreTemps = \"\";\r\n\t\t\t\t\tvar marginTop50 = \"marginTop50\";\r\n\t\t\t\t\tvar marginTop20 = \"marginTop20\";\r\n\t\t\t\t\tif(datedujour==dateanniv){\r\n                        displayAnniv = \"\";\r\n                        displayEncoreTemps = \"hidden\";\r\n                        marginTop50='';\r\n                        marginTop20='';\r\n                    }\r\n\t\t\t\t\tif(datedujour<=findateanniv && datedujour>=dateanniv){\r\n\t\t\t\t\t\t$('#corePage').prepend('<div id=\"plpperso\" class=\"plp-perso-cont\"><div class=\"plp-perso hidden-xs hidden-sm\"><a href=\"/feliz-aniversario.aspx\"><img src=\"https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/plp-v2.jpg\"><div class=\"perso-nom\">'+name[1]+'</div></a><div class=\"perso-close\"><img src=\"https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/plp-close.png\"></div></div><div class=\"plp-m-perso hidden-lg hidden-md\"><a href=\"/feliz-aniversario.aspx\"><img src=\"https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/plp-v2-m.jpg\"><div class=\"perso-nom\">'+name[1]+'</div></a><div class=\"perso-close\"><img src=\"https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/plp-close.png\"></div></div></div>');\r\n\t\t\t\t\t\t$( \".perso-close\" ).click(function() {\r\n\t\t\t\t\t\t$('#plpperso').hide();\r\n\t\t\t\t\t\tsessionStorage.setItem(\"ja_plp\", \"hide\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif(sessionStorage.ja_plp=='hide'){$('#plpperso').hide();}\r\n\t\t\t\t\t\t$('.plp-perso-cont:eq(1)').remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\t\t\r\n});",value:null}],widgets:[],redirections:[]}},audienceTrigger:{name:"Audience of the account38462",id:"8235afcc-a083-4152-8eb1-86ed438b9a54",targeting_groups:[{position:0,id:"c6e485a5-2ebb-42e9-84ce-7e468c10ee48",targetings:[{id:"40e4756b-b962-4d1e-b0e6-bf1670283b59",operator:"and",position:0,targeting_type:40,conditions:[{id:"375d9880-3486-45ef-8150-cc99faea01cc",value:"return (tc_vars[\"env_template\"].indexOf('HP')!==0);",include:!0}]}]}],is_segment:!1},audienceSegment:{name:"SegmentR5",id:"7755c968-9eb7-4894-8b9f-6e1fd2037933",targeting_groups:[{position:0,id:"bc6264fa-7539-4163-91d8-9ae23f4e6f6f",targetings:[{id:"115e088a-0c39-40d7-aeb5-5c8b84484e0a",operator:"or",position:0,targeting_type:20,conditions:[{id:"0412f151-d21f-4b0e-9ad6-d959be03ae1a",name:"Segmentation",value:null,include:!0}]}]}],is_segment:!0},siblings:[626799,626801]},626801:{id:626801,name:"Panier",traffic:100,type:"ab",parentID:626798,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"waituntil",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:"/shoppingbasket/basket"},{include:!1,condition:10,value:"shoppingbasket/basketdelivery"},{include:!1,condition:10,value:"shoppingbasket/basketpayment"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[{include:!0,to:0,range:!1,from:"1829295054"},{include:!0,to:0,range:!1,from:"1375601918"},{include:!0,to:0,range:!1,from:"100216366"},{include:!0,to:0,range:!1,from:"1552705174"}]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{777560:{id:777560,name:"Variation 1",traffic:100,masterVariationId:777557,modifications:[{id:2972502,type:"addCSS",selector:"",oldValue:".bsk-perso {position:relative; max-width:1352px;margin:0 auto 20px;}\r\n.bsk-perso .perso-nom {position:absolute; left:73%; top:50%;transform:translateY(-50%);font-size:20px; color:#000;}\r\n.bsk-perso .perso-close {position:absolute; right:5px; top:5px;padding:10px;cursor:pointer;}\r\n\r\n@media screen and (max-width: 1024px) {\r\n    .bsk-perso .perso-nom {font-size:18px;}\r\n}\r\n\r\n.bsk-m-perso {position:relative; max-width:981px;}\r\n.bsk-m-perso .perso-img-mobile  {display:block; width:100%;}\r\n.bsk-m-perso .perso-nom {position:absolute;width:100%; left:38%; bottom:0; padding-bottom:5px;text-align:center;max-width:60%;font-size:22px; color:#000;}\r\n.bsk-m-perso .perso-close {position:absolute; right:0; top:0;padding:10px;cursor:pointer;}\r\n\r\n@media screen and (max-width: 675px) {\r\n.bsk-m-perso .perso-nom {padding-bottom:2px;font-size:15px;}\r\n}\r\n@media screen and (max-width: 499px) {\r\n.bsk-m-perso .perso-nom {padding-bottom:2px;font-size:12px;}\r\n}\r\n@media screen and (max-width: 375px) {\r\n.bsk-m-perso .perso-nom {padding-bottom:2px;font-size:10px;}\r\n}",value:".bsk-perso {position:relative; max-width:1352px;margin:0 auto 20px;}\r\n.bsk-perso .perso-nom {position:absolute; left:73%; top:50%;transform:translateY(-50%);font-size:20px; color:#000;}\r\n.bsk-perso .perso-close {position:absolute; right:5px; top:5px;padding:10px;cursor:pointer;}\r\n\r\n@media screen and (max-width: 1024px) {\r\n    .bsk-perso .perso-nom {font-size:18px;}\r\n}\r\n\r\n.bsk-m-perso {position:relative; max-width:981px;}\r\n.bsk-m-perso .perso-img-mobile  {display:block; width:100%;}\r\n.bsk-m-perso .perso-nom {position:absolute;width:100%; left:38%; bottom:0; padding-bottom:5px;text-align:center;max-width:60%;font-size:22px; color:#000;}\r\n.bsk-m-perso .perso-close {position:absolute; right:0; top:0;padding:10px;cursor:pointer;}\r\n\r\n@media screen and (max-width: 675px) {\r\n.bsk-m-perso .perso-nom {padding-bottom:2px;font-size:15px;}\r\n}\r\n@media screen and (max-width: 499px) {\r\n.bsk-m-perso .perso-nom {padding-bottom:2px;font-size:12px;}\r\n}\r\n@media screen and (max-width: 375px) {\r\n.bsk-m-perso .perso-nom {padding-bottom:2px;font-size:10px;}\r\n}"},{id:2972503,type:"customScriptNew",selector:"",oldValue:"$(document).ready(function(){\r\n\tif($('#persopanier').length < 1){\r\n\tvar User = window.Utils.CookieManager[\"ReadCookie\"](\"M.R.User\")\r\n\tif(User !== null){\r\n\tvar userSplited = User.split('&',1);\r\n\tvar name = userSplited[0].split('UserFName=');\r\n\tbirthday();\r\n\t}\r\n }\t\r\n\r\n\tfunction readCookie(nameCookie) {\r\n        var nameEQ = nameCookie + \"=\";\r\n        var ca = document.cookie.split(';');\r\n        for(var i=0;i < ca.length;i++) {\r\n            var c = ca[i];\r\n            while (c.charAt(0)==' ') c = c.substring(1,c.length);\r\n            if (c.indexOf(nameEQ) == 0){\r\n    \t\t\treturn c.substring(nameEQ.length,c.length);\r\n    \t\t}\r\n        }\r\n        return 'cookie_vide';\r\n    }\r\n\t\t\r\n\tfunction birthday() {\r\n\t\tvar now = new Date();\r\n\t\tvar annee   = now.getFullYear();\r\n\t\tvar mois    = now.getMonth() + 1;\r\n\t\tvar jour    = now.getDate();\r\n\t\tif (mois<10){mois = '0'+mois};\r\n\t\tif (jour<10){jour = '0'+jour};\r\n\t\tvar datedujour = annee+''+mois+''+jour;\r\n\t\tvar url = \"/servicemyaccount/getcustomerpersonalisation.aspx\";\r\n\t\treturn $.ajax({\r\n\t\t\ttype: \"GET\",\r\n\t\t\turl: url,\r\n\t\t\tasync: true,\r\n\t\t\tcache: true,\r\n\t\t\tcontentType: \"application/json;charset=utf-8\",\r\n\t\t\tdataType: \"json\",\r\n\t\t\tprocessData: false,\r\n\t\t\tsuccess: function (data) {\r\n                if (readCookie('psf004-data') !== 'cookie_vide') {\r\n                    data = JSON.parse(readCookie('psf004-data'));\r\n                }\r\n                if(data.hasOwnProperty('R5') && data.R5.hasOwnProperty('DATE') && data.R5.hasOwnProperty('DATE_END')){\r\n                    console.log(\"API DATA OK\");\r\n\t\t\t\t\tvar dateannivfull = data.R5.DATE.split('-');\r\n\t\t\t\t\tvar dateanniv = dateannivfull[0]+''+dateannivfull[1]+''+dateannivfull[2];\r\n\t\t\t\t\tvar jourCompteur = data.R5.DATE_END;\r\n\t\t\t\t\tvar findateannivfull = jourCompteur.split('-');\r\n\t\t\t\t\tvar findateanniv = findateannivfull[0]+''+findateannivfull[1]+''+findateannivfull[2];\r\n\t\t\t\t\tvar displayAnniv = \"hidden\";\r\n\t\t\t\t\tvar displayEncoreTemps = \"\";\r\n\t\t\t\t\tvar marginTop50 = \"marginTop50\";\r\n\t\t\t\t\tvar marginTop20 = \"marginTop20\";\r\n\t\t\t\t\tif(datedujour==dateanniv){\r\n                        displayAnniv = \"\";\r\n                        displayEncoreTemps = \"hidden\";\r\n                        marginTop50='';\r\n                        marginTop20='';\r\n                    }\r\n\t\t\t\t\tif(datedujour<=findateanniv && datedujour>=dateanniv){\r\n\t\t\t\t\t\t$('.checkout-container').prepend('<div id=\"persopanier\" class=\"bsk-perso-cont\"><div class=\"bsk-perso hidden-xs hidden-sm\"><img src=\"https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/bsk.jpg\"><div class=\"perso-nom\">'+name[1]+'</div><div class=\"perso-close\"><img src=\"https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/bsk-close.png\"></div></div><div class=\"bsk-m-perso hidden-lg hidden-md\"><img class=\"perso-img-mobile\" src=\"https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/bsk-m.jpg\"><div class=\"perso-nom\">'+name[1]+'</div><div class=\"perso-close\"><img src=\"https://cdn.laredoute.com/marketing/Studio/PT/Perso/birthday/bsk-close.png\"></div></div></div>');\r\n\t\t\t\t\t\t$( \".perso-close\" ).click(function() {\r\n\t\t\t\t\t\t$('#persopanier').hide();\r\n\t\t\t\t\t\tsessionStorage.setItem(\"ja_plp\", \"hide\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif(sessionStorage.ja_plp=='hide'){$('#persopanier').hide();}\r\n\t\t\t\t\t\t$('.bsk-perso-cont:eq(1)').remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\t\r\n});",value:null}],widgets:[],redirections:[]}},audienceSegment:{name:"SegmentR5",id:"7755c968-9eb7-4894-8b9f-6e1fd2037933",targeting_groups:[{position:0,id:"bc6264fa-7539-4163-91d8-9ae23f4e6f6f",targetings:[{id:"115e088a-0c39-40d7-aeb5-5c8b84484e0a",operator:"or",position:0,targeting_type:20,conditions:[{id:"0412f151-d21f-4b0e-9ad6-d959be03ae1a",name:"Segmentation",value:null,include:!0}]}]}],is_segment:!0},siblings:[626799,626800]},635186:{id:635186,name:"PDP DFO",traffic:100,type:"mastersegment",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:40,value:"master"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{788384:{id:788384,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[],widgets:[],redirections:[]}},children:[635187]},635187:{id:635187,name:"PDP",traffic:100,type:"subsegment",parentID:635186,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:1,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:"/ppdp/prod"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{788385:{id:788385,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[{id:3010021,type:"hideCSS",selector:"#services .delivery-info-item.delivery-info-service.cursor-pointer.product-service-1",oldValue:"#services .delivery-info-item.delivery-info-service.cursor-pointer.product-service-1 {display:none!important;}",value:""},{id:3010023,type:"hideCSS",selector:"#services .delivery-info-item.delivery-info-service.cursor-pointer.product-service-2",oldValue:"#services .delivery-info-item.delivery-info-service.cursor-pointer.product-service-2 {display:none!important;}",value:""},{id:3010025,type:"hideCSS",selector:"#services .delivery-info-item.delivery-info-service.cursor-pointer.product-service-3",oldValue:"#services .delivery-info-item.delivery-info-service.cursor-pointer.product-service-3 {display:none!important;}",value:""},{id:3013367,type:"editText",selector:"#label-vendor",oldValue:"Entrega exclusiva ao domic&iacute;lio pela pr&oacute;pria marca",value:"Entrega exclusiva ao domic&iacute;lio pela pr&oacute;pria marca"},{id:3013381,type:"editHtml",selector:"#corePage DIV.delivery-info .delivery-info-container .delivery-info-item.delivery-info",oldValue:'<li xmlns="http://www.w3.org/1999/xhtml" class="delivery-info-item delivery-info delivery-info-content " data-text="Trocas &amp; Devoluções &lt;b&gt;GRÁTIS*&lt;/b&gt;" data-marketplace-delivery="" data-marketplace-deliveryinplace="" data-cerberus="txt_pdp_stickerBulkyDelivery1" data-is-lr-and-me="False"><span class="lr-tick lr-tick-light-success"></span><span class="lr-tick lr-tick-light-success"></span>\n                <span class="lr-tick lr-tick-light-success"></span>\n\nArtigo com condições especiais de <u><a target="_blank" href="/sellconditions.aspx#15">garantia/devolução</a></u>             </li>',value:'<li xmlns="http://www.w3.org/1999/xhtml" class="delivery-info-item delivery-info delivery-info-content " data-text="Trocas &amp; Devoluções &lt;b&gt;GRÁTIS*&lt;/b&gt;" data-marketplace-delivery="" data-marketplace-deliveryinplace="" data-cerberus="txt_pdp_stickerBulkyDelivery1" data-is-lr-and-me="False"><span class="lr-tick lr-tick-light-success"></span><span class="lr-tick lr-tick-light-success"></span>\n                <span class="lr-tick lr-tick-light-success"></span>\n\nArtigo com condições especiais de <u><a target="_blank" href="/sellconditions.aspx#15">garantia/devolução</a></u>             </li>'},{id:3054298,type:"copyBefore",selector:"#corePage div.delivery-info .delivery-info-container li.delivery-info-item.delivery-info.delivery-info-content:nth-child(3)",oldValue:"$('#corePage div.delivery-info .delivery-info-container li.delivery-info-item.delivery-info.delivery-info-content:nth-child(3)').before( $('#corePage div.delivery-info .delivery-info-container li.delivery-info-item.delivery-info.delivery-info-content:nth-child(3)').clone(true,true).attr('id','ABTastyClonedElement_0') );",value:"#corePage div.delivery-info .delivery-info-container li.delivery-info-item.delivery-info.delivery-info-content:nth-child(3)"},{id:3054304,type:"editHtml",selector:"#corePage .lr-container.main-product-container > div.row:nth-child(1) .col-xs-12.col-sm-5 div.delivery-info",oldValue:'<div xmlns="http://www.w3.org/1999/xhtml" id="pdpDeliveryInfo_350214213" class="delivery-info">\n        <div class="delivery-info-item delivery-delay" style="">\n            <span class="lr-icon lr-icon-clock-success js-delivery-picto"></span>\n            <span class="bold delivery" data-cerberus="txt_pdp_stockAlert1">EM STOCK</span>\n            <span class="delay" data-cerberus="txt_pdp_stockDeliveryDate1"></span>\n        </div>\n        <hr id="hrUnderDeliveryDelay" class="hr" style="" />\n    <div class="delivery-info-item shop-available" style="display: none;">\n        <span class="lr-icon lr-icon-location-success"></span>\n        <span class="shop" id="goToShopsList" data-cerberus="txt_pdp_shopsAvailableLink1">\n            Disponible en <a href="#">boutique</a>\n        </span>\n    </div>\n    <ul class="delivery-info-container">\n            <li id="vendorName_350214213" class="delivery-info-item vendor-name" data-text="ENVIO GRÁTIS a partir de 30€ nos pontos pickup" data-mkpurl="/prtngp/vendor-{vendorId}.aspx" style="">\n                <span class="lr-tick lr-tick-light-success"></span>\n                <div class="vendor-name-content " data-cerberus="lnk_pdp_vendorName1">\n                    <div id="label-vendor" class="label-vendor">Entrega exclusiva ao domicílio pela própria marca</div>\n                                            <div class="reviews-vendor" data-basevendorurl="/prtngp/vendor-{vendorId}.aspx" data-cerberus="txt_pdp_vendor_reviews" style="display:none">\n\n                            <div class="rating-stars-container">\n                                <span class="disable-stars">\n                                    <span class="stars lr-icon lr-icon-star-grey"></span><span class="stars lr-icon lr-icon-star-grey"></span><span class="stars lr-icon lr-icon-star-grey"></span><span class="stars lr-icon lr-icon-star-grey"></span><span class="stars lr-icon lr-icon-star-grey"></span>\n                                </span>\n                                <span class="enable-stars rating-0">\n                                    <span class="stars lr-icon lr-icon-star-black"></span><span class="stars lr-icon lr-icon-star-black"></span><span class="stars lr-icon lr-icon-star-black"></span><span class="stars lr-icon lr-icon-star-black"></span><span class="stars lr-icon lr-icon-star-black"></span>\n                                </span>\n                                <span id="nbReview" class="review-number" style="display: none;">\n                                </span>\n                            </div>\n                        </div>\n                </div>\n            </li>\n                    <li class="delivery-info-item delivery-info delivery-info-content " data-text="Trocas &amp; Devoluções &lt;b&gt;GRÁTIS*&lt;/b&gt;" data-marketplace-delivery="" data-marketplace-deliveryinplace="" data-cerberus="txt_pdp_stickerBulkyDelivery1" data-is-lr-and-me="False" style="display: none;"><span class="lr-tick lr-tick-light-success"></span><span class="lr-tick lr-tick-light-success"></span>\n                <span class="lr-tick lr-tick-light-success"></span>\n\nTrocas &amp; Devoluções <b>GRÁTIS*</b>            </li><li xmlns="http://www.w3.org/1999/xhtml" class="delivery-info-item delivery-info delivery-info-content " data-text="Trocas &amp; Devoluções &lt;b&gt;GRÁTIS*&lt;/b&gt;" data-marketplace-delivery="" data-marketplace-deliveryinplace="" data-cerberus="txt_pdp_stickerBulkyDelivery1" data-is-lr-and-me="False" id=""><span class="lr-tick lr-tick-light-success"></span><span class="lr-tick lr-tick-light-success"></span>\n                <span class="lr-tick lr-tick-light-success"></span>\n\nArtigo com condições especiais de <u><a target="_blank" href="/sellconditions.aspx#15">garantia/devolução</a></u>             </li><li xmlns="http://www.w3.org/1999/xhtml" class="delivery-info-item delivery-info delivery-info-content " data-text="Trocas &amp; Devoluções &lt;b&gt;GRÁTIS*&lt;/b&gt;" data-marketplace-delivery="" data-marketplace-deliveryinplace="" data-cerberus="txt_pdp_stickerBulkyDelivery1" data-is-lr-and-me="False"><span class="lr-tick lr-tick-light-success"></span><span class="lr-tick lr-tick-light-success"></span>\n                <span class="lr-tick lr-tick-light-success"></span>\n\nVenda não disponível para as ilhas</a>            </li>\n                <ul id="services" class="services-container fix-display-services" style="display: flex;"><li class="delivery-info-item delivery-info-service cursor-pointer product-service-1"><span class="lr-tick lr-tick-success"></span><span class="cursor-pointer">*DEVOLUÇÕES 60 DIAS</span><div class="popin"></div></li><li class="delivery-info-item delivery-info-service cursor-pointer product-service-2"><span class="lr-tick lr-tick-success"></span><span class="cursor-pointer">VÁRIOS MODOS DE PAGAMENTO</span><div class="popin"></div></li><li class="delivery-info-item delivery-info-service cursor-pointer product-service-3"><span class="lr-tick lr-tick-success"></span><span class="cursor-pointer">ENTREGA AO DOMICÍLIO</span><div class="popin"></div></li></ul>\n    </ul>\n</div>',value:'<div xmlns="http://www.w3.org/1999/xhtml" id="pdpDeliveryInfo_350214213" class="delivery-info">\n        <div class="delivery-info-item delivery-delay" style="">\n            <span class="lr-icon lr-icon-clock-success js-delivery-picto"></span>\n            <span class="bold delivery" data-cerberus="txt_pdp_stockAlert1">EM STOCK</span>\n            <span class="delay" data-cerberus="txt_pdp_stockDeliveryDate1"></span>\n        </div>\n        <hr id="hrUnderDeliveryDelay" class="hr" style="" />\n    <div class="delivery-info-item shop-available" style="display: none;">\n        <span class="lr-icon lr-icon-location-success"></span>\n        <span class="shop" id="goToShopsList" data-cerberus="txt_pdp_shopsAvailableLink1">\n            Disponible en <a href="#">boutique</a>\n        </span>\n    </div>\n    <ul class="delivery-info-container">\n            <li id="vendorName_350214213" class="delivery-info-item vendor-name" data-text="ENVIO GRÁTIS a partir de 30€ nos pontos pickup" data-mkpurl="/prtngp/vendor-{vendorId}.aspx" style="">\n                <span class="lr-tick lr-tick-light-success"></span>\n                <div class="vendor-name-content " data-cerberus="lnk_pdp_vendorName1">\n                    <div id="label-vendor" class="label-vendor">Entrega exclusiva ao domicílio pela própria marca</div>\n                                            <div class="reviews-vendor" data-basevendorurl="/prtngp/vendor-{vendorId}.aspx" data-cerberus="txt_pdp_vendor_reviews" style="display:none">\n\n                            <div class="rating-stars-container">\n                                <span class="disable-stars">\n                                    <span class="stars lr-icon lr-icon-star-grey"></span><span class="stars lr-icon lr-icon-star-grey"></span><span class="stars lr-icon lr-icon-star-grey"></span><span class="stars lr-icon lr-icon-star-grey"></span><span class="stars lr-icon lr-icon-star-grey"></span>\n                                </span>\n                                <span class="enable-stars rating-0">\n                                    <span class="stars lr-icon lr-icon-star-black"></span><span class="stars lr-icon lr-icon-star-black"></span><span class="stars lr-icon lr-icon-star-black"></span><span class="stars lr-icon lr-icon-star-black"></span><span class="stars lr-icon lr-icon-star-black"></span>\n                                </span>\n                                <span id="nbReview" class="review-number" style="display: none;">\n                                </span>\n                            </div>\n                        </div>\n                </div>\n            </li>\n                    <li class="delivery-info-item delivery-info delivery-info-content " data-text="Trocas &amp; Devoluções &lt;b&gt;GRÁTIS*&lt;/b&gt;" data-marketplace-delivery="" data-marketplace-deliveryinplace="" data-cerberus="txt_pdp_stickerBulkyDelivery1" data-is-lr-and-me="False" style="display: none;"><span class="lr-tick lr-tick-light-success"></span><span class="lr-tick lr-tick-light-success"></span>\n                <span class="lr-tick lr-tick-light-success"></span>\n\nTrocas &amp; Devoluções <b>GRÁTIS*</b>            </li><li xmlns="http://www.w3.org/1999/xhtml" class="delivery-info-item delivery-info delivery-info-content " data-text="Trocas &amp; Devoluções &lt;b&gt;GRÁTIS*&lt;/b&gt;" data-marketplace-delivery="" data-marketplace-deliveryinplace="" data-cerberus="txt_pdp_stickerBulkyDelivery1" data-is-lr-and-me="False" id=""><span class="lr-tick lr-tick-light-success"></span><span class="lr-tick lr-tick-light-success"></span>\n                <span class="lr-tick lr-tick-light-success"></span>\n\nArtigo com condições especiais de <u><a target="_blank" href="/sellconditions.aspx#15">garantia/devolução</a></u>             </li><li xmlns="http://www.w3.org/1999/xhtml" class="delivery-info-item delivery-info delivery-info-content " data-text="Trocas &amp; Devoluções &lt;b&gt;GRÁTIS*&lt;/b&gt;" data-marketplace-delivery="" data-marketplace-deliveryinplace="" data-cerberus="txt_pdp_stickerBulkyDelivery1" data-is-lr-and-me="False"><span class="lr-tick lr-tick-light-success"></span><span class="lr-tick lr-tick-light-success"></span>\n                <span class="lr-tick lr-tick-light-success"></span>\n\nVenda não disponível para as ilhas</a>            </li>\n                <ul id="services" class="services-container fix-display-services" style="display: flex;"><li class="delivery-info-item delivery-info-service cursor-pointer product-service-1"><span class="lr-tick lr-tick-success"></span><span class="cursor-pointer">*DEVOLUÇÕES 60 DIAS</span><div class="popin"></div></li><li class="delivery-info-item delivery-info-service cursor-pointer product-service-2"><span class="lr-tick lr-tick-success"></span><span class="cursor-pointer">VÁRIOS MODOS DE PAGAMENTO</span><div class="popin"></div></li><li class="delivery-info-item delivery-info-service cursor-pointer product-service-3"><span class="lr-tick lr-tick-success"></span><span class="cursor-pointer">ENTREGA AO DOMICÍLIO</span><div class="popin"></div></li></ul>\n    </ul>\n</div>'},{id:3131590,type:"editHtml",selector:"#mainProductDetailsContainer .delivery-informations .delivery-info-container .delivery-info-item.delivery-info",oldValue:'<li xmlns="http://www.w3.org/1999/xhtml" class="delivery-info-item delivery-info delivery-info-content " data-text="Trocas &amp; Devoluções &lt;b&gt;GRÁTIS*&lt;/b&gt;" data-marketplace-delivery="" data-marketplace-deliveryinplace="" data-cerberus="txt_pdp_stickerBulkyDelivery1" data-is-lr-and-me="False"><span class="lr-tick lr-tick-light-success"></span>Artigo com condições especiais de <u><a target="_blank" href="/sellconditions.aspx#15">garantia/devolução</a></li>',value:'<li xmlns="http://www.w3.org/1999/xhtml" class="delivery-info-item delivery-info delivery-info-content " data-text="Trocas &amp; Devoluções &lt;b&gt;GRÁTIS*&lt;/b&gt;" data-marketplace-delivery="" data-marketplace-deliveryinplace="" data-cerberus="txt_pdp_stickerBulkyDelivery1" data-is-lr-and-me="False"><span class="lr-tick lr-tick-light-success"></span>Artigo com condições especiais de <u><a target="_blank" href="/sellconditions.aspx#15">garantia/devolução</a></li>'}],widgets:[],redirections:[]}},audienceTrigger:{name:"Audience of the account38462",id:"21fc5147-3096-446d-b8fb-ad9039034d0d",targeting_groups:[{position:0,id:"f0ae6de0-c164-4108-b94c-f148dbb80ed8",targetings:[{id:"aad6196c-f4b8-4577-ae17-288277346f09",operator:"auto",position:0,targeting_type:40,conditions:[{id:"55dc790a-b3b5-47eb-89fb-bb3a9ce73d60",value:"return (tc_vars['product_documentid'].indexOf(\"865720\") !== -1);",include:!0}]}]}],is_segment:!1},siblings:[]},642192:{id:642192,name:"NOVO_Selo Confio _dekstop",traffic:100,type:"mastersegment",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:40,value:"master"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{797161:{id:797161,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[],widgets:[],redirections:[]}},children:[642193]},642193:{id:642193,name:"Selo ",traffic:100,type:"subsegment",parentID:642192,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:1,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:"https://www.laredoute.pt/"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{797162:{id:797162,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[{id:3036710,type:"addImage",selector:"#footer .confio-widget-seal",oldValue:"$('#footer .confio-widget-seal').append('<img src=\"https://editor-assets.abtasty.com/38462/5fa19bb4080711604426676.png\">');",value:"https://editor-assets.abtasty.com/38462/5fa19bb4080711604426676.png"},{id:3036711,type:"addLink",selector:"#footer .confio-widget-seal IMG:nth-child(3)",oldValue:'$(\'#footer .confio-widget-seal IMG:nth-child(3)\').wrap(\'<a href="https://portaldaqueixa.com/news/la-redoute-do-papel-ao-digital-um-caso-de-sucesso-em-portugal" title=""  target="_blank"></a>\');',value:'{"url":"https://portaldaqueixa.com/news/la-redoute-do-papel-ao-digital-um-caso-de-sucesso-em-portugal","target":"_blank"}'},{id:3036712,type:"editStyleCSS",selector:"#footer .confio-widget-seal A:nth-child(4) IMG",oldValue:"#footer .confio-widget-seal A:nth-child(4) IMG {width:120px!important;min-width:none!important;max-width:none!important;height:172px!important;min-height:none!important;position:static!important;margin-top:-40px!important;margin-left:-550px!important;margin:-40px 550px 0px -550px!important;top:0!important;right:0!important;bottom:0!important;left:0!important;margin-right:550px!important;margin-bottom:0px!important;float:inherit!important}",value:'{"width":"120px!important","min-width":"none!important","max-width":"none!important","height":"172px!important","min-height":"none!important","position":"static!important","margin-top":"-40px!important","margin-left":"-550px!important","margin":"-40px 550px 0px -550px!important","top":"0!important","right":"0!important","bottom":"0!important","left":"0!important","margin-right":"550px!important","margin-bottom":"0px!important","float":"inherit!important"}'},{id:3038659,type:"editStyleCSS",selector:"#footer .container .row",oldValue:"#footer .container .row {margin-top:30px!important;margin:30px -15px 0px -15px!important}",value:'{"margin-top":"30px!important","margin":"30px -15px 0px -15px!important"}'}],widgets:[],redirections:[]}},audienceSegment:{name:"Desktop",id:"98ed50fe-94c7-4088-870f-ece8982be9ae",targeting_groups:[{position:0,id:"737b1c77-12de-430a-a06c-7dd9508e64c7",targetings:[{id:"3b5b33de-643e-45e8-a6b0-c7de1b23ee9e",operator:"auto",position:0,targeting_type:17,conditions:[{id:"206a241b-6244-4601-b20e-f602493804ba",value:3,is_segment_type:!0,include:!0}]}]}],is_segment:!0},siblings:[]},642208:{id:642208,name:"NOVO_Selo Confio_Mobile",traffic:100,type:"mastersegment",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:40,value:"master"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{797178:{id:797178,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[],widgets:[],redirections:[]}},children:[642209]},642209:{id:642209,name:"Selo  (duplicate)",traffic:100,type:"subsegment",parentID:642208,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:1,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:"https://www.laredoute.pt/"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{797179:{id:797179,name:"Variation 1",traffic:100,masterVariationId:797178,modifications:[{id:3036735,type:"addImage",selector:"#footer .confio-widget-seal",oldValue:"$('#footer .confio-widget-seal').append('<img src=\"https://editor-assets.abtasty.com/38462/5fa19d6400b941604427108.png\">');",value:"https://editor-assets.abtasty.com/38462/5fa19d6400b941604427108.png"},{id:3036736,type:"addLink",selector:"#footer .confio-widget-seal IMG:nth-child(3)",oldValue:'$(\'#footer .confio-widget-seal IMG:nth-child(3)\').wrap(\'<a href="https://portaldaqueixa.com/news/la-redoute-do-papel-ao-digital-um-caso-de-sucesso-em-portugal" title=""  target="_blank"></a>\');',value:'{"url":"https://portaldaqueixa.com/news/la-redoute-do-papel-ao-digital-um-caso-de-sucesso-em-portugal","target":"_blank"}'},{id:3036737,type:"editStyleCSS",selector:"#footer .confio-widget-seal A:nth-child(4) IMG",oldValue:"#footer .confio-widget-seal A:nth-child(4) IMG {width:120px!important;min-width:none!important;max-width:none!important;height:172px!important;min-height:none!important;position:static!important;margin-top:50px!important;margin-left:auto!important;margin:50px auto 0px auto!important;margin-right:auto!important;float:inherit!important;clear:fixed!important}",value:'{"width":"120px!important","min-width":"none!important","max-width":"none!important","height":"172px!important","min-height":"none!important","position":"static!important","margin-top":"50px!important","margin-left":"auto!important","margin":"50px auto 0px auto!important","margin-right":"auto!important","float":"inherit!important","clear":"fixed!important"}'},{id:3036738,type:"editStyleCSS",selector:"#footer .container .row",oldValue:"#footer .container .row {margin-top:40px!important;margin:40px -15px 0px -15px!important}",value:'{"margin-top":"40px!important","margin":"40px -15px 0px -15px!important"}'}],widgets:[],redirections:[]}},audienceSegment:{name:"Mobile",id:"1c9078f4-b11d-4c0c-9304-a1b41588d2c4",targeting_groups:[{position:0,id:"966f9178-bff0-454f-ac0c-4a4e61fc6152",targetings:[{id:"e1ec1085-8806-42de-a1cf-bd40e61b8372",operator:"auto",position:0,targeting_type:17,conditions:[{id:"e822c693-a52e-4846-bdc3-16ceb1f8794e",value:1,is_segment_type:!0,include:!0}]},{id:"4a48790f-e744-41af-9b24-6dac20733ac7",operator:"auto",position:1,targeting_type:19,conditions:[{id:"962e8235-98a5-4e8c-b47c-b75d72216234",code_country:"PT",code_least_specific_subdivision:null,code_most_specific_subdivision:null,code_city:null,is_segment_type:!0,include:!0}]}]}],is_segment:!0},siblings:[]},642211:{id:642211,name:"NOVO_Selo Confio_Tablet",traffic:100,type:"mastersegment",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:40,value:"master"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{797181:{id:797181,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[],widgets:[],redirections:[]}},children:[642212]},642212:{id:642212,name:"Selo  (duplicate) (duplicate)",traffic:100,type:"subsegment",parentID:642211,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:1,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:"https://www.laredoute.pt/"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{797182:{id:797182,name:"Variation 1",traffic:100,masterVariationId:797181,modifications:[{id:3036747,type:"addImage",selector:"#footer .confio-widget-seal",oldValue:"$('#footer .confio-widget-seal').append('<img src=\"https://editor-assets.abtasty.com/38462/5fa19e5a6c65a1604427354.png\">');",value:"https://editor-assets.abtasty.com/38462/5fa19e5a6c65a1604427354.png"},{id:3036748,type:"addLink",selector:"#footer .confio-widget-seal IMG:nth-child(3)",oldValue:'$(\'#footer .confio-widget-seal IMG:nth-child(3)\').wrap(\'<a href="https://portaldaqueixa.com/news/la-redoute-do-papel-ao-digital-um-caso-de-sucesso-em-portugal" title=""  target="_blank"></a>\');',value:'{"url":"https://portaldaqueixa.com/news/la-redoute-do-papel-ao-digital-um-caso-de-sucesso-em-portugal","target":"_blank"}'},{id:3036749,type:"editStyleCSS",selector:"#footer .confio-widget-seal A:nth-child(4) IMG",oldValue:"#footer .confio-widget-seal A:nth-child(4) IMG {width:100px!important;min-width:none!important;max-width:none!important;height:143px!important;min-height:none!important;position:static!important;margin-top:10px!important;margin-left:-200px!important;margin:10px 200px 0px -200px!important;margin-right:200px!important;float:inherit!important;clear:fixed!important;padding-top:0px!important;padding-right:0px!important;padding-bottom:0px!important;padding-left:0px!important;padding:0px 0px 0px 0px!important;display:inline!important}",value:'{"width":"100px!important","min-width":"none!important","max-width":"none!important","height":"143px!important","min-height":"none!important","position":"static!important","margin-top":"10px!important","margin-left":"-200px!important","margin":"10px 200px 0px -200px!important","margin-right":"200px!important","float":"inherit!important","clear":"fixed!important","padding-top":"0px!important","padding-right":"0px!important","padding-bottom":"0px!important","padding-left":"0px!important","padding":"0px 0px 0px 0px!important","display":"inline!important"}'},{id:3036750,type:"editStyleCSS",selector:"#footer .container .row",oldValue:"#footer .container .row {margin-top:50px!important;margin:50px -15px 0px -15px!important}",value:'{"margin-top":"50px!important","margin":"50px -15px 0px -15px!important"}'},{id:3037111,type:"editStyleCSS",selector:"#footer .partners-logos A:nth-child(1) IMG",oldValue:"#footer .partners-logos A:nth-child(1) IMG {margin-bottom:30px!important;margin:0px 0px 30px 0px!important}",value:'{"margin-bottom":"30px!important","margin":"0px 0px 30px 0px!important"}'},{id:3037118,type:"editStyleCSS",selector:"#footer .confio-widget-seal",oldValue:"#footer .confio-widget-seal {margin-bottom:30px!important;margin:0px 0px 30px 0px!important}",value:'{"margin-bottom":"30px!important","margin":"0px 0px 30px 0px!important"}'}],widgets:[],redirections:[]}},audienceSegment:{name:"Tablet",id:"33635a30-8e7a-4943-9b9b-5ca6ea1a5e44",targeting_groups:[{position:0,id:"7ee9dcab-171b-4632-a5f3-78dff5ed7791",targetings:[{id:"cc46d7f5-f4e0-4609-9848-806273abcbd5",operator:"auto",position:0,targeting_type:17,conditions:[{id:"758c6f5e-d441-4431-b568-d85bcc2c8ce8",value:2,is_segment_type:!0,include:!0}]}]}],is_segment:!0},siblings:[]},660219:{id:660219,name:"Popup Loja mobile",traffic:100,type:"mastersegment",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:40,value:"master"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{818911:{id:818911,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[],widgets:[],redirections:[]}},children:[660220]},660220:{id:660220,name:"Banner (duplicate)",traffic:100,type:"subsegment",parentID:660219,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:".laredoute.pt"},{include:!1,condition:10,value:"shoppingbasket"},{include:!1,condition:10,value:"myaccount"},{include:!1,condition:10,value:"webaccount"},{include:!1,condition:10,value:"sellconditions"},{include:!1,condition:10,value:"b2b"},{include:!1,condition:10,value:"sizeguide"},{include:!1,condition:10,value:"pstcc"},{include:!1,condition:10,value:"services"},{include:!1,condition:10,value:"popup"},{include:!1,condition:10,value:"basket"},{include:!1,condition:10,value:"help"},{include:!1,condition:10,value:"myredoute"},{include:!1,condition:10,value:"primeira"},{include:!1,condition:10,value:"loja"}],codeScope:[],selectorScope:[],cookieScope:[{include:!0,value:"FV",name:"Segmentation"}],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{818912:{id:818912,name:"Variation 1",traffic:100,masterVariationId:818911,modifications:[],widgets:[{id:"50926171-4a14-4832-8dad-0c764a238e05",version:"1.1",config:'{"layout":"popin","contentLayout":"top","textImageRatio":50,"autoWidth":false,"percentWidth":85,"pixelsWidth":768,"widthUnit":"vw","autoHeight":true,"percentHeight":50,"pixelsHeight":352,"heightUnit":"vh","image":"https://editor-assets.abtasty.com/38462/5fd1ed060b17e1607593222.jpg","isTitle":true,"title":"Sabia que abrimos a nossa 1ª loja em Portugal?","textContent":"Estamos à sua espera na Rua António Enes, 25 A, em Lisboa e vamos ficar tão felizes com a sua visita! Mas avisamos já… vai ser difícil resistir.","linkType":"button","buttonText":"Mais informações","redirectionUrl":"https://www.laredoute.pt/content/primeira-loja-da-la-redoute-em-portugal-/","openInNewTab":false,"titleTextAlign":"center","titleTextColor":"rgba(0, 127, 145, 1)","titleFontName":"inherit","titleFontStyle":"font-style: normal !important; font-weight: normal;","titleFontSize":18,"textAlign":"center","textColor":"rgba(57, 57, 57, 1)","fontName":"inherit","fontStyle":"font-style: normal !important; font-weight: normal;","fontSize":16,"buttonsBorderWidth":1,"buttonsBorderColor":"rgba(64, 63, 63, 0.6)","buttonsBorderRadius":19,"buttonsBackgroundColor":"rgba(232, 115, 89, 1)","buttonsTextColor":"rgba(247, 247, 247, 1)","buttonsFontName":"inherit","buttonsFontStyle":"font-style: normal !important; font-weight: normal;","buttonsFontSize":17,"containerMargin":[{"top":0,"left":0,"bottom":0,"right":0}],"containerPadding":[{"top":35,"left":60,"bottom":35,"right":60}],"backgroundColor":"rgba(255, 255, 255, 1)","isBackgroundImage":false,"backgroundImage":"https://widgets-images.abtasty.com/widgets-default-image.png","backgroundSize":"cover","backgroundPosition":"center","backgroundRepeat":false,"dropShadow":false,"dropShadowColor":"rgba(57, 57, 57, 0.25);","dropShadowBlur":10,"closeButton":true,"borderWidth":0,"borderColor":"rgba(255, 255, 255, 1)","borderRadius":0,"overlayColor":"rgba(0, 0, 0, 0.6)","overlayClickable":true,"triggerEvent":"pageLoad","triggerEventClick":"body","triggerEventElementVisible":"body","triggerEventCustomScript":"/* In this example snippet, the widget will be triggered as soon as any scroll is detected.\\nCreate your own by resolving resolve() with true (which does trigger) or false (which doesn\'t trigger) */\\n\\nfunction launchIfScroll() {\\n\\treturn new Promise(resolve => {\\n\\t\\tdocument.addEventListener(\'scroll\', () => resolve(true), {once: true});\\n\\t});\\n}\\n\\nconst result = await launchIfScroll();\\nreturn resolve(result);","isOncePerPageTrigger":true,"triggerEventReengageDelay":10,"triggerEventDelay":0,"autoHide":true,"timeHide":2,"displayRecurrence":"everytime","displayRecurrence_day":5,"displayRecurrence_week":2,"displayRecurrence_month":1,"closingRecurrence":"session","closingRecurrence_day":5,"closingRecurrence_week":2,"closingRecurrence_month":1,"validationRecurrence":"session","validationRecurrence_day":5,"validationRecurrence_week":2,"validationRecurrence_month":1}',name:"@abtasty/popin-image"}],redirections:[]}},audienceSegment:{name:"Mobile",id:"1c9078f4-b11d-4c0c-9304-a1b41588d2c4",targeting_groups:[{position:0,id:"966f9178-bff0-454f-ac0c-4a4e61fc6152",targetings:[{id:"e1ec1085-8806-42de-a1cf-bd40e61b8372",operator:"auto",position:0,targeting_type:17,conditions:[{id:"e822c693-a52e-4846-bdc3-16ceb1f8794e",value:1,is_segment_type:!0,include:!0}]},{id:"4a48790f-e744-41af-9b24-6dac20733ac7",operator:"auto",position:1,targeting_type:19,conditions:[{id:"962e8235-98a5-4e8c-b47c-b75d72216234",code_country:"PT",code_least_specific_subdivision:null,code_most_specific_subdivision:null,code_city:null,is_segment_type:!0,include:!0}]}]}],is_segment:!0},siblings:[]},660299:{id:660299,name:"Popup Loja desktop",traffic:100,type:"mastersegment",parentID:0,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:40,value:"master"}],codeScope:[],selectorScope:[],cookieScope:[],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{819013:{id:819013,name:"Variation 1",traffic:100,masterVariationId:0,modifications:[],widgets:[],redirections:[]}},children:[660300]},660300:{id:660300,name:"Banner (duplicate) (duplicate)",traffic:100,type:"subsegment",parentID:660299,globalCode:"",stopOnDate:0,lastIncreasedTraffic:"0000-00-00 00:00:00",targetingMode:"fastest",dynamicTrafficGoalId:null,dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,isAsync:0,scopes:{urlScope:[{include:!0,condition:10,value:".laredoute.pt"},{include:!1,condition:10,value:"shoppingbasket"},{include:!1,condition:10,value:"myaccount"},{include:!1,condition:10,value:"webaccount"},{include:!1,condition:10,value:"sellconditions"},{include:!1,condition:10,value:"b2b"},{include:!1,condition:10,value:"sizeguide"},{include:!1,condition:10,value:"pstcc"},{include:!1,condition:10,value:"services"},{include:!1,condition:10,value:"popup"},{include:!1,condition:10,value:"basket"},{include:!1,condition:10,value:"help"},{include:!1,condition:10,value:"myredoute"},{include:!1,condition:10,value:"primeira"},{include:!1,condition:10,value:"loja"}],codeScope:[],selectorScope:[],cookieScope:[{include:!0,value:"FV",name:"Segmentation"}],ipScope:[]},analytics:[],customAnalytics:[],widgets:[],actionTrackings:{},variations:{819014:{id:819014,name:"Variation 1",traffic:100,masterVariationId:819013,modifications:[],widgets:[{id:"9fa35e45-acf1-43aa-9e89-d6e88e2c3af0",version:"1.1",config:'{"layout":"popin","contentLayout":"top","textImageRatio":50,"autoWidth":true,"percentWidth":85,"pixelsWidth":768,"widthUnit":"vw","autoHeight":true,"percentHeight":50,"pixelsHeight":352,"heightUnit":"vh","image":"https://editor-assets.abtasty.com/38462/5fd1ed060b17e1607593222.jpg","isTitle":true,"title":"Sabia que abrimos a nossa 1ª loja em Portugal?","textContent":"Estamos à sua espera na Rua António Enes, 25 A, em Lisboa e vamos ficar tão felizes com a sua visita! Mas avisamos já… vai ser difícil resistir.","linkType":"button","buttonText":"Mais informações","redirectionUrl":"https://www.laredoute.pt/content/primeira-loja-da-la-redoute-em-portugal-/","openInNewTab":false,"titleTextAlign":"center","titleTextColor":"rgba(0, 127, 145, 1)","titleFontName":"inherit","titleFontStyle":"font-style: normal !important; font-weight: normal;","titleFontSize":18,"textAlign":"center","textColor":"rgba(57, 57, 57, 1)","fontName":"inherit","fontStyle":"font-style: normal !important; font-weight: normal;","fontSize":16,"buttonsBorderWidth":1,"buttonsBorderColor":"rgba(64, 63, 63, 0.6)","buttonsBorderRadius":19,"buttonsBackgroundColor":"rgba(232, 115, 89, 1)","buttonsTextColor":"rgba(247, 247, 247, 1)","buttonsFontName":"inherit","buttonsFontStyle":"font-style: normal !important; font-weight: normal;","buttonsFontSize":17,"containerMargin":[{"top":0,"left":0,"bottom":0,"right":0}],"containerPadding":[{"top":35,"left":60,"bottom":35,"right":60}],"backgroundColor":"rgba(255, 255, 255, 1)","isBackgroundImage":false,"backgroundImage":"https://widgets-images.abtasty.com/widgets-default-image.png","backgroundSize":"cover","backgroundPosition":"center","backgroundRepeat":false,"dropShadow":false,"dropShadowColor":"rgba(57, 57, 57, 0.25);","dropShadowBlur":10,"closeButton":true,"borderWidth":0,"borderColor":"rgba(255, 255, 255, 1)","borderRadius":0,"overlayColor":"rgba(0, 0, 0, 0.6)","overlayClickable":true,"triggerEvent":"pageLoad","triggerEventClick":"body","triggerEventElementVisible":"body","triggerEventCustomScript":"/* In this example snippet, the widget will be triggered as soon as any scroll is detected.\\nCreate your own by resolving resolve() with true (which does trigger) or false (which doesn\'t trigger) */\\n\\nfunction launchIfScroll() {\\n\\treturn new Promise(resolve => {\\n\\t\\tdocument.addEventListener(\'scroll\', () => resolve(true), {once: true});\\n\\t});\\n}\\n\\nconst result = await launchIfScroll();\\nreturn resolve(result);","isOncePerPageTrigger":true,"triggerEventReengageDelay":10,"triggerEventDelay":0,"autoHide":true,"timeHide":2,"displayRecurrence":"everytime","displayRecurrence_day":5,"displayRecurrence_week":2,"displayRecurrence_month":1,"closingRecurrence":"session","closingRecurrence_day":5,"closingRecurrence_week":2,"closingRecurrence_month":1,"validationRecurrence":"session","validationRecurrence_day":5,"validationRecurrence_week":2,"validationRecurrence_month":1}',name:"@abtasty/popin-image"}],redirections:[]}},audienceSegment:{name:"Desktop",id:"98ed50fe-94c7-4088-870f-ece8982be9ae",targeting_groups:[{position:0,id:"737b1c77-12de-430a-a06c-7dd9508e64c7",targetings:[{id:"3b5b33de-643e-45e8-a6b0-c7de1b23ee9e",operator:"auto",position:0,targeting_type:17,conditions:[{id:"206a241b-6244-4601-b20e-f602493804ba",value:3,is_segment_type:!0,include:!0}]}]}],is_segment:!0},siblings:[]},global:{needGeolocFetch:[479091,503539,626800,626801,642209,660220],needAdBlockDetection:[],needUAParserFetch:[479091,503539,642193,642209,642212,660220,660300],needDCInfosFetch:[],needModificationEngine:!0,needEngagementLevelFetch:[],needDynamicAlloc:[]}},widgets:{"@abtasty/popin-image":{1.1:{code:'!function(){"use strict";const e=()=>Object.prototype.hasOwnProperty.call(window,"ABTastyEditor"),t=()=>{let e;return window.ABTasty||window.ABTASTY_S?(window.ABTASTY_S&&window.ABTASTY_S.USER&&window.ABTASTY_S.USER.accountIdentifier&&window.ABTASTY_S.USER.accountIdentifier.length?e=window.ABTASTY_S.USER.accountIdentifier:window.ABTasty&&window.ABTasty.getAccountSettings&&"function"==typeof window.ABTasty.getAccountSettings?e=window.ABTasty.getAccountSettings().identifier:window.ABTasty&&window.ABTasty.accountSettings&&(e=window.ABTasty.accountSettings.identifier),e):e},i=()=>{const e=!!document.getElementById("ABTastyPreviewBar"),t=location.href.includes("ab_project=preview");return e||t},n=()=>i()||!!window.ABTasty.getTestsOnPage()[TEST_ID],s="remove",r="rebuild",o="https://social-proof-api.abtasty.com/clients/",a=()=>{const{type:e}=DATA;return`${PACKAGE.replace("@abtasty/","")}${e?`_${e}`:""}`},c=()=>{const e=a();return`${e.charAt(0).toUpperCase()}${e.slice(1)}`.split("-").join(" ")},l=()=>`${PLUGIN_ID.split("-")[0]}_${TEST_ID}`,h=t=>{if((()=>{if(e()||i())return!1;const t=ABTasty.getTestsOnPage()[TEST_ID];return!!t&&Object.keys(t.targetings.qaParameters).length>0})()){const e=c();window.console.log(`%c${e} - QA Mode for campaign ${TEST_ID}\\n${t}`,"background-color: rgba(0, 127, 145, 1); color: rgba(247, 247, 247, 1)")}},d=e=>{const t={promise:null,resolve:null,reject:null,name:e};return t.promise=new Promise(((e,i)=>{t.resolve=e,t.reject=i})),t},u=(e,t,i)=>{let n=0,s=0;try{document.querySelector(e)}catch(t){const n=`Selector «${e}» not valid.`;return h(n),"function"==typeof i&&i(n)}function r(){clearInterval(s),clearTimeout(n)}return n=setTimeout((()=>{r();const t=`Can\'t find element «${e}».`;return h(t),"function"==typeof i&&i(t)}),1e4),s=setInterval((()=>{const i=document.querySelector(e);return null!==i?(r(),"function"==typeof t&&t(i)):i}),200),{clear:r}};function g(e,t){return t(e)||!e.parentElement?e:g(e.parentElement,t)}const m=t=>{e()||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())};function p(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype||(e="https://polyfill.io/v3/polyfill.min.js?flags=gated&features=IntersectionObserver",new Promise(((t,i)=>{const n=window.document.getElementsByTagName("script")[0],s=window.document.createElement("script");s.src=e,n.parentNode.insertBefore(s,n),s.onload=t,s.onerror=i})));var e}class v{constructor(){this.targets=[],this.existingTargets=[],this.inViewportTargets=[],this.visibilityObserver=this.startVisibilityObserver(),this.mutationObserver=this.startMutationObserver(),this.mouseOverEvent=this.mouseOverHandler()}intersectionHandler(e){e.forEach((e=>{e.isIntersecting?(this.existingTargets.forEach((t=>{t.element.isSameNode(e.target)&&(this.inViewportTargets.push(t),this.mouseOverEvent.start())})),this.checkElements()):this.inViewportTargets=this.inViewportTargets.filter((t=>!t.element.isSameNode(e.target)||(this.mouseOverEvent.clear(),!1)))}))}startVisibilityObserver(){return new IntersectionObserver(this.intersectionHandler.bind(this),{root:null,rootMargin:"0px",threshold:0})}startMutationObserver(){const e=this.mutationObserver||new MutationObserver(this.checkElements.bind(this));return document.body&&e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),e}onMouseOver({target:e,path:t}){const i=this.inViewportTargets.find((({element:i,selector:n})=>{if(i.isSameNode(e))return!0;const s=[...e.querySelectorAll(n)];if(s.length){if(s.includes(i))return!0}if(t.includes(i))return!0;const r=[...e.parentElement.children],o=r.findIndex((t=>t.isSameNode(e))),a=r.filter(((e,t)=>t>o));if(a.length){if(a.includes(i))return!0;if(a.some((e=>[...e.querySelectorAll(n)].includes(i))))return!0}return!1}));if(i&&this.isElementVisible(i.element)){const{selector:e,element:t,uniqueId:n}=i,s=this.targets.find((t=>t.selector===e&&t.uniqueId===n));s&&s.resolve(t),this.clear(e,n)}}mouseOverHandler(){const e=["mouseover",e=>setTimeout((()=>this.onMouseOver(e)),50),!0];return{start:()=>document.addEventListener(...e),clear:()=>document.removeEventListener(...e)}}isElementVisible(e){return this.isElementTopmost(e)&&this.isElementOpaque(e)}isElementOpaque(e){return"HTML"===g(e,(e=>"0"===window.getComputedStyle(e).opacity)).nodeName}isElementTopmost(e){const t=e.getBoundingClientRect(),i=[[t.left,t.top],[t.right,t.top],[t.left,t.bottom],[t.right,t.bottom],[t.left+t.width/2,t.top],[t.left+t.width/2,t.bottom],[t.left,t.height/2],[t.right,t.height/2],[t.left+t.left/2,t.height/2]];let n=!1,s=0;for(;!n&&s<i.length;){const t=document.elementFromPoint(...i[s]);n=e===t||e.contains(t),s+=1}return n}checkElements(){this.targets.forEach((({selector:e,uniqueId:t})=>{const i=document.querySelector(e);i&&!this.existingTargets.find((i=>i.element.matches(e)&&i.uniqueId===t))&&(this.existingTargets.push({element:i,selector:e,uniqueId:t}),this.visibilityObserver.observe(i))})),this.existingTargets=this.existingTargets.filter((({selector:e,element:t})=>!!document.querySelector(e)||(t&&this.visibilityObserver.unobserve(t),!1))),this.inViewportTargets=this.inViewportTargets.filter((({selector:e,element:t,uniqueId:i})=>{if(t.matches(e)&&this.isElementVisible(t)){const n=this.targets.find((t=>t.selector===e&&t.uniqueId===i));return n&&n.resolve(t),this.clear(e,i),!1}return!0}))}watch(e,t,i){this.targets.push({selector:e,resolve:t,uniqueId:i});const n=()=>{this.startMutationObserver(),this.checkElements()};document.body?n():u("body",n)}clear(e,t){[this.targets,this.existingTargets,this.inViewportTargets]=[this.targets,this.existingTargets,this.inViewportTargets].map((i=>i.filter((({selector:i,uniqueId:n})=>i!==e&&n!==t))));const i=document.querySelector(e);i&&this.visibilityObserver.unobserve(i),0===this.targets.length&&this.mutationObserver.disconnect(),0===this.inViewportTargets.length&&this.mouseOverEvent.clear()}}class y{constructor({triggerEvent:e,triggerSelector:t,triggerDelay:i}){this.event=e,this.selector=t&&t.length?t:"body",this.delay=1e3*i,this.elementsSelectors=[],this.eventsListeners=[],this.timeouts=[],this.intervals=[],this.observers=[],this.promises=[],this.visibilityObservers=[],this.elementsWaiters=[]}async onElementVisible({promise:e,resolve:t}){const i=d(`${this.event}DomReady`);this.promises.push(i);const n=await this.onPageLoad(i),s=await async function(e){let t;switch(e){case"IntersectionObserver":t=await p();break;default:t=!0}return t}("IntersectionObserver"),r=new v;if(this.visibilityObservers.push(r),s&&n){const e=l();r.watch(this.selector,t,e)}return e}onPageLoad({promise:e,resolve:t}){const i=()=>"complete"===document.readyState;if(!i()){const n=["readystatechange",()=>i()&&t(!0),{passive:!0}];return this.eventsListeners.push(n),document.addEventListener(...n),e}return t(!0),e}onClick({promise:e,resolve:t}){const i=document.createElement("style");i.type="text/css",i.id=`Click_${l()}`,i.innerHTML=`${this.selector} {\\n\\t\\t\\tcursor: pointer !important;\\n\\t\\t\\tpointer-events: all !important;\\n\\t\\t}`,document.head.appendChild(i),this.elementsSelectors.push(`#${i.id}`);const n=e=>[...document.querySelectorAll(this.selector)].some((t=>t.isSameNode(e)||!!e.closest(this.selector))),s=["click",({target:e})=>n(e)&&t(!0),{passive:!0,capture:!0}];return this.eventsListeners.push(s),document.addEventListener(...s),e}onExitIntent({promise:e,resolve:t}){const i=["mouseleave",async({clientY:e})=>{e<=0&&t(!0)},{passive:!0}],n=u("body",(e=>{e.addEventListener(...i),this.eventsListeners.push([e,...i]),this.elementsWaiters=this.elementsWaiters.filter((e=>e!==n))}));return this.elementsWaiters.push(n),e}onReengage({promise:e,resolve:t}){const i=this.delay;let n=i;const s=[()=>(n=i,n),{passive:!0}];["click","mousemove","scroll","keypress"].forEach((e=>{document.addEventListener(e,...s),this.eventsListeners.push([e,...s])}));const r=setInterval((()=>{n<=0?t(!0):n-=100}),100);return this.intervals.push(r),e}onCustomTrigger({promise:e,resolve:t}){const{triggerEventCustomScript:i}=DATA;return new Function(`return new Promise(async resolve => {${i}})`)().then((e=>e&&t(!0))),e}getSocialProofPurchases({promise:e,resolve:i}){const n=window.ABTastyProductKey,s=t(),{viewInterval:r,triggerSocialProofMinPurchases:a,spNoTrim:c}=DATA;if(n||(h("Not able to find ABTastyProductKey, impossible to call the API."),i(!1)),n&&s){fetch(`${o}${s}/metrics/i?key=${n}${c?"&noTrim=true":""}`).then((e=>e.ok&&e.json())).then((e=>(e=>{if(void 0===r||void 0===a)return!1;const t=void 0!==e[r]&&e[r]>=a;return t||h(`Widget will not be shown, product has been purchased ${e[r]} times while ${a} are required`),t})(e)&&i(`${e[r]}`))).catch((()=>h("Failed to fetch datas from server.")))}else i(!1);return e}getSocialProofPageViews({promise:e,resolve:i}){const{viewInterval:n,triggerSocialProofMinPageViews:s,spNoTrim:r}=DATA,a=encodeURIComponent(r?window.location.href.replace(window.location.origin,""):`${window.location.pathname}`),c=t();if(a&&c){fetch(`${o}${c}/metrics/pv?key=${a}${r?"&noTrim=true":""}`).then((e=>e.ok&&e.json())).then((e=>(e=>{if(void 0===n||void 0===s)return!1;const t=void 0!==e[n]&&e[n]>=s;return t||h(`Widget will not be shown, page has been seen ${e[n]} times while ${s} are required`),t})(e)&&i(`${e[n]}`))).catch((()=>h("Failed to fetch datas from server.")))}else i(!1);return e}onConsent({promise:e,resolve:t}){if(!window.ABTasty.cnilReady){const i=["consentValid",()=>t(!0)];return this.eventsListeners.push(i),document.addEventListener(...i),e}return t(!0),e}clear(){if(this.elementsSelectors.length&&(this.elementsSelectors.forEach((e=>{document.querySelector(e)&&document.querySelector(e).remove()})),this.elementsSelectors=[]),this.eventsListeners.length&&(this.eventsListeners.forEach((e=>{const[t,...i]="string"==typeof e[0]?[document,...e]:e;t&&i.length>1&&t.removeEventListener(...i)})),this.eventsListeners=[]),this.timeouts.length&&(this.timeouts.forEach((e=>clearTimeout(e))),this.timeouts=[]),this.intervals.length&&(this.intervals.forEach((e=>clearInterval(e))),this.intervals=[]),this.observers.length&&(this.observers.forEach((e=>e.disconnect())),this.observers=[]),this.visibilityObservers.length){const e=l();this.visibilityObservers.forEach((t=>t.clear(this.selector,e))),this.visibilityObservers=[]}return this.promises.length&&(this.promises.forEach((e=>e.resolve(!1))),this.promises=[]),this.elementsWaiters.length&&(this.elementsWaiters.forEach((e=>e.clear())),this.elementsWaiters=[]),this}async isTriggered(){this.clear();const e=d(this.event);this.promises.push(e);const t={consent:()=>this.onConsent(e),direct:()=>!0,pageLoad:()=>this.onPageLoad(e),click:()=>this.onClick(e),exitIntent:()=>this.onExitIntent(e),reengage:()=>this.onReengage(e),elementVisible:()=>this.onElementVisible(e),script:()=>this.onCustomTrigger(e),socialProofPurchases:()=>this.getSocialProofPurchases(e),socialProofPageViews:()=>this.getSocialProofPageViews(e)},i=!Object.prototype.hasOwnProperty.call(t,this.event)||await t[this.event]();this.clear();return"reengage"!==this.event&&this.delay?i&&await(async()=>{const e=d(`${this.event}Delay`);return this.promises.push(e),setTimeout((()=>{e.resolve(!0),this.clear()}),this.delay),e.promise})():i}}const f="display",w="closing",b="validation",S="ABTastyWidgets",$="ABTastyWidgetsTemporary";class T{constructor({displayRecurrence:e,closingRecurrence:t,validationRecurrence:i},n){this.displayRecurrence=parseFloat(e),this.closingRecurrence=parseFloat(t),this.validationRecurrence=parseFloat(i),this.onSetCallback=n,this.widgetName=a(),this.uniqueId=l(),this.recurrenceKey=`${this.widgetName}_${this.uniqueId}`,this.isListeningStorageEvent=this.listenStorageEvent(),this.pendingRecurrence=!1}onStorage({key:e}){const t=localStorage.getItem($),i=sessionStorage.getItem(S);"ABTastyData"===e&&!t&&i&&localStorage.setItem($,i)}listenStorageEvent(){return this.isListeningStorageEvent||window.addEventListener("storage",this.onStorage.bind(this)),!0}getGivenRecurrenceStorageParsed(e){try{const t=e.getItem(S);return JSON.parse(t)}catch(t){return e.removeItem(S),!1}}getSessionRecurrenceStorageParsed(){return this.getGivenRecurrenceStorageParsed(window.sessionStorage)}getLocalRecurrenceStorageParsed(){return this.getGivenRecurrenceStorageParsed(window.localStorage)}removeGivenStorage(e,t){const{[this.recurrenceKey]:i,...n}=t;return Object.entries(n).length?(e.setItem(S,JSON.stringify(n)),n):(e.removeItem(S),!1)}removeSessionRecurrenceStorage(){const e=this.getSessionRecurrenceStorageParsed();return!!e&&this.removeGivenStorage(window.sessionStorage,e)}removeLocalRecurrenceStorage(){const e=this.getLocalRecurrenceStorageParsed();return!!e&&this.removeGivenStorage(window.localStorage,e)}getSessionRecurrence(){const e=this.getSessionRecurrenceStorageParsed();return!!e&&e[this.recurrenceKey]}getLocalRecurrence(){const e=this.getLocalRecurrenceStorageParsed();return!!e&&e[this.recurrenceKey]}getCurrentRecurrence(){const e=this.getSessionRecurrence(),t=this.getLocalRecurrence();return e||t||{type:!1}}isOver(){const e=localStorage.getItem($),t=!(!e||!e.includes(this.recurrenceKey))||this.getSessionRecurrence();e&&(sessionStorage.setItem(S,e),localStorage.removeItem($));const i=this.getLocalRecurrence(),n=(i?parseFloat(i.stamp):0)<(new Date).getTime();return n&&this.removeLocalRecurrenceStorage(),!this.pendingRecurrence&&n&&!this.getLocalRecurrence()&&!t}setRecurrence(e,t){0!==e&&(window.removeEventListener("storage",this.onStorage.bind(this)),this.isListeningStorageEvent=!1);const n=this.getTypeOfStorage(e);if(i()||!n&&"object"!=typeof n)return!1;const{storageString:s,storageMethod:r}=n,o=this.getStamp(e),a={type:t,stamp:o},{type:c}=this.getCurrentRecurrence(),l=async()=>{const e=this.getSessionRecurrence(),t=this.getLocalRecurrence();let i;"session"===s?e?i=this.removeSessionRecurrenceStorage():(this.removeLocalRecurrenceStorage(),i=this.getSessionRecurrenceStorageParsed()):"local"===s&&(t?i=this.removeLocalRecurrenceStorage():(this.removeSessionRecurrenceStorage(),i=this.getLocalRecurrenceStorageParsed()));const n=i?{[this.recurrenceKey]:a,...i}:{[this.recurrenceKey]:a};if(!window.ABTasty.cnilReady){this.pendingRecurrence=!0;const e=new y({triggerEvent:"consent"});await e.isTriggered(),this.pendingRecurrence=!1}r.setItem(S,JSON.stringify(n)),this.onSetCallback&&"function"==typeof this.onSetCallback&&this.onSetCallback()};if(!r)return!1;if(c&&t!==b)if(t===w&&c!==b)l();else{if(t!==f||c===b||c===w)return!1;l()}else l();return o}setDisplayRecurrence(){this.setRecurrence(this.displayRecurrence,"display")}setClosingRecurrence(){this.setRecurrence(this.closingRecurrence,"closing")}setValidationRecurrence(){this.setRecurrence(this.validationRecurrence,"validation")}getStamp(e){return(new Date).getTime()+864e5*e}getTypeOfStorage(e){return!(isNaN(e)||e<0||0!==e&&!e)&&(e>0?{storageString:"local",storageMethod:window.localStorage}:0===e&&{storageString:"session",storageMethod:window.sessionStorage})}}class C{constructor(e,t,i){this.recurrence=e,this.isWidgetApplied=t,this.callback=i,this.observer=new MutationObserver(this.observerHandler.bind(this)),this.eventListenerParams=["abtasty_resetActionTracking",this.eventHandler.bind(this),{passive:!0}],this.elementsWaiters=[]}recurrenceIsDone(){return!this.recurrence||this.recurrence.isOver()}decisionHandler(e){const t=n(),{type:i}=this.recurrence?this.recurrence.getCurrentRecurrence():{type:!1},o=()=>e&&"display"===i||this.recurrenceIsDone();return!this.isWidgetApplied()&&t&&o()?(this.clearWatcher(),this.callback(r,e)):(!this.isWidgetApplied()||t&&o())&&(this.isWidgetApplied()||t)||(this.clearWatcher(),this.callback(s,e),this.watch()),this}eventHandler(){let e=n();return[250,500].forEach((t=>setTimeout((()=>500===t&&n()===e?this:(e=n(),this.decisionHandler(!1))),t))),this}observerHandler(e){const t=e.some((({removedNodes:e})=>e&&e.length)),i=e.some((({addedNodes:e})=>e&&e.length));return t||i?(this.decisionHandler(!0),this):this}watch(){if(e())return this;this.clearWatcher(),document.addEventListener(...this.eventListenerParams);const t=u("body",(e=>{const i=[e,{childList:!0,subtree:!0}];this.observer.observe(...i),this.elementsWaiters=this.elementsWaiters.filter((e=>e!==t))}));return this.elementsWaiters.push(t),this}clearWatcher(){return document.removeEventListener(...this.eventListenerParams),this.elementsWaiters.length&&(this.elementsWaiters.forEach((e=>e.clear())),this.elementsWaiters=[]),this.observer.disconnect(),this}}const E=/.+\\/([^.]+)\\.(otf|ttf)$/;class I extends class{constructor(){this.children=void 0,this.uniqueId=l(),this.widgetName=a(),this.prettyName=c(),this.recurrenceParams=(()=>{const{displayRecurrence:t,closingRecurrence:i,validationRecurrence:n}=DATA;if(e()||!t&&!i&&!n)return!1;const s={everytime:()=>-1,session:()=>0,once:()=>395,day:e=>DATA[`${e}_day`],week:e=>7*DATA[`${e}_week`],month:e=>30.5*DATA[`${e}_month`]},r={};return t&&(r.displayRecurrence=s[t]("displayRecurrence")),i&&(r.closingRecurrence=s[i]("closingRecurrence")),n&&(r.validationRecurrence=s[n]("validationRecurrence")),r})(),this.triggerParams=(()=>{let{triggerEvent:t}=DATA;const{triggerEventClick:i,triggerEventReengageDelay:n,socialProofContentType:s,triggerEventElementVisible:r,triggerEventDelay:o}=DATA;if(e()||!t&&!s)return!1;const a={click:()=>i,elementVisible:()=>r},c=Object.prototype.hasOwnProperty.call(a,t)?a[t]():"body",l="reengage"===t?n:o;return s&&(t=1===s?"socialProofPurchases":"socialProofPageViews"),{triggerEvent:t,triggerSelector:c,triggerDelay:l}})(),this.recurrence=!!this.recurrenceParams&&new T(this.recurrenceParams,this.clearGivenClearables.bind(this)),this.trigger=!!this.triggerParams&&new y(this.triggerParams),this.pageWatcher=new C(this.recurrence,this.isWidgetApplied.bind(this),this.onPageChange.bind(this)),this.hasOncePerPageTrigger=(()=>{const{isOncePerPageTrigger:e,triggerEvent:t}=DATA;return!t||(!(!e||!["click","script"].includes(t))||["pageLoad","direct","reengage","socialProofPurchases","socialProofPageViews","elementVisible"].some((e=>e===t)))})(),this.basicClassName=`ab_widget_container_${this.widgetName}`,this.widgetContainerId=`${this.basicClassName}_${this.uniqueId}`,this.contentClassName=`${this.basicClassName}_content`,this.overlayClassName=`${this.basicClassName}_overlay`,this.closeButtonClassName=`${this.basicClassName}_close_button`,this.hideClassName=`ab_hide_${this.uniqueId}`,this.domElement=this.getDom(),this.hasBeenShown=!1,this.closedByUser=!1,this.eventsListeners=[],this.timeouts=[],this.intervals=[],this.observers=[],this.promises=[],this.elementsWaiters=[]}clearGivenClearables(){this.eventsListeners.length&&(this.eventsListeners.forEach((e=>document.removeEventListener(...e))),this.eventsListeners=[]),this.timeouts.length&&(this.timeouts.forEach((e=>clearTimeout(e))),this.timeouts=[]),this.intervals.length&&(this.intervals.forEach((e=>clearInterval(e))),this.intervals=[]),this.observers.length&&(this.observers.forEach((e=>e.disconnect())),this.observers=[]),this.promises.length&&(this.promises.forEach((e=>e.resolve(!1))),this.promises=[]),this.elementsWaiters.length&&(this.elementsWaiters.forEach((e=>e.clear())),this.elementsWaiters=[])}isWidgetApplied(){return this.domElement&&!!this.domElement.closest("html")}removeOldDomElement(){const e=document.getElementById(this.widgetContainerId);return e&&e.remove(),this}async insert(){const e=(e,t,i)=>{this.elementsWaiters=this.elementsWaiters.filter((e=>e!==t)),h(e),i(e)},t=new Promise(((t,i)=>{const n=u("head",(e=>{this.elementsWaiters=this.elementsWaiters.filter((e=>e!==n)),t(e.appendChild(this.styleElement))}),(t=>e(t,n,i)));this.elementsWaiters.push(n)})),i=new Promise(((t,i)=>{const{layout:n,elementReferrer:s,referrerInsertType:r}=DATA,{selector:o,position:a}="string"==typeof n&&"free"===n&&"string"==typeof s&&"string"==typeof r?{selector:s,position:r}:{selector:"body",position:"beforeend"},c=u(o,(e=>{this.elementsWaiters=this.elementsWaiters.filter((e=>e!==c)),this.removeOldDomElement(),t(e.insertAdjacentElement(a,this.domElement))}),(t=>e(t,c,i)));this.elementsWaiters.push(c)}));return Promise.all([i,t]).then((()=>this))}remove(){return this.pageWatcher.clearWatcher(),this.domElement&&this.domElement.closest("html")&&this.domElement.remove(),this.styleElement&&this.styleElement.closest("html")&&this.styleElement.remove(),this.hasOncePerPageTrigger?this.pageWatcher.watch():e()||this.init().then((({response:e})=>e?this.show():this)),this}show(){return this.hasBeenShown||e()||window.ABTastyEvent(`${this.prettyName} displayed`,null,TEST_ID),this.closedByUser=!1,this.domElement.classList.remove(this.hideClassName),this.recurrence&&this.recurrence.setDisplayRecurrence(),this.hasBeenShown=!0,this.pageWatcher.watch(),this}hide(){return this.hasBeenShown&&!e()&&window.ABTastyEvent(`${this.prettyName} closed`,null,TEST_ID),this.closedByUser=!0,this.domElement.classList.add(this.hideClassName),this}async init(t){if(!e()&&!n())return!1;if(this.trigger&&this.trigger.promises.length)return!1;const i=this.recurrence&&this.recurrence.isOver();if(this.recurrence&&!i)return this.pageWatcher.watch(),!1;this.pageWatcher.watch();const s=e()||!this.trigger||this.trigger&&await this.trigger.isTriggered();return!!s&&(await this.insert(),this.addCloseEvent(),e()||t||this.hasBeenShown||void 0===this.children||"function"!=typeof this.children.refreshContent||this.children.refreshContent(s),{container:this,response:s})}onPageChange(e,t){const i=()=>this.init().then((({response:e})=>e&&this.show()));switch(t||(this.hasBeenShown=!1),e){case s:this.isWidgetApplied()?this.remove():(this.trigger&&this.trigger.clear(),this.pageWatcher.watch());break;case r:this.hasBeenShown?this.closedByUser?this.pageWatcher.watch():this.insert().then((e=>e.show())):i()}}addCloseEvent(...t){const{closeButton:i,overlayClickable:n,layout:s}=DATA,r=[];if(void 0!==n&&n&&void 0!==s&&"popin"===s&&r.push(`.${this.overlayClassName}`),void 0!==i&&i&&r.push(`.${this.closeButtonClassName}`),!r.length)return this;const o=this.domElement.querySelectorAll(r.join(", "));return o.length?(t.push(...o),t.forEach((t=>{e()&&(t.dataset.abtastyActionnable="true"),t.addEventListener("click",(e=>{m(e),this.recurrence&&this.recurrence.setClosingRecurrence(),this.hide(),setTimeout((()=>this.remove()),1e3)}),{once:!0,capture:!0})})),this):this}getDom(){const{closeButton:e,layout:t}=DATA,i=document.createElement("div");return i.className=`${this.basicClassName} ${this.hideClassName}`,i.id=this.widgetContainerId,i.innerHTML=`\\n\\t\\t\\t${void 0!==t&&"popin"===t?`<div class="${this.overlayClassName}"></div>`:""}\\n\\t\\t\\t<div class="${this.contentClassName}">\\n\\t\\t\\t${e?`<button class="${this.closeButtonClassName}"><svg viewBox="0 0 16 16">\\n\\t<defs><path id="prefix__a" d="M12 4.991L11.009 4 8 7.009 4.991 4 4 4.991 7.009 8 4 11.009 4.991 12 8 8.991 11.009 12 12 11.009 8.991 8z"></path></defs>\\n\\t<g><use xlink:href="#prefix__a"></use></g>\\n</svg></button>`:""}\\n\\t\\t\\t</div>`,i}loadFont(e,t){if(!e||"inherit"===e)return;const i=document.createElement("style"),n=t.match(E)?t.match(E)[1]:"";i.appendChild(document.createTextNode(`\\t\\t\\t@font-face {    \\t\\tfont-family: \'${e}_${n}\';            src: url(\'${t}\');\\t\\t\\t}\\t\\t`)),document.head.appendChild(i)}getStyleTag(t=""){const{noStyles:i,layout:n}=DATA,{backgroundColor:s,isBackgroundImage:r,backgroundImage:o,backgroundSize:a,backgroundPosition:c,backgroundRepeat:l,borderColor:h,borderRadius:d,borderWidth:u,textColor:g,textAlign:m,fontName:p,fontStyle:v,fontSize:y,isTitle:f,titleTextAlign:w,titleTextColor:b,titleFontName:S,titleFontStyle:$,titleFontSize:T,overlayColor:C,dropShadow:I,dropShadowColor:x,dropShadowBlur:A,containerMargin:_,containerPadding:N,closeButton:R,buttonsBorderWidth:P,buttonsBorderColor:k,buttonsBorderRadius:L,buttonsBackgroundColor:O,buttonsTextColor:B,buttonsFontName:W,buttonsFontStyle:D,buttonsFontSize:j}=i?{}:DATA,q=document.createElement("style");q.type="text/css",e()&&q.setAttribute("abtasty-script-added","true"),this.loadFont(p,v),this.loadFont(S,$),this.loadFont(W,D);const V=`background: ${["string"==typeof s?s:"rgba(255, 255, 255, 1)",r&&"string"==typeof o&&o.length?`url(${o})`:"",r&&"string"==typeof c&&"100% 100%"!==a?c:"0 0",r&&"string"==typeof a?`/ ${a}`:"/ auto",r&&l&&!["cover","100% 100%"].includes(a)?"repeat":"no-repeat"].join(" ").trim()};`,H="number"==typeof u&&u>0,M=`border: ${[H?`${u}px`:"unset",H?"solid":"",H&&"string"==typeof h&&h.length?h:""].join(" ").trim()};`,F=void 0!==d?`border-radius: ${d}px;`:"",U=void 0!==g?`color: ${g}; fill: ${g}; -webkit-text-fill-color: ${g};`:"",z=void 0!==m?`text-align: ${m};`:"",G=p&&"inherit"!==p?`font-family:${p}_${v.match(E)?v.match(E)[1]:""};`:v||"",K=y?`font-size: ${y}px;`:"",Y=void 0!==I&&I?`box-shadow: 0 5px ${A}px 0 ${x};`:"",J=_ instanceof Array&&1===_.length&&_[0],Q=J?`margin: ${J.top}px ${J.right}px ${J.bottom}px ${J.left}px;`:"",X=J?`margin: calc(${J.top}px * 0.5) calc(${J.right}px * 0.5) calc(${J.bottom}px * 0.5) calc(${J.left}px * 0.5);`:"",Z=N instanceof Array&&1===N.length&&N[0],ee=Z?`padding: ${Z.top}px ${Z.right}px ${Z.bottom}px ${Z.left}px;`:"",te=Z?`padding: calc(${Z.top}px * 0.5) calc(${Z.right}px * 0.5) calc(${Z.bottom}px * 0.5) calc(${Z.left}px * 0.5);`:"",ie=void 0!==P&&P?`border-width: ${P}px; border-style: solid;`:"",ne=[k,P].every((e=>void 0!==e))&&P?`border-color: ${k};`:"",se=void 0!==L?`border-radius: ${L}px;`:"",re=void 0!==O?`background-color: ${O};`:"",oe=void 0!==B?`color: ${B}; fill: ${B}; -webkit-text-fill-color: ${B};`:"",ae=W&&"inherit"!==W?`font-family:${W}_${D.match(E)?D.match(E)[1]:""};`:D||"",ce=j?`font-size: ${j}px;`:"",le=void 0!==n&&"popin"===n?[`#${this.widgetContainerId} .${this.overlayClassName} {`,`background-color: ${void 0!==C?C:"rgba(0, 0, 0, 0.6)"};`,"}"].join(""):"",he=i||void 0!==R&&R?[`#${this.widgetContainerId} .${this.contentClassName} .${this.closeButtonClassName} {`,"position: absolute;","top: 8px;","right: 8px;","width: auto;","height: auto;","background: none;","border: none;","cursor: pointer;","outline: none;","padding: 0;","margin: 0;","}",`#${this.widgetContainerId} .${this.contentClassName} .${this.closeButtonClassName} svg {`,"pointer-events: none;","width: 16px;","height: 16px;",U,G,K,"}"].join(""):"",de=f&&"string"==typeof b?[`#${this.widgetContainerId} .${this.contentClassName} > * h1, `,`#${this.widgetContainerId} .${this.contentClassName} > * h2, `,`#${this.widgetContainerId} .${this.contentClassName} > * h3, `,`#${this.widgetContainerId} .${this.contentClassName} > * h4, `,`#${this.widgetContainerId} .${this.contentClassName} > * h5, `,`#${this.widgetContainerId} .${this.contentClassName} > * h6 {`,`color: ${b}; fill: ${b}; -webkit-text-fill-color: ${b};`,void 0!==w?`text-align: ${w};`:"",S&&"inherit"!==S?`font-family:${S}_${$.match(E)?$.match(E)[1]:""};`:$||"",T?`font-size: ${T}px;`:"","}"].join(""):"";return q.textContent=[`.${this.hideClassName} {`,"opacity: 0 !important;","pointer-events: none;","}",`#${this.widgetContainerId} .${this.contentClassName} {`,V,F,M,U,z,Y,Q,G,K,"}",`#${this.widgetContainerId} .${this.contentClassName} p {`,U,z,G,K,"}",`#${this.widgetContainerId} .${this.contentClassName} > * {`,"display: block;","line-height: 1;","text-indent: unset;",ee,G,K,"}",`#${this.widgetContainerId} .${this.contentClassName} > * a, `,`#${this.widgetContainerId} .${this.contentClassName} > * button {`,ie,ne,se,re,oe,ae,ce,"}",`#${this.widgetContainerId} .${this.contentClassName} > * a *, `,`#${this.widgetContainerId} .${this.contentClassName} > * button * {`,oe,ae,ce,"}","@media screen and (max-width: 579px) {",`#${this.widgetContainerId} .${this.contentClassName} {`,X,"}",`#${this.widgetContainerId} .${this.contentClassName} > * {`,te,"}","}",le,he,de,`${t}`].join(""),q}}{constructor(){super(),this.stringStyles=this.getStyles(),this.styleElement=this.getStyleTag(this.stringStyles)}getStyles(){return[`#${this.widgetContainerId} {`,"position: fixed;","top: 0;","left: 0;","width: 100%;","height: 100%;","z-index: 9999;","opacity: 1;","transition: opacity 0.25s ease;","background: none;","}",`#${this.widgetContainerId} .${this.overlayClassName} {`,"position: absolute;","z-index: -1;","top: 0;","left: 0;","width: 100%;","height: 100%;","}",`#${this.widgetContainerId} .${this.contentClassName} {`,"position: absolute;","left: 50%;","top: 50%;","transform: translate(-50%, -50%);","width: auto;","height: auto;","}","@media screen and (max-width: 579px) {",`#${this.widgetContainerId} .${this.contentClassName} {`,"max-width: 94vw;","}","}"].join("")}}function x(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A,_,N,R=function(){function t(e){var i=e.parentContainer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.parentContainer=i,this.className="popinimage_container_".concat(i.uniqueId),this.imageSource=t.getImageSrc(),this.contentElement=this.getContentElement(),this.styleElement=this.getStyleElement()}var i,n,s;return i=t,s=[{key:"getImageSrc",value:function(){return DATA.image||"".concat("https://widgets-images.abtasty.com/","image-placeholder.png")}}],(n=[{key:"addCloseEvent",value:function(t){var i=this;t&&t.addEventListener("click",(function(t){m(t),e()||i.parentContainer.recurrence.setClosingRecurrence(),i.parentContainer.hide(),setTimeout((function(){return i.parentContainer.remove()}),1e3)}),{capture:!0,passive:!1})}},{key:"addRedirectionEvent",value:function(t){var i=this;!e()&&t&&t.addEventListener("click",(function(){var t=DATA,n=t.autoHide,s=t.timeHide;n&&setTimeout((function(){return i.parentContainer.hide()}),1e3*s),e()||i.parentContainer.recurrence.setValidationRecurrence()}),{capture:!0,passive:!0})}},{key:"getButton",value:function(){var e=DATA,t=e.linkType,i=e.buttonText,n=e.redirectionUrl,s=e.openInNewTab,r=document.createElement("a");return r.className="popin_link",r.innerHTML="<span>".concat(i,"</span>"),"button"===t?(r.href=n,r.target=s?"_blank":"_self",this.addRedirectionEvent(r)):(r.href="#",r.dataset.abtastyActionnable="true",this.addCloseEvent(r)),r}},{key:"setImageOnlyContent",value:function(e,t){var i=DATA,n=i.linkType,s=i.buttonText,r=document.createElement("div");if(r.className="popin_img_container",r.innerHTML=\'<img class="popin_img_img" src="\'.concat(this.imageSource,\'">\'),e.appendChild(r),e.classList.add(t),n&&n.includes("button")&&"string"==typeof s&&s.length){var o=this.getButton();e.appendChild(o)}return e}},{key:"setImageAndTextContent",value:function(e,t){var i=DATA,n=i.isTitle,s=i.title,r=i.textContent,o=i.linkType,a=i.buttonText,c=document.createElement("div");c.className="popin_img_container",c.innerHTML=\'<img class="popin_img_img" src="\'.concat(this.imageSource,\'">\');var l=document.createElement("div");if(l.className="popin_text_container",l.innerHTML="".concat(n?\'<h2 class="popin_img_title">\'.concat(s,"</h2>"):"",\'<p class="popin_img_text">\').concat(r,"</p>"),e.classList.add(t),["leftImage","topImage"].some((function(e){return e===t}))&&e.appendChild(c),e.appendChild(l),["rightImage","bottomImage"].some((function(e){return e===t}))&&e.appendChild(c),o&&o.includes("button")&&"string"==typeof a&&a.length){var h=this.getButton();l.appendChild(h)}return e}},{key:"insertIn",value:function(e,t){return document.head.insertAdjacentElement("beforeend",this.styleElement),e.insertAdjacentElement(t,this.contentElement),e}},{key:"getContentElement",value:function(){var e=this,t=DATA,i=t.contentLayout,n=t.linkType,s=t.redirectionUrl,r=t.openInNewTab,o=document.createElement(n&&n.includes("modal")?"a":"div");return o.className=this.className,"modal"===n?(o.href=s,o.target=r?"_blank":"_self",this.addRedirectionEvent(o)):"modalClose"===n&&(o.href="#",o.dataset.abtastyActionnable="true",this.addCloseEvent(o)),{imageOnly:function(){return e.setImageOnlyContent(o,"onlyImage")},left:function(){return e.setImageAndTextContent(o,"leftImage")},right:function(){return e.setImageAndTextContent(o,"rightImage")},top:function(){return e.setImageAndTextContent(o,"topImage")},bottom:function(){return e.setImageAndTextContent(o,"bottomImage")}}[i](),o}},{key:"getStyleElement",value:function(){var t=document.createElement("style");t.type="text/css",e()&&t.setAttribute("abtasty-script-added","true");var i=DATA,n=i.textImageRatio,s=i.borderRadius,r=i.borderWidth,o=i.containerPadding,a=i.autoWidth,c=i.percentWidth,l=i.pixelsWidth,h=i.widthUnit,d=i.autoHeight,u=i.percentHeight,g=i.pixelsHeight,m=i.heightUnit,p=i.contentLayout,v=i.linkType,y="#".concat(this.parentContainer.widgetContainerId," .").concat(this.parentContainer.contentClassName),f="px"===h?l:c,w="px"===m?g:u,b=o[0],S=parseInt(s-r,10),$=S-b.top>0?S-b.top:0,T=S-b.bottom>0?S-b.bottom:0,C=["body ".concat(y," {"),"width: ".concat(f).concat(h,";"),"height: ".concat(d?"auto":"".concat(w).concat(m),";"),"}","".concat(y," .").concat(this.className," {"),"height: 100%;","overflow: auto;","}",d?"":["".concat(y," .popin_img_container {"),"max-height: calc(".concat(w).concat(m," - ").concat(b.top+b.bottom+r,"px);"),"}"].join("")].join(""),E=["".concat(y," .onlyImage .popin_img_container {"),"border-radius: ".concat($,"px ").concat($,"px ").concat(T,"px ").concat(T,"px;"),"}"].join(""),I=["".concat(y," .leftImage .popin_img_container {"),"width: calc(".concat(n,"% - 2.5%);"),"}","".concat(y," .leftImage .popin_text_container {"),"width: calc(100% - ".concat(n,"% - 2.5%);"),"position: relative;","margin: 0 2.5%;","}","".concat(y," .leftImage .popin_img_container {"),"border-radius: ".concat($,"px 0 0 ").concat(T,"px;"),"}"].join(""),x=["".concat(y," .rightImage .popin_img_container {"),"width: calc(".concat(n,"% - 2.5%);"),"}","".concat(y," .rightImage .popin_text_container {"),"width: calc(100% - ".concat(n,"% - 2.5%);"),"position: relative;","margin: 0 2.5%;","}","".concat(y," .rightImage .popin_img_container {"),"border-radius: 0 ".concat($,"px ").concat(T,"px 0;"),"}"].join(""),A=["".concat(y," .topImage .popin_img_container {"),"border-radius: ".concat($,"px ").concat($,"px 0 0;"),"margin-bottom: 15px","}"].join(""),_=["".concat(y," .bottomImage .popin_img_container {"),"border-radius: 0 0 ".concat(T,"px ").concat(T,"px;"),"margin-top: 15px;","}"].join(""),N=["".concat(y," .popin_link {"),"display: inline-block;","margin: 25px 0 0 0;","padding: 10px 22px;","max-width: 100%;","text-align: center;","}"].join(""),R=["".concat(y," {"),"overflow: hidden;","}","".concat(y," .popin_img_container {"),"line-height: 0;","overflow: hidden;","width: 100%;","max-width: 100%;","}","".concat(y," .popin_img_title {"),"margin: 0 0 25px 0;","display: inline-block;","width: 100%;","}","".concat(y," .popin_img_container img {"),"display: inline-block;","width: 100%;","}","".concat(y," .popin_text_container {"),"line-height: 1;","white-space: pre-line;","}","".concat(y," .popin_text_container p {"),"margin: 0;","}","".concat(y," .popin_img_container,"),"".concat(y," .popin_text_container {"),"display: inline-block;","vertical-align: middle;","}"];return(0,{imageOnly:function(){return R.push(E)},top:function(){return R.push(A)},bottom:function(){return R.push(_)},left:function(){return R.push(I)},right:function(){return R.push(x)}}[p])(),a||R.push(C),v&&v.includes("button")&&R.push(N),t.textContent=R.join(""),t}}])&&x(i.prototype,n),s&&x(i,s),t}();A=new I,_=new R({parentContainer:A}),N=A.domElement.querySelector(".".concat(A.contentClassName)),A.children=_,_.insertIn(N,"beforeend"),A.init().then((function(e){e.response&&A.show()}))}();\n'}}},obsoletes:[478156,478157,591571,611083,626579,626580,626641,626642,638687,638688,642101,642102,654760,654761]};t.noMoreQuota=(e=r)=>{const{pack:t,quota:n}=e.accountSettings;return 0===t.indexOf("quota")&&n<=0},t.shouldRunAsynchronously=({accountSettings:e}=r)=>1===Number(e.runAsThread),t.getAccountData=()=>r,t.getAccountCampaign=e=>t.getAccountData().tests[e],t.getAccountSettings=()=>t.getAccountData().accountSettings,t.getSessionRecordingSettings=()=>t.getAccountData().nirror||[],t.getAccountIdentifier=()=>t.getAccountSettings().identifier,t.getAccountID=()=>t.getAccountSettings().id,t.getCrossDomainSettings=()=>t.getAccountData().crossDomainSettings||[],t.getGlobalCodeFragments=()=>t.getAccountData().globalCodeFragments,t.getAudienceHelpers=()=>t.getAccountData().audienceHelpers,t.usesAdblockTargeting=()=>i.Campaign.getGlobalCampaignsInfos().needAdBlockDetection.length>0,t.usesGeolocTargeting=()=>i.Campaign.getGlobalCampaignsInfos().needGeolocFetch.length>0,t.usesUAParserTargeting=()=>i.Campaign.getGlobalCampaignsInfos().needUAParserFetch.length>0,t.getDynamicTrafficAllocationCampaignIds=()=>i.Campaign.getGlobalCampaignsInfos().needDynamicAlloc,t.additionalLogsDisabled=()=>["5fa3bb1375ee3d23e0c7d6e406d443a7"].includes(t.getAccountIdentifier()),t.shouldVerifyCookies=()=>"cookies"===t.getAccountSettings().storageMode,t.shouldSendUserAgent=()=>["e63007ed2b2694baed796389af179e8f","ef1bb7a869fd4ea94409eb6ab8a42849"].includes(t.getAccountIdentifier())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowType=t.HIT_TYPES=void 0,t.HIT_TYPES={campaign:"CAMPAIGN",event:"EVENT",item:"ITEM",pageview:"PAGEVIEW",segment:"SEGMENT",transaction:"TRANSACTION",visitorevent:"VISITOREVENT",performance:"PERFORMANCE",nps:"NPS",batch:"BATCH",datalayer:"DATALAYER",consent:"CONSENT",product:"PRODUCT"},function(e){e.Boolean="boolean",e.IntegerArray="integer[]",e.Integer="integer",e.FloatArray="float[]",e.Float="float",e.ArrayArray="array[]",e.Array="array",e.ObjectArray="object[]",e.Object="object",e.StringArray="string[]",e.String="string"}(t.AllowType||(t.AllowType={}))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=void 0,i=(t.setDocument=function(e){n=e},t.getDocument=function(){return n||e.document}),r=t.setData=function(e,t,n){var i=e;i.dataset?i.dataset[t]=n:i.setAttribute(t,n)},a=t.getData=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute(t)},o=t.addChildNode=function(e,t){return e.appendChild(t),function(){if(e.contains(t))try{e.removeChild(t)}catch(e){console.warn("The modification isn't correct. Please contact AB Tasty support team! \n "+e)}}},s=t.addSiblingNode=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&t&&e.parentNode&&!e.parentNode.contains(t)){var i=e.parentNode;return n?i.insertBefore(t,e.nextSibling):i.insertBefore(t,e),function(){if(i.contains(t))try{i.removeChild(t)}catch(e){console.warn("The modification isn't correct. Please contact AB Tasty support team! \n "+e)}}}};t.removeNode=function(t){var n=t,i=!1,r=null,a=void 0;if(n&&n.parentNode&&(n.nodeType===Node.TEXT_NODE||!n.style||"none"!==n.style.display))return n.nodeType===Node.TEXT_NODE?(i=!0,r=n.textContent,n.textContent=""):(a=e.getComputedStyle(n).display,n.style.display="none"),function(){n.parentNode&&(i?n.textContent=r:(n.style.display=a,n.attributes.style&&""===n.attributes.style.value&&n.removeAttribute("style")))}},t.moveChildNode=function(e,t){var n=e,i=n.parentNode;if(!t||!n||a(n,"abTastyMoved"))return null;var s=n.cloneNode(!0);return s.style.display="none",s.id="",s.className="",r(s,"abTastyMoved",1),r(n,"abTastyMoved",1),i.replaceChild(s,n),o(t,n),function(){s.parentNode&&s.parentNode.removeChild(s),n.parentNode&&n.parentNode.removeChild(n),i.parentNode&&(n.removeAttribute("data-ab-tasty-moved"),i.appendChild(n))}},t.moveSiblingNode=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e,o=i.parentNode;if(!t||!i||a(i,"abTastyMoved"))return null;var c=i.cloneNode(!0);return c.style.display="none",r(c,"abTastyMoved",1),r(i,"abTastyMoved",1),o.replaceChild(c,i),s(t,i,n),function(){c.parentNode&&c.parentNode.removeChild(c),i.parentNode&&i.parentNode.removeChild(i),o.parentNode&&(i.removeAttribute("data-ab-tasty-moved"),o.appendChild(i))}},t.isEqualNode=function(e,t){return e&&t&&(e.isEqualNode(t)||e.nodeType!==Node.TEXT_NODE&&e.tagName===t.tagName&&e.innerHTML===t.innerHTML)},t.qsa=function(e){try{var t=i();if(/^(#?[\w-]+|\.[\w-.]+)$/.test(e))switch(e.charAt(0)){case"#":return[t.getElementById(e.substr(1))].filter((function(e){return null!=e}));case".":var n=e.substr(1).replace(/\./g," ");return[].slice.call(t.getElementsByClassName(n)).filter((function(e){return null!=e}));default:return[].slice.call(t.getElementsByTagName(e)).filter((function(e){return null!=e}))}return[].slice.call(t.querySelectorAll(e))}catch(e){return[]}},t.setAttribute=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"edit",r=e.getAttribute(t);return"edit"===i?e.setAttribute(t,n):e.removeAttribute(t),function(){null==r?e.removeAttribute(t):e.setAttribute(t,r)}},t.isEqualLink=function(e,t){return e.nodeType!==Node.TEXT_NODE&&e.tagName===t.tagName&&a(e,"abTastyLink")===a(t,"abTastyLink")&&e.href===t.href},t.setNodeStyle=function(e,t,n){var i=e,r=i.style[t];return i.style[t]=n,function(){i.parentNode&&(i.style[t]=r)}}}).call(this,n(30))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);Object.defineProperty(t,"curry",{enumerable:!0,get:function(){return i.curry}});var r=n(57);Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return r.pipe}});var a=n(41);Object.defineProperty(t,"__",{enumerable:!0,get:function(){return a.__}});var o=n(58);Object.defineProperty(t,"self",{enumerable:!0,get:function(){return o.self}});var s=n(59);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return s.throttle}});var c=n(60);Object.defineProperty(t,"pushInto",{enumerable:!0,get:function(){return c.pushInto}});var l=n(61);Object.defineProperty(t,"call",{enumerable:!0,get:function(){return l.call}});var d=n(62);Object.defineProperty(t,"ifElse",{enumerable:!0,get:function(){return d.ifElse}});var u=n(63);Object.defineProperty(t,"isNil",{enumerable:!0,get:function(){return u.isNil}});var p=n(64);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return p.isEmpty}});var g=n(65);Object.defineProperty(t,"split",{enumerable:!0,get:function(){return g.split}});var f=n(66);Object.defineProperty(t,"match",{enumerable:!0,get:function(){return f.match}});var m=n(67);Object.defineProperty(t,"splitMap",{enumerable:!0,get:function(){return m.splitMap}});var h=n(68);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return h.map}});var y=n(69);Object.defineProperty(t,"reject",{enumerable:!0,get:function(){return y.reject}});var v=n(70);Object.defineProperty(t,"fromPairs",{enumerable:!0,get:function(){return v.fromPairs}});var b=n(71);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return b.last}});var T=n(72);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return T.filter}});var w=n(73);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return w.groupBy}});var S=n(74);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return S.pluck}});var _=n(75);Object.defineProperty(t,"join",{enumerable:!0,get:function(){return _.join}});var A=n(76);Object.defineProperty(t,"some",{enumerable:!0,get:function(){return A.some}});var E=n(77);Object.defineProperty(t,"filterProps",{enumerable:!0,get:function(){return E.filterProps}});var O=n(42);Object.defineProperty(t,"prop",{enumerable:!0,get:function(){return O.prop}});var C=n(43);Object.defineProperty(t,"path",{enumerable:!0,get:function(){return C.path}});var k=n(78);Object.defineProperty(t,"propEq",{enumerable:!0,get:function(){return k.propEq}});var I=n(79);Object.defineProperty(t,"propOr",{enumerable:!0,get:function(){return I.propOr}});var x=n(81);Object.defineProperty(t,"propSatisfies",{enumerable:!0,get:function(){return x.propSatisfies}});var P=n(82);Object.defineProperty(t,"pickBy",{enumerable:!0,get:function(){return P.pickBy}});var N=n(83);Object.defineProperty(t,"mapObjIndexed",{enumerable:!0,get:function(){return N.mapObjIndexed}});var D=n(84);Object.defineProperty(t,"add",{enumerable:!0,get:function(){return D.add}});var M=n(85);Object.defineProperty(t,"substract",{enumerable:!0,get:function(){return M.substract}});var R=n(86);Object.defineProperty(t,"square",{enumerable:!0,get:function(){return R.square}});var j=n(87);Object.defineProperty(t,"cube",{enumerable:!0,get:function(){return j.cube}});var B=n(88);Object.defineProperty(t,"divide",{enumerable:!0,get:function(){return B.divide}});var L=n(89);Object.defineProperty(t,"multiply",{enumerable:!0,get:function(){return L.multiply}});var $=n(90);Object.defineProperty(t,"power",{enumerable:!0,get:function(){return $.power}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createAppliedModification=function(){return{rollbacks:[],target:null,elements:{},savedState:null}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ABTastyCookie=t.CookieHumanKeys=void 0;const o=n(54),s=a(n(11)),c=n(3),l=n(13),d=n(0),u=n(6),p=n(2),g=n(9),f=n(19),m=n(150),h=n(26),y=n(29),v=n(52),b=n(22),T=n(12),w=n(17),S=n(27);var _,A;let E;!function(e){e.uid="uid",e.fst="fst",e.pst="pst",e.cst="cst",e.ns="ns",e.pvt="pvt",e.pvis="pvis",e.th="th"}(_||(_={})),function(e){e.visitorID="visitorID",e.firstSessionTimestamp="firstSessionTimestamp",e.previousSessionTimestamp="previousSessionTimestamp",e.currentSessionTimestamp="currentSessionTimestamp",e.numberOfSessions="numberOfSessions",e.pagesViewedTotal="pagesViewedTotal",e.pagesViewedInSession="pagesViewedInSession",e.testsHistory="testsHistory"}(A=t.CookieHumanKeys||(t.CookieHumanKeys={}));class O{constructor(){if(this.dictionary=[{key:_.uid,humanKey:A.visitorID,value:"",typeCast:e=>String(e)},{key:_.fst,humanKey:A.firstSessionTimestamp,value:0,typeCast:e=>Number(e)},{key:_.pst,humanKey:A.previousSessionTimestamp,value:-1,typeCast:e=>Number(e)},{key:_.cst,humanKey:A.currentSessionTimestamp,value:0,typeCast:e=>Number(e)},{key:_.ns,humanKey:A.numberOfSessions,value:0,typeCast:e=>Number(e)},{key:_.pvt,humanKey:A.pagesViewedTotal,value:0,typeCast:e=>Number(e)},{key:_.pvis,humanKey:A.pagesViewedInSession,value:0,typeCast:e=>Number(e)},{key:_.th,humanKey:A.testsHistory,value:{},typeCast:this.deserializeTestsHistory}],E)return E;const{customCookieDomain:e,customCookiePath:t}=c.getAccountSettings(),n=new l.ABTastySessionCookie;this.name=O.getCookieName(),this.customDomain=e,this.customPath=t,window.ABTasty.clearCookie=this.clear.bind(this),window.ABTasty.clearAllCookies=this.clearAll.bind(this),E=this,this.isCrossDomainUsed()?m.getCrossData().then(e=>{this.syncCookieValues(e.value,n)}):this.setUp(n),"function"!=typeof window.ABTasty.getCampaignHistory&&(window.ABTasty.getCampaignHistory=()=>this.getCampaignHistory())}setUp(e,t=null){let n=t;null!=t&&""!==t.trim()||(n=(new f.ABTastyLocalStorage).getFromLocalStorage(this.name),null===n&&(n=s.get(this.name))),n?this.load(n):(this.assureVisitorId(),e.clear(),e.save()),O.cookieReady=!0}static getCookieName(){return"ABTasty"}static exists(){return!!T.getSecureItem(w.STORAGE_LOCAL,this.getCookieName())||!!s.get(this.getCookieName())}syncCookieValues(e,t){if(!e||null==e)return this.setUp(t);let n=(new f.ABTastyLocalStorage).getFromLocalStorage(this.name);if(null===n&&(n=s.get(this.name)),!n||null===n)return this.setUp(t,e),void this.save(!0);const i=e.split("&").find(e=>"th"===e.split("=")[0]);if(!i)return this.load(n);const r=i.split("=")[1],a=n.split("&").find(e=>"th"===e.split("=")[0])||"";r.split("_").map(e=>{a.indexOf(e.split(".")[0])>=0||(n=n+"_"+e)}),this.setUp(t,n),this.save(!0)}matchUrlSettings(){return c.getCrossDomainSettings().some(({includeOrExclude:e,url:t,method:n})=>"exclude"!==e&&g.matchWithCond(n,t))}get(e){return this.dictionary.find(t=>t.key===e||t.humanKey===e)}set(e,t,n=null){null==n?this.get(e).value=t:this.get(e).value[n]=t}incr(e,t){const n=this.get(e);n.value=n.value+t}resetDictionary(){this.dictionary.forEach(e=>{e.value=e.typeCast("")})}load(e){try{unescape(e).split("&").map(e=>e.split("=")).forEach(([e,t])=>{this.set(e,this.get(e).typeCast(decodeURI(t)))}),this.removePausedTests()}catch(e){p.captureException(new Error("Error loading the cookie. "+e)),this.resetDictionary()}}removePausedTests(){const e=c.getAccountData();if(!e||!e.obsoletes)return[];const t=[];return Object.keys(this.get(A.testsHistory).value).forEach(n=>{e.obsoletes.includes(parseInt(n,10))&&(this.removeCampaign(n),t.push(parseInt(n,10)))}),this.save(),t}getVisitorId(){return this.get(A.visitorID).value}getCampaignHistory(){const e=this.getCampaigns(),t={};return Object.keys(e).filter(e=>void 0!==c.getAccountData().tests[e]).map(n=>{const i=b.Campaign.instanciate(n);if(i&&i.isMultipageChild()&&-1!==e[n].variationID&&(t[i.getParentId()]=String(i.getMasterVariationId(e[n].variationID))),-1!==e[n].variationID)return t[n]=String(e[n].variationID)}),t}getCampaign(e){return this.get(A.testsHistory).value[e]}getCampaigns(){return this.get(A.testsHistory).value}setCampaign(e,t){this.set(A.testsHistory,t,e)}removeCampaign(e){delete this.get(A.testsHistory).value[e]}getFirstSessionTimestamp(){return this.get(A.firstSessionTimestamp).value}getCurrentSessionTimestamp(){return this.get(A.currentSessionTimestamp).value}getPreviousSessionTimestamp(){return this.get(A.previousSessionTimestamp).value}getNumberOfSessions(){return this.get(A.numberOfSessions).value}getPagesViewedInSession(){return this.get(A.pagesViewedInSession).value}hasSeenCampaign(e,t){const n=this.getCampaign(e);return!!n&&(u.isNil(t)?-1!==n.variationID:n.variationID===t)}isValid(e){return/^uid=.*&fst=[0-9]{13,}&pst=(-1|[0-9]{13,})&cst=[0-9]{13,}&ns=[0-9]\d*&pvt=[1-9]\d*&pvis=[1-9]\d*&th=(\d+\.(-1|\d)+\.[1-9]\d*\.[0-9]\d*\.[1-9]\d*\.[1|0]\.[0-9]{13,}\.[0-9]{13,}\.[1|0]_?)*$/.test(e)}getConfig(){return{expires:388,path:this.customPath,domain:null===this.customDomain?g.getCookieDomain():this.customDomain,secure:c.getAccountSettings().isSecureCookie||S.isSecureIframe()||!1,samesite:c.getAccountSettings().isSecureCookie||S.isSecureIframe()?"none":"lax"}}clear(e=null){e===v.STORAGE_MODE_LOCALSTORAGE||u.isNil(e)&&v.isLocalStorageMode()?(new f.ABTastyLocalStorage).removeLocalStorage(this.name):s.remove(this.name,this.getConfig())}clearAll(){this.clear(),(new l.ABTastySessionCookie).clear()}static resetInstance(){E=null}encodeValue(e){return null!=e&&"object"==typeof e?this.serializeTestsHistory(e):encodeURI(e)}save(e=!1){if(!O.cookieReady&&!e)return;const t=this.dictionary.map(e=>[`${e.key}=${this.encodeValue(e.value)}`]).join("&");if(!h.isCnilReady())return u.isNil(window.ABTasty.temporaryCookieValues)&&(window.ABTasty.temporaryCookieValues={}),void(window.ABTasty.temporaryCookieValues[this.name]={value:t,config:this.getConfig()});const n=v.isLocalStorageMode();n?(new f.ABTastyLocalStorage).updateLocalStorage(this.name,t):s.set(this.name,t,this.getConfig()),this.isCrossDomainUsed()&&!e&&m.setCrossData(t),y.matchITPCondition()?n||(new f.ABTastyLocalStorage).updateLocalStorage(this.name,t):this.clear(n?v.STORAGE_MODE_COOKIES:v.STORAGE_MODE_LOCALSTORAGE),d.success("Saving datas to "+(n?"localStorage":"cookie"),t)}isFirstSession(){return 0===this.get(A.numberOfSessions).value}pageView(){const e=new l.ABTastySessionCookie,t=new f.ABTastyLocalStorage;this.incr(A.pagesViewedTotal,1);const n=Date.now();e.isNewSession?(this.isFirstSession()?(this.set(A.firstSessionTimestamp,n),this.assureVisitorId()):this.set(A.previousSessionTimestamp,this.get(A.currentSessionTimestamp).value),this.set(A.currentSessionTimestamp,n),this.incr(A.numberOfSessions,1),this.incr(A.pagesViewedInSession,1)):(this.incr(A.pagesViewedInSession,1),0===this.getFirstSessionTimestamp()&&this.set(A.firstSessionTimestamp,n),0===this.getCurrentSessionTimestamp()&&this.set(A.currentSessionTimestamp,n)),t.addVisitedPage(),this.save()}assureVisitorId(){this.getVisitorId()||this.set(A.visitorID,o.generateId())}campaignView(e,t){const n=new l.ABTastySessionCookie,i=this.getCampaign(e);i?this.setCampaign(e,{variationID:t,nbSeenTotal:i.nbSeenTotal+1,nbSeenInSession:n.isNewSession?1:i.nbSeenInSession+1,nbSessions:n.isNewSession?i.nbSessions+1:i.nbSessions,currentlyApplied:1,firstViewTimestamp:i.firstViewTimestamp,lastViewTimestamp:Date.now(),oneVisitorOneTest:1}):this.setCampaign(e,{variationID:t,nbSeenTotal:1,nbSeenInSession:1,nbSessions:1,currentlyApplied:1,firstViewTimestamp:Date.now(),lastViewTimestamp:Date.now(),oneVisitorOneTest:1}),this.save()}serializeTestsHistory(e){return Object.keys(e).map(t=>{const n=e[t];return[t,n.variationID,n.nbSeenTotal,n.nbSeenInSession,n.nbSessions,n.currentlyApplied,n.firstViewTimestamp,n.lastViewTimestamp,n.oneVisitorOneTest]}).map(u.join(".")).join("_")}deserializeTestsHistory(e){return e.split("_").filter(e=>!u.isEmpty(e)).map(u.split(".")).reduce((e,t)=>(e[Number(t[0])]={variationID:Number(t[1]),nbSeenTotal:Number(t[2]),nbSeenInSession:Number(t[3]),nbSessions:Number(t[4]),currentlyApplied:Number(t[5]),firstViewTimestamp:Number(t[6]),lastViewTimestamp:Number(t[7]),oneVisitorOneTest:Number(t[8])},e),{})}isCrossDomainUsed(){return c.getCrossDomainSettings().length>0&&this.matchUrlSettings()}}t.ABTastyCookie=O},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.matchWithCond=t.transferVarsToRedirUrl=t.addAnalyticsVarsToRedirUrl=t.getHashVars=t.getVars=t.addUrlParameter=t.getVar=t.getHashVar=t.getUrlWithoutParameters=t.urlParameterExists=t.getUrlParameter=t.getUrlHashVars=t.getUrlParameters=t.getUrlProtocol=t.getUrlHostName=t.getCookieDomain=t.getUrlWithoutHash=t.urlSplit=void 0;const o=a(n(0)),s=n(2),c=n(3),l=n(6),d=n(27);function u(e,t=document.location.href){return l.pipe(l.match(e),l.ifElse(l.isNil,()=>"",l.last),l.split("&"),l.reject(l.isEmpty),l.map(l.split("=")),l.fromPairs)(t)}function p(e=document.location.href){return u(/\?([^#]+)/,e)}function g(e=document.location.href){return u(/#([^?]+)/,e)}function f(){const{protocol:e,hostname:t,port:n,pathname:i}=document.location;return`${e}//${t}${""===n?"":n}${i}`}function m(e,t=!0){return l.pipe(e=>e.match(/\?([^#]+)/),l.ifElse(l.isNil,()=>"",e=>e[e.length-1]),l.split("&"),l.reject(l.isEmpty),l.map(l.split("=")),l.ifElse(()=>t,l.fromPairs,e=>e))(e)}function h(e=document.location.href){return l.pipe(e=>e.match(/#([^?]+)/),l.ifElse(l.isNil,()=>"",e=>e[e.length-1]),l.split("&"),l.reject(l.isEmpty),l.map(l.split("=")),l.fromPairs)(e)}function y(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function v(e){const t="tastypreprod";return l.pipe(e=>e.replace(`#${t}&`,"#"),e=>e.replace("#"+t,""),e=>e.replace(`&${t}&`,"&"),e=>e.replace("&"+t,""),e=>e.replace(`?${t}&`,"?"),e=>e.replace("?"+t,""))(e)}function b(e){try{return decodeURI(e)}catch(e){}return null}t.urlSplit=u,t.getUrlWithoutHash=function(e=document.location.href){return e.replace(/#([^?]+)/,"")},t.getCookieDomain=function(){const e=document.location.href,t="ABTastyDomainTest=true",n=c.getAccountSettings().isSecureCookie||d.isSecureIframe()?"Samesite=None;Secure;":"",i=l.pipe(e=>e.replace(/(https?\:\/\/)([^\/]+).*/,"$2"),l.split("."),e=>e.reverse(),e=>e.map((t,n)=>"."+e.reduce((e,t,i)=>i<=n?`${t}.${e}`:""+e)),e=>e.find(e=>(document.cookie=`${t};domain=${e};${n}`,-1!==document.cookie.indexOf(t))))(e);return document.cookie=`${t};expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=${i};${n}`,i},t.getUrlHostName=function(e=document.location.href){return e?l.pipe(e=>e.replace("http://",""),e=>e.replace("https://",""),l.split("/"))(e)[0]:e},t.getUrlProtocol=function(){return document.location.protocol+"//"},t.getUrlParameters=p,t.getUrlHashVars=g,t.getUrlParameter=function(e,t=document.location.href){return l.pipe(p,l.prop(e))(t)},t.urlParameterExists=function(e,t=document.location.href){return-1!==t.indexOf(e)},t.getUrlWithoutParameters=f,t.getHashVar=function(e,t=document.location.href){return l.pipe(g,l.prop(e))(t)},t.getVar=function(e,t=document.location.href){return l.pipe(m,l.prop(e))(t)},t.addUrlParameter=function(e,t,n){const i=new URL(n),r=""===i.search?"?":"&";return i.search+=`${r}${e}=${t}`,i.href},t.getVars=m,t.getHashVars=h,t.addAnalyticsVarsToRedirUrl=function(e){if(null==e||""===e)return"";const t=e.includes("?")?"&":"?",n=m(e),i=m(document.location.href,!1),r=["gclid","cid","utm_source","utm_medium","utm_campaign","utm_term","utm_content","xtor","xts","xtdt","cm_mmc","MKZOID"],a=l.pipe(l.filter(([e])=>!n[e]&&r.includes(e)),l.map(([e,t])=>`${e}=${t}`))(i);return 0===a.length?e:e+t+a.join("&")},t.transferVarsToRedirUrl=function(e,t=document.location.href){if(!e.includes("?")&&!t.includes("?"))return e;const n=m(e),i=m(t),r="?"+y(Object.assign({},i,n)),a=e.includes("#")?"#"+y(h(e)):"",o=function(e){return e.includes("?")?e.indexOf("?"):e.includes("#")?e.indexOf("#"):e.length}(e);return`${e.slice(0,o)}${r}${a}`},t.matchWithCond=function(e,t,n){let i,r;switch(e){case"simplematch":case"ignore_parameters":return i=n?v(n):l.pipe(f,v)(""),r=b(i),t===i||t+"/"===i||t===r||t+"/"===r;case"exact":case"equals":return i=v(n||document.location.href),r=b(i),t===i||t+"/"===i||t===r||t+"/"===r;case"substring":case"contains":return i=v(n||document.location.href),r=b(i),-1!==i.indexOf(t)||-1!==r.indexOf(t);case"regex":case"regexp":i=v(n||document.location.href);try{return new RegExp(t,"i").test(i)}catch(e){const n="The url check used an invalid regular expression => "+t;return s.captureException(new Error(n)),o.error(n,e),!1}}}},function(e,t,n){e.exports="function"==typeof Array.from?Array.from:n(106)},function(e,t,n){var i,r;!function(a){if(void 0===(r="function"==typeof(i=a)?i.call(t,n,t,e):i)||(e.exports=r),!0,e.exports=a(),!!0){var o=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=o,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},r.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!=typeof document){for(var r={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(i.read||i)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[l]=c,e===l)break}catch(e){}}return e?r[e]:r}}return r.set=a,r.get=function(e){return o(e,!1)},r.getJSON=function(e){return o(e,!0)},r.remove=function(t,n){a(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSecureItem=t.getSecureItem=t.setSecureItem=t.jsonp=t.waitFor=t.doWhen=void 0;const i=n(0);t.doWhen=function e(t,n,i=100){!0===t()?n():setTimeout(()=>{e(t,n,i)},i)},t.waitFor=function(e,t=16,n){let i;return new Promise((r,a)=>{const o=()=>e()?r(!0):i=setTimeout(o,t);o(),n&&setTimeout(()=>{clearTimeout(i),a(!0)},n)})},t.jsonp=function(e=null){try{if(null===e)return;const t=document.createElement("script");t.src=e,document.getElementsByTagName("head")[0].insertBefore(t,document.getElementsByTagName("head")[0].firstChild)}catch(e){i.error("Error during jsonp call",e)}},t.setSecureItem=function(e,t,n){"sessionStorage"===e?sessionStorage.setItem(t,n):localStorage.setItem(t,n)},t.getSecureItem=function(e,t){return"sessionStorage"===e?sessionStorage.getItem(t):localStorage.getItem(t)},t.removeSecureItem=function(e,t){"sessionStorage"===e?sessionStorage.removeItem(t):localStorage.removeItem(t)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ABTastySessionCookie=t.SessionCookieKeys=void 0;const r=i(n(11)),a=n(6),o=n(3),s=n(0),c=n(2),l=n(9),d=n(26),u=n(27);var p;let g,f;!function(e){e.mrasn="mrasn",e.referrer="referrer",e.landingPage="lp",e.sen="sen"}(p=t.SessionCookieKeys||(t.SessionCookieKeys={}));class m{constructor(e=!1){if(this.dictionary=[{key:p.mrasn,value:"",typeCast:e=>String(e)},{key:p.landingPage,value:document.location.href,typeCast:e=>String(e)},{key:p.sen,value:-1,typeCast:e=>parseInt(e,10)}],g&&!e)return g;const{customCookieDomain:t,customCookiePath:n}=o.getAccountSettings();this.name=m.getCookieName(),this.customDomain=t,this.customPath=n;const i=this.getCookieValue();return i?(this.isNewSession=!1,void 0===f&&(f=!1),this.load(i)):(this.isNewSession=!0,void 0===f&&(f=!0),this.setLandingPage(document.location.href)),g=this,window.ABTasty.clearSessionCookie=this.clear.bind(this),this.save(),g}static getCookieName(){return"ABTastySession"}getCookieValue(){return d.isCnilReady()||a.isNil(window.ABTasty.temporaryCookieValues)||a.isNil(window.ABTasty.temporaryCookieValues[this.name])?r.default.get(this.name):window.ABTasty.temporaryCookieValues[this.name].value}get(e){return this.dictionary.find(t=>t.key===e)}set(e,t){this.get(e).value=t,this.save()}incr(e,t){const n=this.get(e);n.value=n.value+t,this.save()}resetDictionary(){this.dictionary.forEach(e=>{e.value=e.typeCast("")})}load(e){try{const t=new RegExp(this.dictionary.map(e=>`(${e.key}=.*)`).join("&"));e.match(t).slice(1).map((e,t)=>{const n=new RegExp(`(${this.dictionary[t].key})=(.*)`);return e.match(n).slice(1)}).forEach(([e,t])=>{this.set(e,this.get(e).typeCast(decodeURI(t)))})}catch(e){c.captureException(new Error("Error loading the session cookie. "+e)),this.resetDictionary(),this.isNewSession=!0,void 0===f&&(f=!0)}}save(){const e=this.dictionary.map(e=>[`${e.key}=${encodeURI(e.value)}`]).join("&");if(this.isValid(e)){if(!d.isCnilReady())return a.isNil(window.ABTasty.temporaryCookieValues)&&(window.ABTasty.temporaryCookieValues={}),void(window.ABTasty.temporaryCookieValues[this.name]={value:e,config:this.getConfig()});r.default.set(this.name,e,this.getConfig())}else c.captureException(new Error("Error saving the session cookie. Invalid cookie. Serialized: "+e)),s.error("Session cookie cannot be saved, incorrect value",e)}clear(){r.default.remove(this.name,this.getConfig())}isValid(e){return!0}getConfig(){return{expires:new Date((new Date).getTime()+18e5),path:this.customPath,domain:null===this.customDomain?l.getCookieDomain():this.customDomain,secure:o.getAccountSettings().isSecureCookie||u.isSecureIframe()||!1,samesite:o.getAccountSettings().isSecureCookie||u.isSecureIframe()?"none":"lax"}}setMrasn(e){this.set(p.mrasn,e)}getMrasn(){return this.get(p.mrasn).value}setLandingPage(e){this.set(p.landingPage,e)}getLandingPage(){return this.get(p.landingPage).value}getReferrer(){return""}getSen(){return this.get(p.sen).value}isItNewSession(){return f}incrementSen(){this.incr(p.sen,1)}}t.ABTastySessionCookie=m},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.hitError=t.shouldSendBeacon=t.processAbort=t.hit=void 0;const o=a(n(0)),s=n(18),c=n(26),l=n(12),d=n(6),u=n(2),p=n(4),g={"Chrome Mobile":79,Chrome:78,Firefox:71,Edge:78,Opera:65,Safari:13};let f,m,h=[];async function y(e,t=!1,n="https://ariane.abtasty.com"){if(!c.shouldWaitForCnil()||c.isCnilReady()||function({h:e}){return!!Array.isArray(e)&&e.some(({t:e,co:t})=>e===p.HIT_TYPES.consent&&"no"===t)}(e))if(t)b()?function(e,t){navigator.sendBeacon(e,JSON.stringify(t))}(n,e):v(e,!t,n);else if(window.fetch){let t={};if(!m)try{m=new AbortController,t={signal:m.signal}}catch(e){u.captureException(e)}f={args:e,endpoint:n},await fetch(n,Object.assign(Object.assign({},t),{mode:"no-cors",method:"POST",headers:{"Content-type":"text/plain"},body:JSON.stringify(e)})),f=null}else f={args:e,endpoint:n},v(e,!t,n);else 0===h.length&&l.doWhen(c.isCnilReady,()=>{h.forEach(e=>{y(e.args,e.sync,e.endpoint)}),h=[]},100),h.push({args:e,sync:t,endpoint:n})}function v(e,t=!0,n){const i=new XMLHttpRequest;i.open("POST",n,t),i.setRequestHeader("Content-type","text/plain"),i.send(JSON.stringify(e)),i.onload=function(){f=null},m||(m=i)}function b(){const e=s.getParsedUserAgent();return!!e&&!!e.browser&&!!e.browser.name&&Object.keys(g).indexOf(e.browser.name)>-1&&parseInt(e.browser.version,10)>=g[e.browser.name]}t.hit=y,t.processAbort=function(){m&&(m.abort(),d.isNil(f)||y(f.args,!0,f.endpoint))},t.shouldSendBeacon=b,t.hitError=function(e,t,n){o.warning(`AB Tasty warning: '${e}' hit cannot be sent, format is not correct.`,...t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchBatch=t.resetBatchTimeout=t.aggregateHit=void 0;const i=n(14),r=n(4),a=n(46);let o,s=[];function c(){o&&"number"==typeof o&&clearTimeout(o),o=setTimeout(()=>{l()},500)}function l(e=!1){if(!s||!s.length)return void(e&&i.processAbort());s.map(e=>{e.qt=Date.now()-e.qt});const t=Object.assign(Object.assign({},a.getCommonProperties()),{h:s,t:r.HIT_TYPES.batch});i.hit(t,e),s=[]}t.aggregateHit=function(e){s.push(e),c(),JSON.stringify(s).length>=40960&&l()},t.resetBatchTimeout=c,t.dispatchBatch=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkAndFixArguments=t.isGoodType=t.valueError=void 0;const i=n(4),r=n(6);t.valueError=function(e,t,n){return`Argument '${e}' value is incorrect. Expected one of ${n.map(e=>`"${e}"`).join(", ")}, received ${t}`};const a={t:{label:"Hit Type",required:!0,type:"string",allowedValues:Object.values(i.HIT_TYPES)},sen:{label:"Session Event Number",required:!0,type:"number"},tecp:{label:"Target Element CSS Path",required:!1,type:"string"},cp:{label:"Cursor Position",required:!1,type:"string"},teid:{label:"Target Element ID",required:!1,type:"string"},tc:{label:"Target Element Classname",required:!1,type:"string"},otbe:{label:"Over Time Before Event",required:!1,type:"number"},tes:{label:"Target Element Size",required:!1,type:"string"},tep:{label:"Target Element Position",required:!1,type:"string"},tcec:{label:"Target Child Element Count",required:!1,type:"number"},tet:{label:"Target Element Tagname",required:!1,type:"string"},esp:{label:"Event Scroll Percent",required:!1,type:"number"}};function o(e,t){const{type:n,condition:a,model:s,allowEmpty:c=!0}=t,l=typeof e;switch(n){case i.AllowType.Boolean:return l===n||["number"].some(e=>e===l);case i.AllowType.IntegerArray:return Array.isArray(e)&&(!c&&e.length>0||c)&&e.every(e=>o(e,{type:i.AllowType.Integer,condition:a}));case i.AllowType.Integer:return"boolean"!==l&&!isNaN(e)&&Number(e)%1==0&&(!a||a&&a(Number(e)));case i.AllowType.FloatArray:return Array.isArray(e)&&(!c&&e.length>0||c)&&e.every(e=>o(e,{type:i.AllowType.Float,condition:a}));case i.AllowType.Float:return"boolean"!==l&&!isNaN(e)&&(!a||a&&a(Number(e)));case i.AllowType.ArrayArray:return Array.isArray(e)&&(!c&&e.length>0||c)&&e.every(e=>o(e,{type:i.AllowType.Array,condition:a}));case i.AllowType.Array:return Array.isArray(e)&&(!c&&e.length>0||c);case i.AllowType.ObjectArray:return Array.isArray(e)&&(!c&&e.length>0||c)&&e.every(e=>o(e,{type:i.AllowType.Object,model:s,condition:a,allowEmpty:c}));case i.AllowType.Object:return l===n&&!Array.isArray(e)&&(!(!c&&Object.keys(e).length<=0)&&(!s||Object.entries(e).every(([e,t])=>o(e,s.key)&&o(t,s.value))));case i.AllowType.StringArray:return Array.isArray(e)&&(!c&&e.length>0||c)&&e.every(e=>o(e,{type:i.AllowType.String,condition:a}));case i.AllowType.String:return(l===n||["number","boolean"].some(e=>e===l)&&!isNaN(e))&&!r.isNil(e)&&(!c&&(""+e).length>0||c)&&(!a||a&&a(""+e));default:return l===n}}t.isGoodType=o,t.checkAndFixArguments=function(e,t){const n=Object.assign(Object.assign({},a),t);return Object.keys(n).reduce((t,i)=>{const a=n[i];if(a){const{label:n,required:s,types:c,maxLength:l,allowedValues:d}=a,u=e[i];if(s&&(r.isNil(u)||r.isEmpty(u)))t.push(`Argument '${i}' (${n}) is missing`);else if(void 0!==u&&c&&c.length>0){const a=c.map(t=>{const a=e[i],s=typeof a;if(!o(a,t))return`Argument '${i}' (${n}) is of wrong type ${s} (expected ${JSON.stringify(t)})`;switch(t.type.toLowerCase()){case"boolean":e[i]=!!a;break;case"integer":case"float":e[i]=Number(a);break;case"string":!["number","boolean"].some(e=>e===s)||isNaN(a)||void 0===a||r.isNil(a)||(e[i]=""+a)}});a.every(e=>e&&e.length>0)&&a.forEach(e=>t.push(e))}if(null!=u&&d&&-1===d.indexOf(u)){const e=d.map(e=>`"${e}"`).join(", ");t.push(`Argument '${i}' (${n}) value is not allowed (expected one of ${e}, received ${u})`)}null!=u&&l&&u.length>l&&t.push(`Argument '${i}' (${n}) is too long (length of ${u.length}, expected ${l})`)}return t},[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storageFacade=t.STORAGE_SESSION=t.STORAGE_LOCAL=void 0;const i=n(12),r=n(44),a=n(26),o=n(3);let s,c,l;function d(){return!!a.isCnilReady()||"disabled"===o.getAccountSettings().waitForCnilMode}function u(e){const t=/^(ab\s?tasty|ab-sr-.+)/i;let n="";for(let r=window[e].length-1;r>=0;r--)n=window[e].key(r),n.match(t)&&(this.data[e][n]=window[e][n],i.removeSecureItem(e,n))}t.STORAGE_LOCAL="localStorage",t.STORAGE_SESSION="sessionStorage",s=function(e,t,n){this.state.inmemory&&d()&&this.migrate(),this.state.inmemory?this.data[e]=Object.assign(this.data[e],{[t]:n}):i.setSecureItem(e,t,n)},c=function(e,t){return this.state.inmemory&&d()&&this.migrate(),this.state.inmemory?r.pathOr(null,[e,t],this.data):i.getSecureItem(e,t)||null},l=function(e,t){this.state.inmemory&&d()&&this.migrate(),this.state.inmemory?delete this.data[e][t]:i.removeSecureItem(e,t)},t.storageFacade={state:{inmemory:!0},data:{localStorage:{},sessionStorage:{}},migrate:function(){switch(d()?"browser":"memory"){case"browser":Object.keys(this.data).forEach(e=>{Object.keys(this.data[e]).forEach(t=>{i.setSecureItem(e,t,this.data[e][t])})}),this.state.inmemory=!1;break;case"memory":u.call(this,"localStorage"),u.call(this,"sessionStorage"),this.state.inmemory=!0}},setItem:s,getItem:c,removeItem:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedUserAgent=t.fetchUserAgentParser=void 0;const i=n(23),r=n(2),a=n(24),o=n(17),s=n(17),c=n(21),l=n(4),d=n(3),u={TIMEOUT:3e3,ROUTE:"//dcinfos-cache.abtasty.com/v1/ua-parser"};function p(){window.ABTasty.pendingUAParser=!1,sessionStorage.setItem("ABTastyUA","")}function g(){try{return JSON.parse(o.storageFacade.getItem(s.STORAGE_SESSION,"ABTastyUA"))}catch(e){return void r.captureException(new Error("Error parsing userAgentParser: "+e))}}t.fetchUserAgentParser=function(){if(null!=g())return void(window.ABTasty.pendingUAParser=!1);window.ABTasty.pendingUAParser=!0,navigator&&navigator.userAgent&&d.shouldSendUserAgent()&&c.dispatchHit(l.HIT_TYPES.event,{ec:"ABTasty Debug",ea:"UA debug",cv:{30:"abtasty_debug,"+JSON.stringify(navigator.userAgent).replace(/,/g,";;;")}}),window.performance&&window.performance.mark&&window.performance.mark("userAgentStart"),i.post(u.ROUTE,{ua:navigator.userAgent}).then(e=>e.json()).then(e=>{if(window.ABTasty.pendingUAParser=!1,o.storageFacade.setItem(s.STORAGE_SESSION,"ABTastyUA",JSON.stringify(e)),window.performance&&window.performance.mark){window.performance.mark("userAgentEnd"),window.performance.measure("userAgentTiming","userAgentStart","userAgentEnd");const e=window.performance.getEntriesByName("userAgentTiming");window.ABTasty.latency.userAgentTiming=e&&e[0]?e[0].duration:null}}).catch(e=>{p(),r.captureException(new Error("Error while fetching userAgentParser data: "+e))});const e=setTimeout(()=>{void 0===g()&&p()},u.TIMEOUT);a.registerTimeout("userAgentFetchLoop",e)},t.getParsedUserAgent=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ABTastyLocalStorage=void 0;const i=n(8),r=n(6),a=n(12),o=n(17);t.ABTastyLocalStorage=class{constructor(){}getABTastyData(){return JSON.parse(this.getFromLocalStorage("ABTastyData"))||{}}getItemFromABTastyData(e){return this.getABTastyData()[e]}getActionTrackings(){return this.getABTastyData()&&this.getABTastyData().ActionTracking}addActionTracking(e){this.addItemToABTastyData("ActionTracking",e)}getTransactions(){return this.getABTastyData()&&this.getABTastyData().transactions}addTransaction(e){this.addItemToABTastyData("transactions",e)}getItems(){return this.getABTastyData()&&this.getABTastyData().items}addItem(e){this.addItemToABTastyData("items",e)}addSegment(e){this.addItemToABTastyData("segments",e)}setSegments(e){const t=this.getABTastyData();this.updateLocalStorage("ABTastyData",JSON.stringify(Object.assign(Object.assign({},t),{segments:e})))}getCustomVariables(){return this.getABTastyData()&&this.getABTastyData().CV}getSegments(){return this.getABTastyData()&&this.getABTastyData().segments}addCustomVariable(e){this.addItemToABTastyData("CV",e)}getVisitedPages(){return this.getABTastyData()&&this.getABTastyData().VisitedPages}editLastVisitedPage(e){const t=this.getVisitedPages();if(r.isEmpty(t))return;const n=t[t.length-1];t[t.length-1]=Object.assign(Object.assign({},n),e);const i=this.getABTastyData();this.updateLocalStorage("ABTastyData",JSON.stringify(Object.assign(Object.assign({},i),{VisitedPages:t})))}addVisitedPage(e=document.location.href,t=document.title){const n={url:e,visite:(new i.ABTastyCookie).getNumberOfSessions(),time:Date.now(),title:t};this.addItemToABTastyData("VisitedPages",n),r.isEmpty(t)&&a.doWhen(()=>!r.isEmpty(document.title),()=>this.editLastVisitedPage({title:document.title}))}addItemToABTastyData(e,t){const n=this.getABTastyData();n[e]&&Array.isArray(n[e])||(n[e]=[]),n[e].push(t),this.updateLocalStorage("ABTastyData",JSON.stringify(n))}updateLocalStorage(e,t){return o.storageFacade.setItem(o.STORAGE_LOCAL,e,t)}getFromLocalStorage(e){return o.storageFacade.getItem(o.STORAGE_LOCAL,e)}removeLocalStorage(e){return o.storageFacade.removeItem(o.STORAGE_LOCAL,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserIp=t.getGeoloc=t.fetchGeoloc=void 0;const i=n(23),r=n(2),a=n(24),o=n(17),s=n(17),c={TIMEOUT:3e3,ROUTE:"//dcinfos-cache.abtasty.com/v1/geoip"};function l(){sessionStorage.setItem("ABTastyGeoloc","")}function d(){try{return JSON.parse(o.storageFacade.getItem(s.STORAGE_SESSION,"ABTastyGeoloc"))}catch(e){return r.captureException(new Error("Error parsing geoloc: "+e)),null}}t.fetchGeoloc=function(){if(null!=d())return;window.performance&&window.performance.mark&&window.performance.mark("geolocStart"),i.post(c.ROUTE,{weather:!0}).then(e=>e.json()).then(e=>{if(o.storageFacade.setItem(s.STORAGE_SESSION,"ABTastyGeoloc",JSON.stringify(e)),window.performance&&window.performance.mark){window.performance.mark("geolocEnd"),window.performance.measure("geolocTiming","geolocStart","geolocEnd");const e=window.performance.getEntriesByName("geolocTiming");window.ABTasty.latency.geolocTiming=e&&e[0]?e[0].duration:null}}).catch(e=>{l(),r.captureException(new Error("Error while fetching geoloc data: "+e))});const e=setTimeout(()=>{null==d()&&l()},c.TIMEOUT);a.registerTimeout("geolocFetchLoop",e)},t.getGeoloc=d,t.getUserIp=function(){const e=d();return e&&e.ip_address}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobals=t.listenToEvents=t.getCurrentScrollPercent=t.aggregateActionTracking=t.dispatchHit=t.incrementSessionEventNumber=void 0;const i=n(92),r=n(93),a=n(94),o=n(95),s=n(96),c=n(97),l=n(98),d=n(15),u=n(4),p=n(99),g=n(100),f=n(101),m=n(13),h=n(8),y=n(19),v=n(102),b=n(29);const T={elementsMap:new Map,sessionEventNumber:void 0,mouse:{pageX:0,pageY:0}},w={[u.HIT_TYPES.consent]:g.consentHit,[u.HIT_TYPES.campaign]:r.campaignHit,[u.HIT_TYPES.event]:o.eventHit,[u.HIT_TYPES.item]:c.itemHit,[u.HIT_TYPES.pageview]:i.pageviewHit,[u.HIT_TYPES.segment]:a.segmentHit,[u.HIT_TYPES.transaction]:s.transactionHit,[u.HIT_TYPES.performance]:l.performanceHit,[u.HIT_TYPES.visitorevent]:void 0,[u.HIT_TYPES.nps]:void 0,[u.HIT_TYPES.datalayer]:void 0,[u.HIT_TYPES.product]:f.productHit};let S=[];function _(e){O(e),E(u.HIT_TYPES.visitorevent,{et:p.VISITOR_EVENT_TYPES.click},e)}function A(){const e=new m.ABTastySessionCookie;e.incrementSen(),T.sessionEventNumber=e.getSen()}function E(e,t={},n){A();const i=Date.now();w[e.toUpperCase()](Object.assign(Object.assign({},t),{qt:i,sen:T.sessionEventNumber}),Object.assign({},T),n)}function O(e){e.pageX&&(T.mouse={pageX:e.pageX,pageY:e.pageY})}function C([e,t]){document.removeEventListener(e,t)}function k([e,t]){document.addEventListener(e,t,!0)}function I(e,t,n){const i=new h.ABTastyCookie;if(e&&void 0!==n?Object.keys(i.getCampaigns()).length<=0:i.hasSeenCampaign(n))return;const r={name:e,value:0,time:Date.now()};(new y.ABTastyLocalStorage).addActionTracking(r);const a=i.getCampaign(n),o=a?a.variationID:null;E(u.HIT_TYPES.event,null!=n&&null!=a&&null!=o?{ec:"Action Tracking",ea:e,caid:n.toString(),vaid:o.toString()}:{ec:"Action Tracking",ea:e})}function x(){const e=100*(document.body.scrollTop||document.documentElement.scrollTop)/(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight);return Math.round(e)}t.incrementSessionEventNumber=A,t.dispatchHit=E,t.aggregateActionTracking=I,t.getCurrentScrollPercent=x,t.listenToEvents=function(){S.forEach(C),S=[["click",_]],S.forEach(k)},t.setGlobals=()=>{window.abtasty.send=E,window.ABTastyClickTracking=I,window.ABTastyEvent=I,v.init(),function(){const e=b.isIos()?"pagehide":"beforeunload";window.addEventListener(e,()=>(d.dispatchBatch(!0),null))}()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},o=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Campaign=void 0;const s=n(40),c=n(3),l=n(6),d=n(91),u=n(104),p=n(0),g=n(12),f=n(8),m=n(130);let h;h=n(49);const y=n(50),v=n(21),b=n(4),T=n(132),w=n(20),S=n(18),_=n(133),A=n(27),E=n(143),O=n(24),C=a(n(51)),k=n(25),I=n(39),x=n(35),P=n(34),N=n(149),D=n(2),M=n(45),R={id:0,name:"Original",masterVariationId:0},j={},B=e=>j[e],L=[];class ${constructor(e){const{id:t}=e;if(B(t))return B(t);this.data=e,this.forceUntracking=!1,j[t]=this,this.initPublicData()}static resetCampaigns(){Object.keys(j).forEach(e=>{const t=B(e);t.chosenVariation=null,t.updatePublicData({id:null,name:null}),delete j[e]})}getType(){return this.data.type}getChildren(){return this.data.children}getId(){return this.data.id}getName(){return this.data.name}getChosenVariation(){return this.chosenVariation}static instanciate(e){const t=$.getCampaignData(e);if(t)return new $(t)}static getActiveCampaigns(e=null){return l.pipe(l.pickBy(({status:t,variationID:n},i)=>(null!==e&&e===Number(i)||null===e)&&t===s.CampaignStatus.accepted&&null!==n&&-1!==n),l.mapObjIndexed((e,t)=>Object.assign(Object.assign({},e),{testDatas:B(t).data})))(window.ABTasty.results)}static getCampaignData(e){return c.getAccountData().tests[e]}static getCampaignsDatas(e){const t=(e||c.getAccountData()).tests,{global:n}=t,i=o(t,["global"]);return Object.values(i)}static getGlobalCampaignsInfos(e){const t=(e||c.getAccountData()).tests,{global:n}=t;o(t,["global"]);return n}getVariation(e){return 0===e?R:this.data.variations[e]}getVariationByMasterId(e){return Object.values(this.data.variations).find(t=>t.masterVariationId===e)}getMasterVariationId(e){return this.getVariation(e).masterVariationId}getParent(){const e=$.getCampaignData(this.data.parentID);return new $(e)}getParentId(){return this.getParent().data.id}getStatus(){return this.data.status||s.CampaignStatus.pending}getSeenBrothers(){const{parentID:e,siblings:t}=this.data;if(0===e||null==t||0===t.length)return null;const n=new f.ABTastyCookie;return t.map(e=>{const t=n.getCampaign(e);return t?Object.assign({campaignId:e},t):null}).filter(e=>!l.isNil(e))}setStatus(e){this.data.status=e,l.isNil(window.ABTasty.results[this.data.id])&&this.initPublicData(),window.ABTasty.results[this.data.id].status=e}isContainer(){return[s.CampaignTypes.multipage,s.CampaignTypes.multivariate,s.CampaignTypes.mastersegment].includes(this.data.type)}isMultivariate(){return this.data.type===s.CampaignTypes.multivariate}isMultipage(){return this.data.type===s.CampaignTypes.multipage}isPersonalisation(){return this.data.type===s.CampaignTypes.mastersegment}isMultivariateChild(){if(0===this.data.parentID)return!1;return $.instanciate(this.data.parentID).isMultivariate()}isMultipageChild(){if(0===this.data.parentID)return!1;return $.instanciate(this.data.parentID).isMultipage()}isPersonalisationChild(){if(0===this.data.parentID)return!1;return $.instanciate(this.data.parentID).isPersonalisation()}isDynamicAllocation(){return null!=this.data.dynamicTrafficGoalId&&""!==this.data.dynamicTrafficGoalId}getDynamicAllocationProperties(){return{isDynamic:this.isDynamicAllocation(),testedTraffic:this.data.dynamicTestedTraffic,modulation:this.data.dynamicTrafficModulation}}isAsync(){return this.data.isAsync||!1}async waitForTargetingAvailability(){const{id:e}=this.data;_.audienceNeedsDCInfos(e)&&l.isNil(T.getDcInfos())&&await g.waitFor(()=>null!=T.getDcInfos()),this.isDynamicAllocation()&&await g.waitFor(()=>null!=M.getDynamicAllocationData()),_.audienceNeedsGeoloc(e)&&await g.waitFor(()=>null!=w.getGeoloc()),_.audienceNeedsUserAgentParser(e)&&await g.waitFor(()=>null!=S.getParsedUserAgent()),_.audienceNeedsAdblockTargeting(e)&&await A.detectAdBlock()}isTargetByEvent(){return Boolean(this.data.scopes.urlScope.find(({value:e})=>e===k.ALL_EVENTS_VALUE))}alreadySeenOneTest(e){let t=!1;const{siblings:n=[]}=this.data,i=(new f.ABTastyCookie).getCampaigns();return Object.keys(i).forEach(r=>{const a=c.getAccountCampaign(Number(r)),o=i[r];null!=a&&null==a.type.match(/(mastersegment|subsegment)/)&&1===o.oneVisitorOneTest&&Number(r)!==e&&-1!==o.variationID&&n.indexOf(Number(r))<0&&(t=!0)}),t}initPublicData(){const{id:e,name:t,type:n,status:i}=this.data,r={name:t,type:n,status:i,variationID:this.chosenVariation,variationName:null,targetings:{[k.TARGET_PAGES_NAME]:{},[k.QA_MODE_NAME]:{}}};window.ABTasty.results&&(window.ABTasty.results[e]=l.propOr(r,e,window.ABTasty.results))}static updatePublicTargetingData(e,t,n,i=k.AUDIENCE_NAME,r=null){const a=window.ABTasty.results[e];if(void 0===a||!t)return;let o=a.targetings[i];if([k.AUDIENCE_TRIGGER_NAME,k.AUDIENCE_SEGMENT_NAME].indexOf(i)>-1){o=o||[];const e={success:n,conditions:t.conditions,targeting_type:t.targeting_type,operator:t.operator,name:Object.keys(C).find(e=>C[e]===t.targeting_type),group:r};o=o.filter(t=>t.targeting_type!==e.targeting_type||t.group!==e.group),o.push(e)}else o=o||{},o[t.targeting_type]=Object.assign(Object.assign({},o[t.targeting_type]),{conditions:t.conditions,success:n}),i===k.AUDIENCE_NAME&&(o[t.targeting_type]=Object.assign(Object.assign({},o[t.targeting_type]),{operator:t.operator,name:Object.keys(C).find(e=>C[e]===t.targeting_type)}));a.targetings[i]=o,window.ABTasty.results[e]=a}updatePublicData({id:e,name:t}){window.ABTasty.results[this.data.id].variationID=e,window.ABTasty.results[this.data.id].variationName=t}hasSeenMaster(){const{parentID:e}=this.data;if(0===e)return null;const t=new f.ABTastyCookie;return!l.isNil(t.getCampaign(e))}hasMultivariateSibling(){const{id:e,parentID:t,siblings:n}=this.data;if(0===t)return!1;if(null==n||0===n.length)return!1;const i=(new f.ABTastyCookie).getCampaigns();return Object.keys(i).some(t=>Number(t)===e)}hasBrotherAlreadyStarted(){const{parentID:e,siblings:t}=this.data;return 0!==e&&(null!=t&&0!==t.length&&t.some(e=>{const t=$.instanciate(e);return t.getStatus()===s.CampaignStatus.checking&&t.data.priority<this.data.priority?(this.startPendingMode(),!0):t.getStatus()===s.CampaignStatus.accepted}))}hasAlreadySeenBrothers(){const e=this.getSeenBrothers();return!l.isNil(e)&&!l.isEmpty(e)}isCheckingBrothers(){if(!this.isPersonalisationChild())return!1;return $.getCampaignsDatas().filter(e=>{const t=B(e.id);return!(l.isNil(t)||!t.isPersonalisationChild()||e.id===this.data.id||!e.siblings||e.siblings.indexOf(this.data.id)<0)&&t.getStatus()===s.CampaignStatus.checking}).length>0}isCheckingOtherCampaigns(){if(this.isPersonalisation()||this.isPersonalisationChild())return!1;return $.getCampaignsDatas().filter(({id:e})=>{const t=B(e);return e!==this.data.id&&!l.isNil(t)&&(!(t.isPersonalisation()||t.isMultipage()||t.isMultivariate())&&e!==this.data.id&&t.getStatus()===s.CampaignStatus.checking)}).length>0}isOneVisitorOneTestDone(){const{oneVisitorOneTest:e}=c.getAccountSettings(),{id:t,type:n,parentID:i}=this.data;if(e&&n!==s.CampaignTypes.subsegment){let e=t;if(n===s.CampaignTypes.ab&&this.isMultipageChild()&&(e=i),this.alreadySeenOneTest(e)&&!this.hasMultivariateSibling())return!0}return!1}startPendingMode(){const e=setTimeout(()=>this.apply(),16);O.registerTimeout("targetingLoop_"+this.data.id,e)}static abTastyStartTest(e,t=null){const n=B(e);if(void 0!==n){if(t<0)return void n.setStatus(s.CampaignStatus.traffic);const i=new f.ABTastyCookie,r=i.getCampaign(e);!l.isNil(t)&&l.isNil(r)&&i.campaignView(e,t),n.launchCampaign()}}async updateCampaign(){if(this.isAsync())try{const e=await N.fetchModifications(this.data.id);l.isEmpty(e)||(this.data.variations=e)}catch(e){this.forceUntracking=!0}}launchCampaign(){this.updateCampaign().then(()=>{const{id:e,parentID:t,name:n,variations:i,globalCode:r,widgets:a,analytics:o,customAnalytics:c,actionTrackings:g}=this.data;I.wasRedirectedBy(e)?this.setStatus(s.CampaignStatus.acceptedByRedirection):this.setStatus(s.CampaignStatus.accepted);const T=new f.ABTastyCookie;try{D.logForSpecialClient({ec:"ABTasty Debug",ea:"Cookie value while launching a "+e+" campaign",cv:{30:"abtasty_debug,"+JSON.stringify(T).replace(/,/g,";")}})}catch(e){}const w=T.getCampaign(e);try{D.logForSpecialClient({ec:"ABTasty Debug",ea:"Campaign cookie extracted from ABTasty cookie",cv:{30:"abtasty_debug,id:"+e+";"+JSON.stringify(w).replace(/,/g,";")}})}catch(e){}let S=null;if(this.isMultipageChild()&&this.hasAlreadySeenBrothers()){const e=this.getSeenBrothers()[0];let t=null;if(e.variationID<0)S=e.variationID;else{const n=B(e.campaignId).getVariation(e.variationID);t=n?n.masterVariationId:0,S=l.isNil(t)||0===t?0:this.getVariationByMasterId(t).id}D.logForSpecialClient({ec:"ABTasty Debug",ea:"MP chosen variation id for already seen brother case",cv:{30:`abtasty_debug,chosenVariationId:${S}; masterVariationId:${t}`}})}else if(this.isMultipageChild()&&this.hasSeenMaster()){const e=T.getCampaign(t);S=e.variationID<0?e.variationID:0!==e.variationID?this.getVariationByMasterId(e.variationID).id:0,D.logForSpecialClient({ec:"ABTasty Debug",ea:"MP has seen master case",cv:{30:`abtasty_debug,chosenVariationId:${S}; variationAlreadySeen:${e}; parentID:${t}`}}),T.removeCampaign(t)}else if(w)S=w.variationID,D.logForSpecialClient({ec:"ABTasty Debug",ea:"Cookie campaign present case",cv:{30:"abtasty_debug,chosenVariationId:"+S}});else if(this.forceUntracking&&this.isAsync())S=-1,D.logForSpecialClient({ec:"ABTasty Debug",ea:"Force untracking && is acync case",cv:{30:"abtasty_debug,chosenVariationId:"+S}});else{S=d.allocateTraffic(i,e,this.getDynamicAllocationProperties());try{D.logForSpecialClient({ec:"ABTasty Debug",ea:"Default allocation case",cv:{30:`abtasty_debug,chosenVariationId:${S};`}})}catch(e){}}p.info("Campaign Viewed =",e,S),T.campaignView(e,S),D.logForSpecialClient({ec:"ABTasty Debug",ea:"Campaign cookie saved",cv:{30:"abtasty_debug,localStorage:"+localStorage.getItem("ABTasty")}}),0===S||S>0&&i[S]?(v.dispatchHit(b.HIT_TYPES.campaign,{caid:String(e),vaid:String(S)}),0===S||I.wasRedirectedBy(e)||(this.chosenVariation=new u.Variation(e,i[S]),this.chosenVariation.apply()),x.domReady(()=>{h.applyWidgets(a,e);const i=e+"testGlobalCode";if(window.performance&&window.performance.mark&&window.performance.mark(i+"Start"),P.applyCustomScript(r,null,e,S),window.performance&&window.performance.mark){window.performance.mark(i+"Stop"),window.performance.measure(i,i+"Start",i+"Stop"),window.ABTasty.latency.gct=window.ABTasty.latency.gct||{};const t=window.performance.getEntriesByName(i,"measure");window.ABTasty.latency.gct[e]=t&&t[0]?Math.round(t[0].duration):0}y.applyActionTrackings(g,e);const s=this.getVariation(S),l=e+"testAnalytics";window.performance&&window.performance.mark&&window.performance.mark(l+"Start");const d=this.isMultipageChild()?{campaignName:this.getParent().getName(),campaignId:t,variationName:s.name,variationId:s.masterVariationId}:{campaignName:n,campaignId:e,variationName:s.name,variationId:s.id};if(I.isDoingRedirection()||m.applyAnalytics(o,d,c),window.performance&&window.performance.mark){window.performance.mark(l+"Stop"),window.performance.measure(l,l+"Start",l+"Stop"),window.ABTasty.latency.all=window.ABTasty.latency.all||{};const t=window.performance.getEntriesByName(l,"measure");window.ABTasty.latency.all[e]=t&&t[0]?Math.round(t[0].duration):0}this.updatePublicData(s)})):this.setStatus(s.CampaignStatus.traffic)})}isUseDatalayer(e){for(const t in e.targeting_groups)for(const n in e.targeting_groups[t].targetings)if(e.targeting_groups[t].targetings[n].targeting_type==C.DATALAYER)return!0;return!1}async apply(){const{id:e,targetingMode:t,audience:n,audienceTrigger:i,audienceSegment:r,scopes:a,type:o,status:l}=this.data,{oneVisitorOneTest:d}=c.getAccountSettings();if(l===s.CampaignStatus.checking)return void p.info(`campaign:: Campaign ${e} is already in checking state`);if(d&&this.isCheckingOtherCampaigns())return void this.startPendingMode();if(this.setStatus(s.CampaignStatus.checking),this.isTargetByEvent())return void this.setStatus(s.CampaignStatus.targetByEventPending);if(o===s.CampaignTypes.subsegment){if(this.hasBrotherAlreadyStarted())return void this.setStatus(s.CampaignStatus.otherSubsegment);if(this.isCheckingBrothers())return this.startPendingMode(),void this.setStatus(s.CampaignStatus.waitingForSubsegmentCheck)}if(this.isOneVisitorOneTestDone())return void this.setStatus(s.CampaignStatus.oneVisitorOneTest);await this.waitForTargetingAvailability(),window.performance&&window.performance.mark&&-1===L.indexOf(e)&&(L.push(e),window.performance.mark(e+"VerifyTargetingStart"));const u=E.checkPageURL(a,this.data),g=!!u&&E.checkTargetPages(a,this.data),f=!!g&&E.checkQaParameters(a,this.data),m=!!f&&_.checkAudience(i,this.data),h=!!m&&_.checkAudience(r,this.data),y=()=>{if(window.performance&&window.performance.mark&&-1!==L.indexOf(e)&&!this.performanceMeasured){this.performanceMeasured=!0,window.performance.mark(e+"VerifyTargetingStop");try{window.performance.measure(e+"VerifyTargeting",e+"VerifyTargetingStart",e+"VerifyTargetingStop"),window.ABTasty.latency.tgl=window.ABTasty.latency.tgl||{};const t=window.performance.getEntriesByName(e+"VerifyTargeting","measure");window.ABTasty.latency.tgl[e]=t&&t[0]?Math.round(t[0].duration):0}catch(e){}}};h||I.wasRedirectedBy(e)?(p.success(`Targeting OK (campaign ${e})`),y(),this.launchCampaign()):!u||"waituntil"!==t&&x.domReady()?(y(),p.info("Targeting rejected."),u&&g?f?m?h?this.setStatus(s.CampaignStatus.audience):this.setStatus(s.CampaignStatus.segment):this.setStatus(s.CampaignStatus.trigger):this.setStatus(s.CampaignStatus.qaMode):this.setStatus(s.CampaignStatus.targetPages)):(p.info("Targeting loop."),this.setStatus(s.CampaignStatus.pending),this.startPendingMode())}}t.Campaign=$,$.getParentCampaignsIDs=e=>{const t=e||c.getAccountData();return l.pipe($.getCampaignsDatas,l.filter(l.propEq("parentID",0)),l.pluck("id"))(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.post=t.get=void 0;const i={method:"GET",cache:"no-cache"};function r(e,t={}){return window.fetch?fetch(e,Object.assign(Object.assign({},i),t)):function(e,t={}){const n=Object.assign(Object.assign({},i),t),r=new XMLHttpRequest;switch(r.open(n.method,e,!0),r.setRequestHeader("Content-type","text/plain"),n.method){case"GET":r.send();break;default:r.send(JSON.stringify(n.body))}return Promise.resolve(r)}(e,t)}t.get=function(e,t={}){return r(e,Object.assign({mode:"cors",headers:{Origin:document.location.origin}},t))},t.post=function(e,t,n={}){return r(e,Object.assign({mode:"cors",method:"POST",headers:{Origin:document.location.origin},body:JSON.stringify(t)},n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanSpecificTimeout=t.cleanTimeouts=t.registerTimeout=void 0;let i={};t.registerTimeout=function(e,t){i[e]=t},t.cleanTimeouts=function(){Object.keys(i).forEach(e=>clearTimeout(i[e])),i={}},t.cleanSpecificTimeout=function(e){clearTimeout(i[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_EVENT_CATEGORY=t.ALL_EVENTS_VALUE=t.AUDIENCE_TRIGGER_NAME=t.AUDIENCE_SEGMENT_NAME=t.AUDIENCE_NAME=t.QA_MODE_NAME=t.TARGET_PAGES_NAME=t.RESET_TRACKING_EVENT=t.SEMVER=t.TAG_VERSION=void 0,t.TAG_VERSION="latest",t.SEMVER=null,t.RESET_TRACKING_EVENT="abtasty_resetActionTracking",t.TARGET_PAGES_NAME="targetPages",t.QA_MODE_NAME="qaParameters",t.AUDIENCE_NAME="audience",t.AUDIENCE_SEGMENT_NAME="segment",t.AUDIENCE_TRIGGER_NAME="trigger",t.ALL_EVENTS_VALUE="$^",t.DEPRECATED_EVENT_CATEGORY="Deprecated Usage"},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.listenForCnilCompliency=t.setCnilReady=t.emitConsentValidEvent=t.isCnilReady=t.isCnilStrictMode=t.shouldWaitForCnil=t.resetCnilState=void 0;const s=o(n(11)),c=a(n(0)),l=n(3),d=n(8),u=n(13),p=n(17),g=n(33),f=n(4),m=n(21),h=n(103),y={hasDispatchedConsentValidEvent:!1,cnilReady:!1,consentAlreadyGiven:!1,validCallback:()=>{}},v=y;function b(){const e=l.getAccountSettings().waitForCnilMode;return"user_action"===e?!d.ABTastyCookie.exists():["disabled","third_party"].indexOf(e)<0}function T(){return v.cnilReady}function w(){if(v.consentAlreadyGiven||v.hasDispatchedConsentValidEvent)return;const e=new CustomEvent("consentValid");document.dispatchEvent(e),v.hasDispatchedConsentValidEvent=!0,v.consentAlreadyGiven=d.ABTastyCookie.exists()}function S(e){v.cnilReady=e,window.ABTasty.cnilReady=e}function _(){S(!0);const e=new d.ABTastyCookie,t=new u.ABTastySessionCookie;e.save(),t.save(),p.storageFacade.migrate(),w(),v.validCallback()}function A(){const e=()=>{const e=document.cookie.length>0;return e&&_(),e};if(!e()){const t=setInterval(()=>{e()&&clearInterval(t)},200);h.registerInterval("gdprAnyCookie",t)}}t.resetCnilState=function(){Object.entries(y).forEach(([e,t])=>v[e]=t)},t.shouldWaitForCnil=b,t.isCnilStrictMode=function(){return l.getAccountSettings().waitForCnilStrictMode},t.isCnilReady=T,t.emitConsentValidEvent=w,t.setCnilReady=S,t.listenForCnilCompliency=function(){if(v.consentAlreadyGiven=d.ABTastyCookie.exists(),!(b()&&!T()))return S(!0),void p.storageFacade.migrate();const e=l.getAccountSettings().waitForCnilMode;switch(e){case"custom_js":!function(){let e=!1;try{e=new Function(l.getAccountSettings().waitForCnilCustomJs)()}catch(e){c.error("GDPR compliency check: could not execute custom code",e)}e&&_()}();break;case"user_action":document.addEventListener("mousedown",_,!0),document.addEventListener("touchmove",_,!0),window.addEventListener("scroll",_,!0),v.validCallback=()=>{document.removeEventListener("mousedown",_,!0),document.removeEventListener("touchmove",_,!0),window.removeEventListener("scroll",_,!0)};break;case"any_cookie":A();break;case"specific_cookie":!function(){const e=l.getAccountSettings().waitForCnilCookie;"object"!=typeof e&&(c.warning("GDPR compliency check: Use any cookie instead of specific cookie"),A());const t=()=>{const{condition:t=""+g.EQUALS,value:n,name:i}=e,r=s.default.get(i);if(!r)return!1;switch(parseInt(t.toString(),10)){case g.CONTAINS:if(r.indexOf(n)>-1)return _(),!0;break;case g.REGEXP:if(new RegExp(n).test(r.toString()))return _(),!0;break;case g.EQUALS:default:if(r===n)return _(),!0}return!1};if(!t()){const e=setInterval(()=>{t()&&clearInterval(e)},200);h.registerInterval("gdprSpecificCookie",e)}}();break;case"disabled":case"third_party":default:S(!0)}!T()&&d.ABTastyCookie.exists()&&"user_action"!==e&&(m.dispatchHit(f.HIT_TYPES.consent,{co:"no"}),(new d.ABTastyCookie).clearAll(),p.storageFacade.migrate())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectAdBlock=t.isSecureIframe=t.getUserLanguage=t.isObsoleteBrowser=void 0;const i=n(9),r=n(28),a=n(24);t.isObsoleteBrowser=function(e=window.navigator.userAgent){return/MSIE [678]/.test(e)},t.getUserLanguage=function(){return navigator.language.substring(0,2)||"en"},t.isSecureIframe=function(){return window.self!==window.top&&"https:"===window.location.protocol},t.detectAdBlock=function(){return new Promise(e=>{if(null!=window.ABTasty.ADBlockEnabled)return void e();window.performance&&window.performance.mark&&window.performance.mark("adblockStart");const t=setTimeout(()=>{void 0!==window.ABTasty.ADBlockEnabled&&(window.ABTasty.AdBlockDetectionFailed=!0,e("AbBlock detection failed"))},2e3);a.registerTimeout("adblockDetectionLoop",t);let n=!1;function o(){if(window.performance&&window.performance.mark){window.performance.mark("abblockEnd"),window.performance.measure("adblockTiming","adblockStart","abblockEnd");const e=window.performance.getEntriesByName("adblockTiming");window.ABTasty.latency.adblockTiming=e&&e[0]?e[0].duration:null}}const s=i.getUrlProtocol()+"try.abtasty.com/abt-advertisement.js",c=r.appendScript(s,(function(){window.ABTasty.ADBlockEnabled=!1,o(),e("AdBlock is disabled")}));c.async=!1,c.onerror=function(){n&&e(),n=!0,window.ABTasty.ADBlockEnabled=!0,o(),e("AdBlock is enabled")}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendScript=void 0;const i=n(0);t.appendScript=function(e,t){if(!e)return void i.error('appendScript called with missing "src" parameter');const n=document.getElementsByTagName("head")[0],r=document.createElement("script");return t&&(r.onload=t),r.setAttribute("type","text/javascript"),r.setAttribute("src",e),n.appendChild(r),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIos=t.matchITPCondition=t.ipToInt=t.jqueryToCssSelector=t.invertIfNotInclude=void 0;const i=n(6);t.invertIfNotInclude=function(e,t){return e?t:!t},t.jqueryToCssSelector=function(e){let t,n=e;return i.isNil(e)&&e.indexOf(":eq")>-1&&(n=e.replace(/html:eq\([0-9]+\)/g,"html"),n.match(/:eq\([0-9]+\)/g).forEach(e=>{t=Number(e.replace(":eq(","").replace(")",""))+1,n=n.replace(e,`:nth-of-type(${t})`)})),n},t.ipToInt=function(e){if(void 0===e)return;const t=e.split(".");return 256*(256*(256*+t[0]+ +t[1])+ +t[2])+ +t[3]},t.matchITPCondition=function(){return new RegExp("^(?=.*?\\b(safari)\\b)(?:(?!chrome|crios).)*$","gi").test(navigator.userAgent)},t.isIos=function(){return new RegExp("iPad|iPhone","i").test(navigator.userAgent)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.execCustomScript=void 0;const o=n(36),s=n(12),c=n(0),l=a(n(11)),d=n(8),u=n(13),p=n(19),g=n(20),f=n(18),m=n(22);t.execCustomScript=function(e,t,n,i){if(void 0===e)return!1;try{const i=o.getAppropriatejQuery(),r={doWhen:s.doWhen,jsCookie:l,ABTastyCookie:d.ABTastyCookie,ABTastySessionCookie:u.ABTastySessionCookie,ABTastyLocalStorage:p.ABTastyLocalStorage,getGeoloc:g.getGeoloc,getParsedUserAgent:f.getParsedUserAgent,campaignId:t,variationId:n,campaign:t?m.Campaign.instanciate(t):void 0};let a,c=e;return c=c.replace(/\$\.doWhen/g,"HELPERS.doWhen"),a=void 0===i?new Function("HELPERS",c)(r):new Function("$","jQuery","HELPERS",c)(i,i,r),a}catch(e){const r=void 0!==t?void 0!==n?`Campaign ${t} | Variation ${n}`:"Campaign "+t:void 0!==i?"Script fragment: Additional information "+i:"Global Script";return c.warning(r+" - Error during custom code execution (or code targeting)",e),!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector,n=e.value,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return[];var s=(0,a.qsa)(t);if(!s.length)return[];var c=[].concat(o(s)).map((function(e){var t=i.filter((function(t){return t.target===e}))[0]||(0,r.createAppliedModification)(),s=e.cloneNode(!0),c=(0,a.getDocument)().createElement("div");c.innerHTML=n;var l=[].concat(o(c.childNodes));return l.forEach((function(e){return(0,a.addChildNode)(s,e)})),(0,a.isEqualNode)(t.savedState,s)?t.elements.children.forEach((function(t){return(0,a.addChildNode)(e,t)})):(t.rollbacks=l.map((function(t){return(0,a.addChildNode)(e,t)})),t.target=e,t.elements.children=l,t.savedState=e.cloneNode(!0)),t}));return c};var r=n(7),a=n(5);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ELEMENT_SELECTOR=t.CLASS_SELECTOR=t.ID_SELECTOR=t.IS_NOT_DECLARED=t.IS_DECLARED=t.IGNORE_PARAMETERS=t.THUNDERSTORM=t.SNOW=t.SMOKE=t.RAIN=t.MIST=t.FOG=t.DUST=t.DRIZZLE=t.CLOUDS=t.CLEAR=t.IS_BETWEEN=t.LOWER_THAN_OR_EQUALS=t.GREATER_THAN_OR_EQUALS=t.LOWER_THAN=t.GREATER_THAN=t.NOT_CONTAINS=t.REGEXP=t.CONTAINS=t.ALL_VALUES=t.NOT_EQUALS=t.EQUALS=void 0,t.EQUALS=1,t.NOT_EQUALS=2,t.ALL_VALUES=3,t.CONTAINS=10,t.REGEXP=11,t.NOT_CONTAINS=13,t.GREATER_THAN=20,t.LOWER_THAN=21,t.GREATER_THAN_OR_EQUALS=22,t.LOWER_THAN_OR_EQUALS=23,t.IS_BETWEEN=24,t.CLEAR=30,t.CLOUDS=31,t.DRIZZLE=32,t.DUST=33,t.FOG=34,t.MIST=35,t.RAIN=36,t.SMOKE=37,t.SNOW=38,t.THUNDERSTORM=39,t.IGNORE_PARAMETERS=40,t.IS_DECLARED=41,t.IS_NOT_DECLARED=42,t.ID_SELECTOR=43,t.CLASS_SELECTOR=44,t.ELEMENT_SELECTOR=45},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyModifications=t.applyCustomScript=void 0;const i=n(105),r=n(35),a=n(0),o=n(31);let s;{const e=n(47);s=e.start}const c=["editStyleCSS","sort","changeLink","addLink","editAttributes","addCSS"],l=e=>e.filter(({type:e,value:t})=>i.MODIFICATION_ENGINE_COMPLIANT.includes(e)&&null!=t).map(e=>{const t=e;return c.includes(e.type)&&(t.value=(e=>{try{return JSON.parse(e)}catch(t){return e}})(e.value)),t});t.applyCustomScript=(e,n=null,i=null,a=null)=>{const s=null!=n&&""!==n;null!=e&&(s&&document.querySelectorAll(n).length>0?o.execCustomScript(e,i,a):s?setTimeout(()=>t.applyCustomScript(e,n,i,a),50):r.domReady(()=>o.execCustomScript(e,i,a)))},t.applyModifications=(e,n=null,r=null)=>{const o=l(e);o.length>0&&s&&s(o);const c=(e=>e.filter(({type:e,value:t})=>-1===i.MODIFICATION_ENGINE_COMPLIANT.indexOf(e)))(e);c.length>0&&c.forEach(e=>{const{type:i}=e;"customScriptNew"===i?t.applyCustomScript(e.oldValue,e.selector,n,r):/plugin_/.test(i)&&a.warning("Ignoring old plugin modification.")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domReady=void 0,t.domReady=function(e=null){const{readyState:t}=document,n="interactive"===t||"complete"===t;if(null==e)return n;if(n)e();else{const t=()=>{document.removeEventListener("DOMContentLoaded",t),e()};document.addEventListener("DOMContentLoaded",t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppropriatejQuery=void 0;const i=n(3);t.getAppropriatejQuery=function(){const{addJquery:e,jqueryVarName:t}=i.getAccountSettings();if(e){let e;return""!==t&&null!=t&&(e=t.split(".").reduce((e,t)=>e?e[t]:e,window)),e||window.jQuery||window.$}return window.jQuery}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(e,t){if(!e.selector||!e.value)return[];var n='<style type="text/css">'+a(e.selector,e.value)+"</style>";return(0,r.default)(i({},e,{selector:"head",value:n}),t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(32));var a=function(e,t){return e+" {"+Object.keys(t).reduce((function(e,n){return""+e+n+":"+t[n]+";"}),"")+"}"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=function(e){var t=e.selector,n=e.value;if(!t)return[];var o=(0,a.qsa)(t);return o.length?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}(o)).map((function(e){var t=(0,r.createAppliedModification)();return n.forEach((function(n){var i=n.action,r=n.attributeName,o=n.attributeValue;"string"==typeof r&&(null!=e.getAttribute(r)&&e.getAttribute(r)===o||t.rollbacks.push((0,a.setAttribute)(e,r,o,i)))})),t})):[]};var r=n(7),a=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyRedirections=t.isDoingRedirection=t.hasBeenRedirected=t.wasRedirectedBy=t.getRedirectedFrom=t.setRedirectedFrom=t.resetRedirectFrom=void 0;const i=n(129),r=n(9),a=n(3),o=n(13),s=/([0-9]+)\.([0-9]+)\.?([0-9]+)?/,c={testID:null,variationID:null};t.resetRedirectFrom=()=>{c.testID=null,c.variationID=null,delete window.ABTasty.redirectedFrom},t.setRedirectedFrom=(e,t)=>{c.testID=e,c.variationID=t},t.getRedirectedFrom=()=>c,t.wasRedirectedBy=e=>{const{testID:n}=t.getRedirectedFrom();return n&&n===e},t.hasBeenRedirected=()=>{if(t.getRedirectedFrom().testID)return!0;const e=new o.ABTastySessionCookie,n=r.getUrlParameter(o.SessionCookieKeys.mrasn)||e.getMrasn();if(s.test(n)){const i=n.match(s).slice(1,4).map(e=>Number(e));return!(i[2]&&Date.now()-i[2]>=1e4)&&(t.setRedirectedFrom(i[0],i[1]),window.ABTasty.redirectedFrom=Object.assign({},t.getRedirectedFrom()),e.setMrasn(""),!0)}return!1},t.isDoingRedirection=()=>!!window.ABTasty.pendingRedirection;t.applyRedirections=(e,n,s)=>{const{ATInternetReferrer:c,transferParameters:l,isRegex:d,target:u,pattern:p}=e[0],g=new RegExp(o.SessionCookieKeys.mrasn);if(t.isDoingRedirection()||t.hasBeenRedirected()||g.test(u))return;i.hidePage(1e3);let f=u;if(d&&(f=((e,t,n)=>{let i=e;const r=new RegExp(n,"gi");t.includes("?")&&document.location.href.includes("?")&&(i=t.replace("?","&")),i=document.location.href.replace(r,i);const a=i.substr(0,i.indexOf("#"));return i.includes("?")||""!==a&&!a.includes("&")||(i=i.replace("&","?")),i})(f,u,p)),f=r.addAnalyticsVarsToRedirUrl(f),1===l&&(f=r.transferVarsToRedirUrl(f,document.location.href)),a.getAccountData().accountSettings.hashMrasnAllowed)f=r.addUrlParameter("mrasn",`${n}.${s}`,f);else{const e=new o.ABTastySessionCookie;e.setMrasn(`${n}.${s}.${Date.now()}`),e.save()}if(1===c&&document.referrer){const e=new URL(document.referrer).hostname;f=r.addUrlParameter("xtref",e,f)}window.ABTasty.pendingRedirection=!0,/MSIE/.test(navigator.userAgent)&&(f=f.replace("&","&#38")),document.location.replace(f),i.hidePage(1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CampaignStatus=t.CampaignTypes=void 0,function(e){e.ab="ab",e.multipage="multipage",e.multivariate="multivariate",e.mastersegment="mastersegment",e.subsegment="subsegment"}(t.CampaignTypes||(t.CampaignTypes={})),function(e){e.accepted="accepted",e.pending="pending",e.rejected="rejected",e.oneVisitorOneTest="one_visitor_one_test",e.traffic="traffic_rejected",e.checking="currently_checking",e.otherSubsegment="another_subsegment_already_started",e.targetByEventPending="target_by_event_pending",e.acceptedByRedirection="accepted_by_redirection",e.targetPages="target_pages_rejected",e.qaMode="qa_parameters_rejected",e.audience="audience_rejected",e.trigger="trigger_rejected",e.segment="segment_rejected",e.notChecked="master_campaign_not_checked",e.waitingForSubsegmentCheck="other_subsegment_is_checking"}(t.CampaignStatus||(t.CampaignStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__=void 0,t.__="__missing__"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prop=void 0;const i=n(1);t.prop=i.curry((e,t)=>t[e])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.path=void 0;const i=n(1);t.path=i.curry((e,t)=>e.reduce((e,t)=>e?e[t]:void 0,t))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pathOr=void 0;const i=n(1),r=n(43),a=n(80);t.pathOr=i.curry((e,t,n)=>a.defaultTo(e,r.path(t,n)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDynamicAllocationData=t.fetchDynamicAllocation=t.DEFAULT_RESPONSE=t.ORIGINAL_VARIATION_ID=void 0;const i=n(23),r=n(3),a=n(2),o=n(17),s="dcinfos-cache.abtasty.com",c="ABTastyAllocation",l=(e,t)=>`https://${s}/dynalloc/clients/${e}/dynamic-allocation?campaignIDs=${t.join(",")}`;function d(){let e=void 0;try{e=JSON.parse(o.storageFacade.getItem(o.STORAGE_SESSION,c))}catch(e){a.captureException(new Error("Error parsing allocations data: "+e))}return e}t.ORIGINAL_VARIATION_ID="0",t.DEFAULT_RESPONSE="{}",t.fetchDynamicAllocation=function(e){if(null!=d())return;const n=setTimeout(()=>{null==o.storageFacade.getItem(o.STORAGE_SESSION,c)&&o.storageFacade.setItem(o.STORAGE_SESSION,c,t.DEFAULT_RESPONSE)},3e3);i.get(l(r.getAccountID(),e)).then(e=>{if(e.ok)return e.json();throw new Error("Error dynamic allocation responded with "+e.status)}).then(e=>{const{allocations:n}=e||{allocations:{}};return Object.keys(n).reduce((e,i)=>{if(n[i]&&n[i].success){if((n[i].variations||[]).findIndex(({id:e})=>e===t.ORIGINAL_VARIATION_ID)>=0)return Object.assign(Object.assign({},e),{[i]:n[i].variations});a.captureException(new Error(`Error dynamic allocation responded without original variation for campaign id ${i}, skipping it`))}return e},{})}).then(e=>{o.storageFacade.setItem(o.STORAGE_SESSION,c,JSON.stringify(e))}).catch(e=>{o.storageFacade.setItem(o.STORAGE_SESSION,c,t.DEFAULT_RESPONSE),a.captureException(new Error("Error fetching alocation service: "+e))}).finally(()=>{clearTimeout(n)})},t.getDynamicAllocationData=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonProperties=t.extractToleranceRegexp=t.extractToleranceQueryParams=void 0;const i=n(8),r=n(13),a=n(3),o=n(9);function s(e){const t=a.getAccountSettings().toleranceParams;if(!t||!t.length||!e)return e;try{let n=e;const i=e.split("?")[0],r=o.getUrlParameters(e);if(0===Object.keys(r).length)return n;t.forEach(e=>{delete r[e]});return n=`${i}?${Object.keys(r).map(e=>null==r[e]?"":`${e}=${r[e]}`).join("&")}`,n}catch(t){return console.warn("[ABTasty]: Sensitive data restrication can't be applied:"+t),e}}function c(e){const t=a.getAccountSettings().toleranceRegex;let n=e;if(!t)return n;try{const e=new RegExp(t).exec(n);e&&(e.shift(),n=e.join(""))}catch(e){console.warn(`[ABTasty] The sensitive data regexp "${t}" can't be applied:${e}`)}return n}function l(e){let t=s(e);return t=c(t),t}t.extractToleranceQueryParams=s,t.extractToleranceRegexp=c,t.getCommonProperties=function(){const e=new i.ABTastyCookie,t=new r.ABTastySessionCookie;let n=t.getReferrer();return!n&&t.isItNewSession()&&(n=document.referrer),{c:e.getCampaignHistory(),cid:a.getAccountIdentifier(),vid:e.getVisitorId(),dr:encodeURIComponent(l(n)),vp:`${window.innerWidth}x${window.innerHeight}`,sr:`${screen.width}x${screen.height}`,pt:encodeURIComponent(document.title),de:encodeURIComponent(document.characterSet),sd:encodeURIComponent(screen.colorDepth+"-bits"),ul:navigator.language||navigator.userLanguage,je:navigator.javaEnabled(),dl:encodeURIComponent(l(document.location.href)),cst:e.getCurrentSessionTimestamp(),sn:e.getNumberOfSessions(),sen:t.getSen()}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.rerun=t.simpleRollbackAndStop=t.stop=t.start=t.rollbackAndRun=t.addModification=t.rollback=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),r=n(48),a=n(108),o=n(5);var s=!1,c=["checked","class","disabled","form","hidden","href","icon","id","label","max","min","maxLength","minLength","method","name","novalidate","placeholder","readonly","rel","required","selected","size","span","src","target","title","type","value"],l=function(e){if(e){var t=(0,a.getModifiedElements)();if(!e.some((function(e){var n=[],r=!0;return n=e.addedNodes.length?e.addedNodes:e.removedNodes.length?e.removedNodes:[e.target],"attributes"===e.type&&c.indexOf(e.attributeName)<0&&(r=!1),r&&(0,a.modificationIsChildOf)([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}(n)),t)})))return}s&&(0,a.run)()};(0,r.createObserver)(l);t.rollback=function(){(0,a.clean)()};var d=t.addModification=function(e){e&&((0,a.add)(e),l())},u=(t.rollbackAndRun=function(e){(0,a.clean)(),d(e)},t.start=function(t,n){n&&(0,o.setDocument)(n),s||(s=!0,function t(){(0,o.getDocument)()?(0,r.getObserver)().observe((0,o.getDocument)(),{attributes:!0,childList:!0,characterData:!0,subtree:!0}):e.setTimeout(t,50)}()),d(t)}),p=t.stop=function(){s=!1,(0,r.getObserver)().disconnect()};t.simpleRollbackAndStop=function(){p(),(0,a.partialClean)()},t.rerun=function(){u(),(0,a.run)()}}).call(this,n(30))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(107),r=void 0;t.createObserver=function(e){r=new i(e)},t.getObserver=function(){return r}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.applyWidgets=void 0;const o=n(3),s=n(0),c=n(23),l=n(36),d=n(12),u=a(n(11)),p=n(8),g=n(13),f=n(19),m=n(20),h=n(18),y=({id:e,version:t,config:n,name:i},r,a)=>{const o=l.getAppropriatejQuery(),s={doWhen:d.doWhen,jsCookie:u,ABTastyCookie:p.ABTastyCookie,ABTastySessionCookie:g.ABTastySessionCookie,ABTastyLocalStorage:f.ABTastyLocalStorage,getGeoloc:m.getGeoloc,getParsedUserAgent:h.getParsedUserAgent};Function("$","jQuery","HELPERS",`!function($, jQuery, HELPERS){ try{const TEST_ID=${a},PACKAGE='${i}',VERSION = '${t}',DATA=${n},PLUGIN_ID = '${e}';\n  ${r}\n  }catch(e){console.log("AB Tasty: error while executing widget for test "+${a},'${i}','${t}',e)}}($, jQuery, HELPERS);`)(o,o,s)};t.applyWidgets=(e,t)=>{s.info("applying widgets");const n=o.getAccountData().widgets;e.forEach(e=>{const{id:i,version:r,config:a,name:o}=e;if((e=>!!window.ABTasty.appliedPlugins&&window.ABTasty.appliedPlugins.includes(e))(i))return;const s=n[o];if(null==s||null==s[r])return;const l=s[r];l.code?y(e,l.code,t):c.get(l.url).then(e=>e.text()).then(n=>y(e,n,t)),(e=>{window.ABTasty.appliedPlugins||(window.ABTasty.appliedPlugins=[]),window.ABTasty.appliedPlugins.push(e)})(i)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyActionTrackings=t.stopListening=void 0;const i=n(21),r=n(18),a=n(0),o=n(12);let s=!1,c=[],l={mousedown:[],click:[],submit:[]};const d=(e,t,n=!1)=>(l[t]||[]).filter(t=>!(n&&!t.clicked)&&(e.matches(t.selector)||e.closest(t.selector)));t.stopListening=()=>{c.forEach(({event:e,listener:t})=>{document.removeEventListener(e,t,!0)}),l={mousedown:[],click:[],submit:[]},c=[],s=!1};const u=e=>{const t=r.getParsedUserAgent(),n=t&&t.type?t.type.toLowerCase():null,a=({target:t})=>p(t,e);o.waitFor(()=>!window.ABTasty.pendingUAParser).then(()=>{"submit"!==e&&n&&"desktop"!==n&&"ontouchstart"in document.documentElement?s||(()=>{const e=({target:e})=>{d(e,"mousedown").forEach(e=>e.clicked=!0);d(e,"click").forEach(e=>e.clicked=!0)},t=({target:e})=>{d(e,"mousedown").forEach(e=>e.clicked=!1);d(e,"click").forEach(e=>e.clicked=!1)},n=({target:e})=>{d(e,"mousedown",!0).forEach(e=>{i.aggregateActionTracking(e.name,null,e.testId)});d(e,"click",!0).forEach(e=>{i.aggregateActionTracking(e.name,null,e.testId)})};document.addEventListener("touchstart",e,!0),document.addEventListener("touchmove",t,!0),document.addEventListener("touchend",n,!0),c.push({event:"touchstart",listener:e}),c.push({event:"touchmove",listener:t}),c.push({event:"touchend",listener:n})})():(document.addEventListener(e,a,!0),c.push({event:e,listener:a})),s||(s=!0)})},p=(e,t)=>{l[t]&&l[t].forEach(({selector:t,name:n,testId:r})=>{try{(e.matches(t)||e.closest(t))&&i.aggregateActionTracking(n,null,r)}catch(e){a.warning(`Provided for ${r} test selector ${t} is not valid: ${e}`)}})};t.applyActionTrackings=(e,t)=>{Object.keys(e).forEach(n=>{l[n]&&0===l[n].length&&u(n),((e,t,n)=>{t.forEach(t=>l[e].push(Object.assign(Object.assign({},t),{testId:n})))})(n,e[n],t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRODUCT_CATEGORY=t.PRODUCT_SKU=t.COUPON=t.AMOUNT=t.DELIVERY_METHOD=t.PAYMENT_METHOD=t.CONTENT_INTEREST=t.ENGAGEMENT_LEVEL=t.TEALIUM_DMP=t.KEYWORD=t.PURCHASE_FREQUENCY=t.LAST_PURCHASE=t.DATALAYER=t.SELECTOR=t.ACTION_TRACKING=t.CUSTOM_VARIABLE=t.CODE=t.URL_PARAMETER=t.ECOMMERCE_VARIABLE=t.DAYS_SINCE_FIRST_SESSION=t.DAYS_SINCE_LAST_SESSION=t.WEATHER=t.SESSION_NUMBER=t.ADBLOCK=t.SAME_DAY_VISIT=t.NUMBER_PAGES_VIEWED=t.SOURCE=t.CAMPAIGN_EXPOSITION=t.JS_VARIABLE=t.SCREEN_SIZE=t.PREVIOUS_PAGE=t.SOURCE_TYPE=t.RETURNING_VISITOR=t.BROWSER=t.LANDING_PAGE=t.BROWSER_LANGUAGE=t.COOKIE=t.GEOLOCALISATION=t.IP=t.DEVICE=t.ADOBE_DMP=t.WEBORAMA_DMP=t.KRUX_DMP=t.ADVALO_DMP=t.YSANCE_DMP=t.BLUEKAI_DMP=t.TAGCOMMANDER_DMP=t.EULERIAN_DMP=void 0,t.EULERIAN_DMP=1,t.TAGCOMMANDER_DMP=2,t.BLUEKAI_DMP=4,t.YSANCE_DMP=5,t.ADVALO_DMP=6,t.KRUX_DMP=7,t.WEBORAMA_DMP=8,t.ADOBE_DMP=10,t.DEVICE=17,t.IP=18,t.GEOLOCALISATION=19,t.COOKIE=20,t.BROWSER_LANGUAGE=21,t.LANDING_PAGE=22,t.BROWSER=23,t.RETURNING_VISITOR=24,t.SOURCE_TYPE=25,t.PREVIOUS_PAGE=26,t.SCREEN_SIZE=27,t.JS_VARIABLE=28,t.CAMPAIGN_EXPOSITION=29,t.SOURCE=30,t.NUMBER_PAGES_VIEWED=31,t.SAME_DAY_VISIT=32,t.ADBLOCK=33,t.SESSION_NUMBER=34,t.WEATHER=35,t.DAYS_SINCE_LAST_SESSION=36,t.DAYS_SINCE_FIRST_SESSION=37,t.ECOMMERCE_VARIABLE=38,t.URL_PARAMETER=39,t.CODE=40,t.CUSTOM_VARIABLE=41,t.ACTION_TRACKING=42,t.SELECTOR=43,t.DATALAYER=44,t.LAST_PURCHASE=45,t.PURCHASE_FREQUENCY=46,t.KEYWORD=47,t.TEALIUM_DMP=48,t.ENGAGEMENT_LEVEL=49,t.CONTENT_INTEREST=50,t.PAYMENT_METHOD=1,t.DELIVERY_METHOD=2,t.AMOUNT=3,t.COUPON=4,t.PRODUCT_SKU=5,t.PRODUCT_CATEGORY=6},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCookieStorageMode=t.isLocalStorageMode=t.checkStorageAviability=t.STORAGE_MODE_COOKIES=t.STORAGE_MODE_LOCALSTORAGE=void 0;const i=n(3),r=n(0);function a(){const{storageMode:e}=i.getAccountSettings();return e===t.STORAGE_MODE_LOCALSTORAGE}function o(){return i.getAccountSettings().storageMode===t.STORAGE_MODE_COOKIES}t.STORAGE_MODE_LOCALSTORAGE="local",t.STORAGE_MODE_COOKIES="cookies",t.checkStorageAviability=function(){const e=(a()&&null!=localStorage&&null!=localStorage.setItem&&null!=localStorage.getItem||o()&&navigator.cookieEnabled)&&null!=sessionStorage&&null!=sessionStorage.setItem&&null!=sessionStorage.getItem;return e||r.warning("AB Tasty script encountered an error: LocalStorage, SessionStorage & Cache option aren't allowed on this browser. Execution has stopped."),e},t.isLocalStorageMode=a,t.isCookieStorageMode=o},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),s=a(n(0)),c=n(52),l=n(151),d=n(3),u=n(20),p=n(18);function g(){const e=d.getAccountData();c.checkStorageAviability()&&function(){try{if(!d.getAccountSettings().accountIframeException&&window.parent!==window&&"object"==typeof window.parent.ABTasty){if(window.parent.ABTasty.accountData.accountSettings.identifier===d.getAccountSettings().identifier)return!1}}catch(e){}return!0}()&&(s.info("Starting execution...",e),window.ABTasty=window.ABTasty||{accountData:e,getAccountSettings:()=>d.getAccountSettings(),getGeoloc:()=>u.getGeoloc(),getParsedUserAgent:()=>p.getParsedUserAgent(),pendingRedirection:!1,pendingUAParser:!0,started:!1,latency:{},cnilReady:!1},window.abtasty=window.abtasty||{},l.isAllowed()&&l.getTagProcess()())}s.warning("Sentry calls disabled"),o.context(()=>{g()})},function(e,t,n){"use strict";var i=n(55),r=n(56);t.generateId=function(){var e=t.randomBytes(9);return t._encode(e)},t.validate=function(e){t._decode(e)},t.normalize=function(e){var n=t._decode(e),i=n.length-1;return t._encode(n.slice(0,i),n[i])},t.randomBytes=function(e){var t=[];if(e>0)for(;e-- >0;)t.push(~~(256*Math.random()));return t},t._encode=function(e,t){var n=new i.Encoder({type:"crockford",lc:!0});t=t||r(e);return n.write(e).finalize([t])},t._decode=function(e){var t=i.decode(e,{type:"crockford"}),n=t.length-1;if(r(t,0,n)!==t[n])throw new Error("invalid id");return t}},function(e,t,n){"use strict";var i=function(e,t){return t||(t={}),e.split("").forEach((function(e,n){e in t||(t[e]=n)})),t},r={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",charmap:{0:14,1:8}};r.charmap=i(r.alphabet,r.charmap);var a={alphabet:"0123456789ABCDEFGHJKMNPQRSTVWXYZ",charmap:{O:0,I:1,L:1}};function o(e){if(this.buf=[],this.shift=8,this.carry=0,e){switch(e.type){case"rfc4648":this.charmap=t.rfc4648.charmap;break;case"crockford":this.charmap=t.crockford.charmap;break;default:throw new Error("invalid type")}e.charmap&&(this.charmap=e.charmap)}}function s(e){if(this.buf="",this.shift=3,this.carry=0,e){switch(e.type){case"rfc4648":this.alphabet=t.rfc4648.alphabet;break;case"crockford":this.alphabet=t.crockford.alphabet;break;default:throw new Error("invalid type")}e.alphabet?this.alphabet=e.alphabet:e.lc&&(this.alphabet=this.alphabet.toLowerCase())}}a.charmap=i(a.alphabet,a.charmap),o.prototype.charmap=r.charmap,o.prototype.write=function(e){var t=this.charmap,n=this.buf,i=this.shift,r=this.carry;return e.toUpperCase().split("").forEach((function(e){if("="!=e){var a=255&t[e];(i-=5)>0?r|=a<<i:i<0?(n.push(r|a>>-i),r=a<<(i+=8)&255):(n.push(r|a),i=8,r=0)}})),this.shift=i,this.carry=r,this},o.prototype.finalize=function(e){return e&&this.write(e),8!==this.shift&&0!==this.carry&&(this.buf.push(this.carry),this.shift=8,this.carry=0),this.buf},s.prototype.alphabet=r.alphabet,s.prototype.write=function(e){var t,n,i,r=this.shift,a=this.carry;for(i=0;i<e.length;i++)t=a|(n=e[i])>>r,this.buf+=this.alphabet[31&t],r>5&&(t=n>>(r-=5),this.buf+=this.alphabet[31&t]),a=n<<(r=5-r),r=8-r;return this.shift=r,this.carry=a,this},s.prototype.finalize=function(e){return e&&this.write(e),3!==this.shift&&(this.buf+=this.alphabet[31&this.carry],this.shift=3,this.carry=0),this.buf},t.encode=function(e,t){return new s(t).finalize(e)},t.decode=function(e,t){return new o(t).finalize(e)},t.Decoder=o,t.Encoder=s,t.charmap=i,t.crockford=a,t.rfc4648=r},function(e,t,n){"use strict";var i=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];e.exports=function(e,t,n){var r;for(t||(t=0),null==n&&(n=e.length),r=0;r<n;r++)t=255&i[255&(t^e[r])];return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipe=void 0,t.pipe=function(...e){return(t,...n)=>e.reduce((e,i)=>null!=e?i(e):i(t,...n),void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.self=void 0,t.self=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;const i=n(1);t.throttle=i.curry((e,t)=>{let n,i;return function(...r){const a=+new Date;n&&a<n+e?(clearTimeout(i),i=setTimeout(()=>{n=a,t.apply(this,r)},e)):(n=a,t.apply(this,r))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pushInto=void 0;const i=n(1);t.pushInto=i.curry((e,t)=>e.push(t))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.call=void 0,t.call=(e,...t)=>e(...t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ifElse=void 0;const i=n(1);t.ifElse=i.curry((e,t,n,i)=>e(i)?t(i):n(i))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNil=void 0,t.isNil=function(e){return null==e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0,t.isEmpty=function(e){return null!=e&&("string"==typeof e?""===e:Array.isArray(e)?0===e.length:"object"==typeof e&&0===Object.keys(e).length)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.split=void 0;const i=n(1);t.split=i.curry((e,t)=>t.split(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.match=void 0;const i=n(1);t.match=i.curry((e,t)=>t.match(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitMap=void 0;const i=n(1);t.splitMap=i.curry((e,t,n)=>n.split(e).map(t).join(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;const i=n(1);t.map=i.curry((e,t)=>t.map(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reject=void 0;const i=n(1);t.reject=i.curry((e,t)=>t.reduce((t,n)=>e(n)?t:t.concat(n),[]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromPairs=void 0,t.fromPairs=e=>e.reduce((e,t)=>{const[n,i]=t;return 2===t.length?Object.assign(e,{[n]:i}):e},{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0,t.last=e=>e[e.length-1]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;const i=n(1);t.filter=i.curry((e,t)=>t.reduce((t,n)=>e(n)?t.concat(n):t,[]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;const i=n(1);t.groupBy=i.curry((e,t)=>{const n={};return t.forEach(t=>{const i=e(t);n[i]=n[i]||[],n[i].push(t)}),n})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;const i=n(1);t.pluck=i.curry((e,t)=>t.map(t=>t[e]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.join=void 0;const i=n(1);t.join=i.curry((e,t)=>t.join(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.some=void 0;const i=n(1);t.some=i.curry((e,t)=>t.some(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterProps=void 0;const i=n(1);t.filterProps=i.curry((e,t)=>e.reduce((e,n)=>{const i=e;return void 0!==t[n]&&(i[n]=t[n]),i},{}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propEq=void 0;const i=n(1);t.propEq=i.curry((e,t,n)=>n[e]===t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propOr=void 0;const i=n(1),r=n(44);t.propOr=i.curry((e,t,n)=>r.pathOr(e,[t],n))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTo=void 0;const i=n(1);t.defaultTo=i.curry((e,t)=>null==t||t!=t?e:t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propSatisfies=void 0;const i=n(1),r=n(42);t.propSatisfies=i.curry((e,t,n)=>e(r.prop(t,n)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pickBy=void 0;const i=n(1);t.pickBy=i.curry((e,t)=>{const n={};for(const i in t)e(t[i],i,t)&&(n[i]=t[i]);return n})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapObjIndexed=void 0;const i=n(1);t.mapObjIndexed=i.curry((e,t)=>Object.keys(t).reduce((n,i)=>(n[i]=e(t[i],i,t),n),{}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=void 0;const i=n(1);t.add=i.curry((e,t)=>e+t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.substract=void 0;const i=n(1);t.substract=i.curry((e,t)=>t-e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.square=void 0,t.square=e=>e*e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cube=void 0,t.cube=e=>e*e*e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.divide=void 0;const i=n(1);t.divide=i.curry((e,t)=>t/e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiply=void 0;const i=n(1);t.multiply=i.curry((e,t)=>t*e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.power=void 0;const i=n(1);t.power=i.curry((e,t)=>t**e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocateTraffic=t.chooseWiningVariation=t.createSlotsFromVariations=void 0;const i=n(6),r=n(45),a=n(2);function o(e){return e.reduce((e,t)=>{const n=e[e.length-1]||0;return[...e,n+t]},[])}const s=i.curry((e,t,{isDynamic:n=!1,testedTraffic:i,modulation:o},s)=>{const c=s[s.length-1];let l=Math.max(...e);if(n){const e=function(e,t,n){return d(e,t,n).find(({id:e})=>e===r.ORIGINAL_VARIATION_ID)}(t,i,o);e&&(l=e.traffic)}c+l>100&&(n&&a.captureException(new Error(`The sum of dc infos traffics got greater than 100! We've ignored it but it's weird. Last slot: ${c}. OriginalVariationTraffic: ${l}`)),l=100-c);const u=c+l;return[...s,u]});function c(e,t,n){let a=[];const c=function(e,t,{isDynamic:n=!1,testedTraffic:i,modulation:a}){const o=Object.keys(e);let s=e;if(n){const e=function(e,t,n){return d(e,t,n).filter(({id:e})=>e!==r.ORIGINAL_VARIATION_ID)}(t,i,a);e.length&&(s={},e.forEach(({id:e,traffic:t})=>{s[e]={traffic:t}}))}return o.reduce((e,t)=>[...e,s[t].traffic],[])}(e,t,n);return a=i.pipe(o,s(c,t,n))(c),a}function l(e,t){const n=Math.floor(100*Math.random()+1),i=t.findIndex(e=>e>=n);return-1===i?-1:i===t.length-1?0:parseInt(e[i],10)}function d(e,t,n){const i=(r.getDynamicAllocationData()||{})[""+e]||[],a=i.length;return i.map(e=>{const i=function(e,t){return e*((t||100)/100)}(function(e,t,n){const i=t||50;return e*(i/100)+(100-i)/n}(e.traffic,n,a),t);return Object.assign(Object.assign({},e),{traffic:i})})}t.createSlotsFromVariations=c,t.chooseWiningVariation=l,t.allocateTraffic=function(e,t,n){let i=[];try{i=c(e,t,n)}catch(e){return a.captureException(new Error("Error on function allocateTraffic. "+e)),-1}return l(Object.keys(e),i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageviewHit=void 0;const i=n(14),r=n(15),a=n(16),o=n(4);t.pageviewHit=function(e){const t=Object.assign(Object.assign({},e),{t:o.HIT_TYPES.pageview}),n=function(e){return a.checkAndFixArguments(e,{})}(t);n.length?i.hitError(o.HIT_TYPES.pageview,n,t):r.aggregateHit(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.campaignHit=void 0;const i=n(14),r=n(15),a=n(16),o=n(4);t.campaignHit=function(e){const t=Object.assign(Object.assign({},e),{t:o.HIT_TYPES.campaign}),n=function(e){return a.checkAndFixArguments(e,{caid:{label:"Campaign ID",required:!0,types:[{type:o.AllowType.String,allowEmpty:!1}]},vaid:{label:"Variation ID",required:!0,types:[{type:o.AllowType.String,allowEmpty:!1}]}})}(t);n.length?i.hitError(o.HIT_TYPES.campaign,n,t):r.aggregateHit(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.segmentHit=void 0;const i=n(14),r=n(15),a=n(16),o=n(19),s=n(4),c=n(6);t.segmentHit=function(e){const t=Object.assign(Object.assign({},e),{t:s.HIT_TYPES.segment}),n=function(e){return a.checkAndFixArguments(e,{s:{label:"Segments",required:!0,types:[{type:s.AllowType.Object,model:{key:{type:s.AllowType.String},value:{type:s.AllowType.String}}}]}})}(t);n.length?i.hitError(s.HIT_TYPES.segment,n,t):(Array.isArray(t.s)?t.s.forEach(t=>{const n=Object.assign(Object.assign({},e),{t:s.HIT_TYPES.segment});n.s=t,r.aggregateHit(n)}):r.aggregateHit(t),function(e){if(!e.s&&"object"!=typeof e.s)return;const t=new o.ABTastyLocalStorage;let n=t.getSegments()||[];const i=e.s;n=n.map(e=>{for(let t in e){if("qt"===t)continue;const n=e[t];c.isNil(i[t])||i[t]!=n||delete e[t]}return e}).filter(e=>{const t=Object.keys(e);return!(1===t.length&&"qt"===t[0])}),t.setSegments([...n,Object.assign(Object.assign({},i),{qt:e.qt})])}(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventHit=void 0;const i=n(14),r=n(15),a=n(16),o=n(4);t.eventHit=function(e){const t=Object.assign(Object.assign({},e),{t:o.HIT_TYPES.event}),n=function(e){return a.checkAndFixArguments(e,{ec:{label:"Event Category",required:!0,types:[{type:o.AllowType.String,allowEmpty:!1}]},ea:{label:"Event Action",required:!0,types:[{type:o.AllowType.String,allowEmpty:!1}]},el:{label:"Event Label",required:!1,types:[{type:o.AllowType.String,allowEmpty:!0}]},ev:{label:"Event Value",required:!1,types:[{type:o.AllowType.Integer,condition:e=>e>=0}]}})}(t);n.length?i.hitError(o.HIT_TYPES.event,n,t):r.aggregateHit(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transactionHit=void 0;const i=n(14),r=n(15),a=n(16),o=n(4),s=n(19);t.transactionHit=function(e){const t=Object.assign(Object.assign({},e),{t:o.HIT_TYPES.transaction}),n=function(e){return a.checkAndFixArguments(e,{tid:{label:"Transaction ID",required:!0,types:[{type:o.AllowType.String,allowEmpty:!1}]},ta:{label:"Transaction Affiliation",required:!0,types:[{type:o.AllowType.String,allowEmpty:!1}]},tr:{label:"Transaction Revenue",required:!1,types:[{type:o.AllowType.Float,condition:e=>e>=0}]},ts:{label:"Transaction Shipping",required:!1,types:[{type:o.AllowType.Float,condition:e=>e>=0}]},tt:{label:"Transaction Tax",required:!1,types:[{type:o.AllowType.Float,condition:e=>e>=0}]},tc:{label:"Transaction Currency",required:!1,types:[{type:o.AllowType.String,allowEmpty:!0}],maxLength:10},tcc:{label:"Transaction Coupon Code",required:!1,types:[{type:o.AllowType.String,allowEmpty:!0}]},pm:{label:"Transaction Payment Method",required:!1,types:[{type:o.AllowType.String,allowEmpty:!0}]},sm:{label:"Transaction Shipping Method",required:!1,types:[{type:o.AllowType.String,allowEmpty:!0}]},icn:{label:"Transaction Number of Items",required:!1,types:[{type:o.AllowType.Integer,condition:e=>e>=0}]}})}(t);n.length?i.hitError(o.HIT_TYPES.transaction,n,t):(r.aggregateHit(t),function(e){const t={id:e.tid||e.id,value:e.tr,shipping:e.sm,payment:e.pm,coupon:e.tcc,name:e.name,quantity:e.quantity,time:e.time||(new Date).getTime()};(new s.ABTastyLocalStorage).addTransaction(t)}(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.itemHit=void 0;const i=n(14),r=n(15),a=n(16),o=n(4),s=n(19);t.itemHit=function(e){const t=Object.assign(Object.assign({},e),{t:o.HIT_TYPES.item}),n=function(e){return a.checkAndFixArguments(e,{tid:{label:"Transaction ID",required:!0,types:[{type:o.AllowType.String,allowEmpty:!1}]},in:{label:"Item Name",required:!0,types:[{type:o.AllowType.String,allowEmpty:!1}]},ip:{label:"Item Price",required:!1,types:[{type:"float"}]},iq:{label:"Item Quantity",required:!1,types:[{type:"integer"}]},ic:{label:"Item Code",required:!1,types:[{type:o.AllowType.String,allowEmpty:!0}],maxLength:500},iv:{label:"Item Category",required:!1,types:[{type:o.AllowType.String,allowEmpty:!0}],maxLength:500}})}(t);n.length?i.hitError(o.HIT_TYPES.item,n,t):(r.aggregateHit(t),function(e){const t={transactionId:e.tid,name:e.in,quantity:e.iq,revenue:e.iq&&e.ip?e.iq*e.ip:0,local_revenue:e.iq&&e.ip?e.iq*e.ip:0,sku:e.ic,category:e.iv,time:(new Date).getTime()};(new s.ABTastyLocalStorage).addItem(t)}(e))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.performanceHit=void 0;const o=a(n(0)),s=n(14),c=n(15),l=n(16),d=n(4),u=n(6),p=n(3);function g(){if(window.performance)try{const e="complete"===document.readyState?"domComplete":"domInteractive";return window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>1?window.performance.getEntriesByType("navigation")[0][e]:window.performance.timing[e]-window.performance.timing.navigationStart}catch(e){}return 0}t.performanceHit=function(e){const t=Object.assign(Object.assign(Object.assign({},function(){if("object"==typeof window.performance)try{const e=window.performance.getEntries().find(e=>u.propSatisfies(e=>RegExp(/try.abtasty.com/).test(e),"name",e));if(e){const t=Math.round(e.domainLookupEnd-e.domainLookupStart),n=e.secureConnectionStart?Math.round(e.connectEnd-e.secureConnectionStart):0,i=Math.round(e.responseStart-e.requestStart),r=Math.round(e.responseEnd-e.responseStart),a=Math.round(e.duration);return{dltt:t,tssl:n,ttfb:i,tdt:r,tti:a,tsi:Math.round(e.transferSize)}}}catch(e){o.warning("Performance Timing API data can't be retrieved.")}return{}}()),e),{drl:g(),tv:p.getAccountSettings().frameworkVersion,gca:Math.round(window.ABTasty.latency.gca)||0,uasl:Math.round(window.ABTasty.latency.userAgentTiming)||0,gsl:Math.round(window.ABTasty.latency.geolocTiming)||0,abdl:Math.round(window.ABTasty.latency.adblockTiming)||0,gct:window.ABTasty.latency.gct||{},ml:window.ABTasty.latency.ml||{},pgl:window.ABTasty.latency.pgl||{},all:window.ABTasty.latency.all||{},tgl:window.ABTasty.latency.tgl||{},t:d.HIT_TYPES.performance}),n=function(e){return l.checkAndFixArguments(e,{tv:{label:"Tag Version",required:!1,types:[{type:d.AllowType.String,allowEmpty:!1}]},dltt:{label:"Tag Domain Lookup Time",required:!1,types:[{type:d.AllowType.Float}]},tssl:{label:"Tag Approx SSL time",required:!1,types:[{type:d.AllowType.Float}]},ttfb:{label:"Tag Time To First Byte",required:!1,types:[{type:d.AllowType.Float}]},tdt:{label:"Tag Download Time",required:!1,types:[{type:d.AllowType.Float}]},tti:{label:"Total Tag Download Time",required:!1,types:[{type:d.AllowType.Float}]},tsi:{label:"Tag Transfer Size",required:!1,types:[{type:d.AllowType.Integer}]},gca:{label:"Global Code Account",required:!1,types:[{type:d.AllowType.Float}]},uasl:{label:"UserAgent Service Latency",required:!1,types:[{type:d.AllowType.Float}]},gsl:{label:"Geoloc Service Latency",required:!1,types:[{type:d.AllowType.Float}]},drl:{label:"DOMReady latency",required:!1,types:[{type:d.AllowType.Float}]},abdl:{label:"Adblock Detection Latency",required:!1,types:[{type:d.AllowType.Float}]},gct:{label:"Global Code Test",required:!1,types:[{type:d.AllowType.Object}]},ml:{label:"Modifications latency",required:!1,types:[{type:d.AllowType.Object}]},pgl:{label:"Plugin latency",required:!1,types:[{type:d.AllowType.Object}]},all:{label:"Analytics Link latency",required:!1,types:[{type:d.AllowType.Object}]},tgl:{label:"Targeting Latency",required:!1,types:[{type:d.AllowType.Object}]}})}(t);n.length?s.hitError(d.HIT_TYPES.performance,n,t):c.aggregateHit(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VISITOR_EVENT_TYPES=void 0,t.VISITOR_EVENT_TYPES={click:"click",over:"over",scroll:"scroll"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.consentHit=void 0;const i=n(14),r=n(16),a=n(4),o=n(3),s=n(33),c=n(46),l={[s.EQUALS]:"==",[s.CONTAINS]:"=@",[s.REGEXP]:"=~"};t.consentHit=function(e){const{waitForCnilMode:t,waitForCnilStrictMode:n}=o.getAccountSettings(),s=function(){const{waitForCnilCustomJs:e,waitForCnilCookie:t,waitForCnilMode:n}=o.getAccountSettings();if(e)return"custom";if("object"==typeof t&&"specific_cookie"===n){const{name:e,value:n,condition:i}=t,r=l[i];return`${e}${i&&r||"=="}${n}`}return""}(),d=n?"strictMode":"permissiveMode",u=Object.assign(Object.assign({},e),{t:a.HIT_TYPES.consent,ts:Date.now(),ct:window.location.origin,pu:"AB+perso",me:s,op:t,om:d}),p=function(e){return r.checkAndFixArguments(e,{co:{label:"Consent",required:!0,types:[{type:a.AllowType.String,allowEmpty:!1}]}})}(u),g=Object.assign(Object.assign({},c.getCommonProperties()),{h:[u],t:a.HIT_TYPES.batch});p.length?i.hitError(a.HIT_TYPES.consent,p,u):i.hit(g)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.productHit=void 0;const i=n(14),r=n(15),a=n(16),o=n(4);t.productHit=function(e){const t=Object.assign(Object.assign({},e),{t:o.HIT_TYPES.product}),n=function(e){return a.checkAndFixArguments(e,{ps:{label:"Product SKU",required:!0,types:[{type:"string",allowEmpty:!1}]},pp:{label:"Product price",required:!0,types:[{type:"integer"}]},pcd:{label:"Product custom dimension",required:!0,types:[{type:"object",allowEmpty:!1,model:{key:{type:"integer"},value:{type:"string"}}}]}})}(t);n.length>0?i.hitError(o.HIT_TYPES.product,n,t):r.aggregateHit(t)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const o=a(n(0)),s=n(21),c=n(4),l=n(19),d=n(6);function u(e=window._abtasty){e.forEach(e=>{if(Array.isArray(e)&&Object.keys(e).length)switch(e[0].toString().toLowerCase()){case"transaction":!function(e){const t=e[1].toString(),n={tid:e[2],tr:d.isNil(e[3])?0:parseFloat(e[3].toString().replace(",",".")),icn:Number(e[4])||0,ta:t};s.dispatchHit(c.HIT_TYPES.transaction,n)}(e);break;case"cv":!function(e){const t=e[1]||"",n=e[2]||"";if(!("string"==typeof t&&""!==t)||!("string"==typeof n&&""!==n||"number"==typeof n))return void o.warning("CV informations are not valid, please, check that your second and third argument are not empty strings");const i={category:"cv",action:t,value:"string"==typeof n?n.substring(0,65):n,time:Date.now()};(new l.ABTastyLocalStorage).addCustomVariable(i);const r={[t]:"string"==typeof n?n.substring(0,65):n};s.dispatchHit(c.HIT_TYPES.segment,{s:r})}(e);break;case"eco":!function(e){const t=e[1]||"",n=e[2]||"";if(!("string"==typeof t&&""!==t)||!("string"==typeof n&&""!==n||"number"==typeof n))return void o.warning("ECO informations are not valid, please, check that your second and third argument are not empty strings");const i={action:t,category:"eco",value:"string"==typeof n?n.substring(0,65):n,time:Date.now()};(new l.ABTastyLocalStorage).addCustomVariable(i);const r={ec:"eco",ea:t,el:n};s.dispatchHit(c.HIT_TYPES.event,r)}(e);break;default:const t="Wrong format to push (nothing was sent)";o.error(t,e)}else{const t="Please give at least one parameter for the/these arrays !";o.error(t,e)}}),window._abtasty=[],window._abtasty.push=function(){return u([arguments[0]]),Array.prototype.push.apply(this,arguments)}}t.init=function(){window._abtasty=window._abtasty||[],u()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanSpecificInterval=t.cleanIntervals=t.registerInterval=void 0;let i={};t.registerInterval=function(e,t){i[e]=t},t.cleanIntervals=function(){Object.keys(i).forEach(e=>clearInterval(i[e])),i={}},t.cleanSpecificInterval=function(e){clearInterval(i[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variation=void 0;const i=n(0),r=n(34);let a;a=n(49);const o=n(39);t.Variation=class{constructor(e,{id:t,name:n,traffic:i,modifications:r,widgets:a,redirections:o}){this.testId=e,this.id=t,this.name=n,this.traffic=i,this.modifications=r,this.widgets=a,this.redirections=o}apply(){if(i.info("applying modifications",this.modifications),this.redirections.length>0)o.applyRedirections(this.redirections,this.testId,this.id);else{const e=this.testId+"testModifications";if(window.performance&&window.performance.mark&&window.performance.mark(e+"Start"),r.applyModifications(this.modifications,this.testId,this.id),window.performance&&window.performance.mark){window.performance.mark(e+"Stop"),window.performance.measure(e,e+"Start",e+"Stop"),window.ABTasty.latency.ml=window.ABTasty.latency.ml||{};const t=window.performance.getEntriesByName(e,"measure");window.ABTasty.latency.ml[this.testId]=t&&t[0]?Math.round(t[0].duration):0}const t=this.testId+"testPlugin";if(window.performance&&window.performance.mark&&window.performance.mark(t+"Start"),a.applyWidgets(this.widgets,this.testId),window.performance&&window.performance.mark){window.performance.mark(t+"Stop"),window.performance.measure(t,t+"Start",t+"Stop"),window.ABTasty.latency.plg=window.ABTasty.latency.plg||{};const e=window.performance.getEntriesByName(t,"measure");window.ABTasty.latency.plg[this.testId]=e&&e[0]?Math.round(e[0].duration):0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODIFICATION_ENGINE_COMPLIANT=void 0,t.MODIFICATION_ENGINE_COMPLIANT=["addCSS","addImage","addLink","addParagraph","addHtml","addHTML","advanced sort","bring2back","bring2front","changeImage","changeLink","copy","copyAfter","copyBefore","cut","cutAfter","cutBefore","editAttributes","editHtml","editHTML","editStyle","editText","editDirect","hide","hideByClass","hideContent","move","multivarCode","resize","resizeAndDrag","s&rImage","s&rText","sort","addCSS","editStyleCSS","hideByClassCSS","hideCSS"]},function(e,t){e.exports=function(){var e=function(e){return"function"==typeof e},t=Math.pow(2,53)-1,n=function(e){var n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(n,0),t)},i=function(e){if(null!=e){if(["string","number","boolean","symbol"].indexOf(typeof e)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in e)return Symbol.iterator;if("@@iterator"in e)return"@@iterator"}},r=function(t,n){if(null!=t&&null!=n){var i=t[n];if(null==i)return;if(!e(i))throw new TypeError(i+" is not a function");return i}},a=function(e){var t=e.next();return!Boolean(t.done)&&t};return function(t){"use strict";var o,s,c,l=this,d=arguments.length>1?arguments[1]:void 0;if(void 0!==d){if(!e(d))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}var u=r(t,i(t));if(void 0!==u){s=e(l)?Object(new l):[];var p,g,f=u.call(t);if(null==f)throw new TypeError("Array.from requires an array-like or iterable object");for(c=0;;){if(!(p=a(f)))return s.length=c,s;g=p.value,s[c]=d?d.call(o,g,c):g,c++}}else{var m=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var h,y=n(m.length);for(s=e(l)?Object(new l(y)):new Array(y),c=0;c<y;)h=m[c],s[c]=d?d.call(o,h,c):h,c++;s.length=y}return s}}()},function(e,t){var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,i=window.WeakMap;if(void 0===i){var r=Object.defineProperty,a=Date.now()%1e9;(i=function(){this.name="__st"+(1e9*Math.random()>>>0)+a+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];if(!t)return!1;var n=t[0]===e;return t[0]=t[1]=void 0,n},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}var o=new i,s=window.msSetImmediate;if(!s){var c=[],l=String(Math.random());window.addEventListener("message",(function(e){if(e.data===l){var t=c;c=[],t.forEach((function(e){e()}))}})),s=function(e){c.push(e),window.postMessage(l,"*")}}var d=!1,u=[];function p(){d=!1;var e=u;u=[],e.sort((function(e,t){return e.uid_-t.uid_}));var t=!1;e.forEach((function(e){var n=e.takeRecords();!function(e){e.nodes_.forEach((function(t){var n=o.get(t);n&&n.forEach((function(t){t.observer===e&&t.removeTransientObservers()}))}))}(e),n.length&&(e.callback_(n,e),t=!0)})),t&&p()}function g(e,t){for(var n=e;n;n=n.parentNode){var i=o.get(n);if(i)for(var r=0;r<i.length;r++){var a=i[r],s=a.options;if(n===e||s.subtree){var c=t(s);c&&a.enqueue(c)}}}}var f,m,h=0;function y(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++h}function v(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function b(e,t){return f=new v(e,t)}function T(e){return m||((m=function(e){var t=new v(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}(f)).oldValue=e,m)}function w(e,t){return e===t?e:m&&function(e){return e===m||e===f}(e)?m:null}function S(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}y.prototype={observe:function(e,t){if(e=function(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var n,i=o.get(e);i||o.set(e,i=[]);for(var r=0;r<i.length;r++)if(i[r].observer===this){(n=i[r]).removeListeners(),n.options=t;break}n||(n=new S(this,e,t),i.push(n),this.nodes_.push(e)),n.addListeners()},disconnect:function(){this.nodes_.forEach((function(e){for(var t=o.get(e),n=0;n<t.length;n++){var i=t[n];if(i.observer===this){i.removeListeners(),t.splice(n,1);break}}}),this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},S.prototype={enqueue:function(e){var t=this.observer.records_,n=t.length;if(t.length>0){var i=w(t[n-1],e);if(i)return void(t[n-1]=i)}else!function(e){u.push(e),d||(d=!0,s(p))}(this.observer);t[n]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=o.get(e);t||o.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach((function(e){this.removeListeners_(e);for(var t=o.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}}),this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,i=e.target;(a=new b("attributes",i)).attributeName=t,a.attributeNamespace=n;var r=null;"undefined"!=typeof MutationEvent&&e.attrChange===MutationEvent.ADDITION||(r=e.prevValue),g(i,(function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(n)))return e.attributeOldValue?T(r):a}));break;case"DOMCharacterDataModified":var a=b("characterData",i=e.target);r=e.prevValue;g(i,(function(e){if(e.characterData)return e.characterDataOldValue?T(r):a}));break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":i=e.relatedNode;var o,s,c=e.target;"DOMNodeInserted"===e.type?(o=[c],s=[]):(o=[],s=[c]);var l=c.previousSibling,d=c.nextSibling;(a=b("childList",i)).addedNodes=o,a.removedNodes=s,a.previousSibling=l,a.nextSibling=d,g(i,(function(e){if(e.childList)return a}))}f=m=void 0}},n||(n=y),e.exports=n},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.modificationIsChildOf=t.getModifiedElements=t.run=t.startLoop=t.clean=t.partialClean=t.rollback=t.add=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(5),o=n(48),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(109));function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}var l=[],d=!1,u={applied:[],operation:null},p=(t.add=function(e){var t;Array.isArray(e)&&e.length?(t=l).push.apply(t,c(e.map((function(e){return r({},u,{operation:e})})))):l.push(r({},u,{operation:e}))},t.rollback=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];l.slice().reverse().forEach((function(t){t.applied&&t.applied.forEach((function(t){t.rollbacks.forEach((function(t){null!=t&&t(e)}))}))}))}),g=t.partialClean=function(){p(),d=!1},f=(t.clean=function(){g(),l.length=0},t.startLoop=function(){d=!1,p(!1),m()}),m=function(){l=l.map((function(e){var t=e.applied,n=e.operation,i=n.type;return s[i]&&"function"!=typeof value?{operation:n,applied:s[i](n,t)}:e})),(0,o.getObserver)().takeRecords()},h=(t.run=function(){d||(d=!0,e.requestAnimationFrame(f))},function e(t,n){return t&&"BODY"!==t.tagName?t===n||e(t.parentNode,n):t===n});t.getModifiedElements=function(){return l.map((function(e){return(0,a.qsa)(e.operation.selector)}))},t.modificationIsChildOf=function(e,t){return t.reduce((function(e,t){return t?(e.push.apply(e,c(t)),e):e}),[]).some((function(t){return!!t&&e.some((function(e){return h(t,e)||h(e,t)}))}))}}).call(this,n(30))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(37);Object.defineProperty(t,"editStyleCSS",{enumerable:!0,get:function(){return E(i).default}});var r=n(110);Object.defineProperty(t,"editText",{enumerable:!0,get:function(){return E(r).default}}),Object.defineProperty(t,"editDirect",{enumerable:!0,get:function(){return E(r).default}});var a=n(111);Object.defineProperty(t,"hide",{enumerable:!0,get:function(){return E(a).default}}),Object.defineProperty(t,"hideCSS",{enumerable:!0,get:function(){return E(a).default}}),Object.defineProperty(t,"hideByClassCSS",{enumerable:!0,get:function(){return E(a).default}});var o=n(112);Object.defineProperty(t,"hideContent",{enumerable:!0,get:function(){return E(o).default}});var s=n(113);Object.defineProperty(t,"editHtml",{enumerable:!0,get:function(){return E(s).default}}),Object.defineProperty(t,"editHTML",{enumerable:!0,get:function(){return E(s).default}});var c=n(32);Object.defineProperty(t,"addHtml",{enumerable:!0,get:function(){return E(c).default}}),Object.defineProperty(t,"addHTML",{enumerable:!0,get:function(){return E(c).default}});var l=n(114);Object.defineProperty(t,"sort",{enumerable:!0,get:function(){return E(l).default}});var d=n(115);Object.defineProperty(t,"copy",{enumerable:!0,get:function(){return E(d).default}});var u=n(116);Object.defineProperty(t,"copyAfter",{enumerable:!0,get:function(){return E(u).default}});var p=n(117);Object.defineProperty(t,"copyBefore",{enumerable:!0,get:function(){return E(p).default}});var g=n(118);Object.defineProperty(t,"addImage",{enumerable:!0,get:function(){return E(g).default}});var f=n(119);Object.defineProperty(t,"cut",{enumerable:!0,get:function(){return E(f).default}});var m=n(120);Object.defineProperty(t,"cutAfter",{enumerable:!0,get:function(){return E(m).default}}),Object.defineProperty(t,"advancedSort",{enumerable:!0,get:function(){return E(m).default}});var h=n(121);Object.defineProperty(t,"cutBefore",{enumerable:!0,get:function(){return E(h).default}});var y=n(122);Object.defineProperty(t,"addParagraph",{enumerable:!0,get:function(){return E(y).default}});var v=n(38);Object.defineProperty(t,"editAttributes",{enumerable:!0,get:function(){return E(v).default}});var b=n(123);Object.defineProperty(t,"changeImage",{enumerable:!0,get:function(){return E(b).default}});var T=n(124);Object.defineProperty(t,"changeLink",{enumerable:!0,get:function(){return E(T).default}});var w=n(125);Object.defineProperty(t,"addLink",{enumerable:!0,get:function(){return E(w).default}});var S=n(126);Object.defineProperty(t,"bring2back",{enumerable:!0,get:function(){return E(S).default}});var _=n(127);Object.defineProperty(t,"bring2front",{enumerable:!0,get:function(){return E(_).default}});var A=n(128);function E(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"addCSS",{enumerable:!0,get:function(){return E(A).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector,n=e.value,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return[];var s=(0,a.qsa)(t);if(!s.length)return[];var c=[].concat(o(s)).map((function(e){var t,s=i.filter((function(t){return t.target===e}))[0]||(0,r.createAppliedModification)(),c=[].concat(o(e.childNodes));if(s.rollbacks=[],c.forEach((function(e){if(e.nodeType===Node.TEXT_NODE||e.style&&"none"!==e.style.display){var t=(0,a.removeNode)(e);t&&s.rollbacks.push(t)}})),!s.elements||!s.elements.children){var l=(0,a.getDocument)().createElement("div");l.innerHTML=n,s.elements={children:[].concat(o(l.childNodes))}}var d=s.elements.children.map((function(t){return(0,a.addChildNode)(e,t)}));return(t=s.rollbacks).push.apply(t,o(d)),s}));return c};var r=n(7),a=n(5);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector;return(0,i.default)({selector:t,value:{display:"none !important"}})};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(37))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector;return(0,i.default)({selector:t+" *",value:{visibility:"hidden"}})};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(37))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector,n=e.value,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return[];var s=(0,a.qsa)(t);if(!s.length)return[];var c=[].concat(o(s)).map((function(e){var t=i.filter((function(t){return t.target===e}))[0]||(0,r.createAppliedModification)(),s=e.parentNode.cloneNode(!0),c=[].concat(o(e.parentNode.childNodes)).indexOf(e),l=s.childNodes[c],d=(0,a.getDocument)().createElement("div");d.innerHTML=n;var u=[].concat(o(d.childNodes));return u.forEach((function(e){return(0,a.addSiblingNode)(l,e)})),(0,a.removeNode)(l),(0,a.isEqualNode)(t.savedState,s)?(t.elements.children.forEach((function(t){return(0,a.addSiblingNode)(e,t)})),(0,a.removeNode)(e)):(t.rollbacks=[].concat(o(u.map((function(t){return(0,a.addSiblingNode)(e,t)}))),[(0,a.removeNode)(e)]),t.target=e,t.elements.children=u,t.savedState=e.cloneNode(!0)),t}));return c};var r=n(7),a=n(5);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=function(e){var t=e.selector,n=e.value;if(!t)return[];var i=(0,a.qsa)(t);return i.length?[].concat(o(i)).map((function(e){var t=(0,r.createAppliedModification)(),i=[].concat(o(e.children)).filter((function(e){return"SCRIPT"!==e.tagName})),s=[].concat(o(e.children)),c=s.length;return n.length!==i.length||n.filter((function(e){return e>c-1})).length>0||s.some((function(e){return(0,a.getData)(e,"abTastySorted")}))||(s.forEach((function(t){e.removeChild(t)})),n.forEach((function(t){e.appendChild(s[t]),(0,a.setData)(s[t],"abTastySorted",1)})),t.rollbacks.push((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!e&&s.some((function(e){return(0,a.getData)(e,"abTastySorted")}))||s.forEach((function(e){e.removeAttribute("data-ab-tasty-sorted");var t=e.parentNode;t&&(t.removeChild(e),t.appendChild(e))}))}))),t})):[]};var r=n(7),a=n(5);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector,n=e.value,a=(0,r.qsa)(t),o=(0,r.qsa)(n);if(!a.length||!o.length)return[];var s=a[0],c=o[0],l=s.cloneNode(!0);l.id="";var d=(0,i.createAppliedModification)();return d.rollbacks.push((0,r.addChildNode)(c,l)),[d]};var i=n(7),r=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.selector,n=e.value,a=(0,r.qsa)(t),o=(0,r.qsa)(n);if(!a.length||!o.length)return[];var s=a[0],c=o[0],l=s.cloneNode(!0);l.id="";var d=(0,i.createAppliedModification)();return d.rollbacks.push((0,r.addSiblingNode)(c,l)),[d]};var i=n(7),r=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.selector,n=e.value,a=(0,r.qsa)(t),o=(0,r.qsa)(n);if(!a.length||!o.length)return[];var s=a[0],c=o[0],l=s.cloneNode(!0);l.id="";var d=(0,i.createAppliedModification)();return d.rollbacks.push((0,r.addSiblingNode)(c,l,!1)),[d]};var i=n(7),r=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];var n="<img src="+e.value+" />";return(0,r.default)(i({},e,{value:n}),t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(32))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.selector,n=e.value,a=(0,r.qsa)(t),o=(0,r.qsa)(n);if(!a.length||!o.length)return[];var s=a[0],c=o[0];s.cloneNode(!0).id="";var l=(0,i.createAppliedModification)();return l.rollbacks.push((0,r.moveChildNode)(s,c)),[l]};var i=n(7),r=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.selector,n=e.value,a=(0,r.qsa)(t),o=(0,r.qsa)(n);if(!a.length||!o.length)return[];var s=a[0],c=o[0];s.cloneNode(!0).id="";var l=(0,i.createAppliedModification)();return l.rollbacks.push((0,r.moveSiblingNode)(s,c)),[l]};var i=n(7),r=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector,n=e.value,a=(0,r.qsa)(t),o=(0,r.qsa)(n);if(!a.length||!o.length)return[];var s=a[0],c=o[0],l=s.cloneNode(!0);l.id="";var d=(0,i.createAppliedModification)();return d.rollbacks.push((0,r.moveSiblingNode)(s,c,!1)),[d]};var i=n(7),r=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];var n="<p>"+e.value+"</p>";return(0,r.default)(i({},e,{value:n}),t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(32))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector,n=e.value;return t&&n?(0,i.default)({selector:t,value:[{attributeName:"src",attributeValue:n}]}):[]};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(38))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.selector,n=e.value,r=n.url,a=n.target;return(0,i.default)({selector:t,value:[{attributeName:"href",attributeValue:r},{attributeName:"target",attributeValue:a}]})};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(38))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=function(e){var t=e.selector,n=e.value,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return[];var c=(0,a.qsa)(t);if(!c.length)return[];var l=[].concat(o(c)).map((function(e){var t=i.filter((function(t){return t.target===e}))[0]||(0,r.createAppliedModification)(),c=e.parentNode.cloneNode(!0),l=[].concat(o(e.parentNode.childNodes)).indexOf(e),d=c.childNodes[l],u=s(n);return(0,a.addSiblingNode)(d,u),(0,a.moveChildNode)(d,u),(0,a.isEqualNode)(t.savedState,c)?((0,a.addSiblingNode)(e,t.elements.link),(0,a.moveChildNode)(e,t.elements.link)):(u=s(n),t.rollbacks=[(0,a.addSiblingNode)(e,u),(0,a.moveChildNode)(e,u)],t.target=e,t.elements.link=u,t.savedState=e.parentNode.cloneNode(!0)),t}));return l};var r=n(7),a=n(5);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}var s=function(e){var t=(0,a.getDocument)().createElement("a");return t.href=e.url,t.target=e.target||"_self",(0,a.setData)(t,"abTastyLink",1),t}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=function(t){var n=t.selector;if(!n)return[];var o=(0,a.qsa)(n);return o.length?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}(o)).map((function(t){var n=(0,r.createAppliedModification)(),i=t,o=parseInt(e.getComputedStyle(t).zIndex,10),s=isNaN(o)?-1:o-1;return n.rollbacks.push((0,a.setNodeStyle)(i,"zIndex",s)),e.getComputedStyle(i).position.match(/absolute|relative|fixed/)||n.rollbacks.push((0,a.setNodeStyle)(t,"position","relative")),n})):[]};var r=n(7),a=n(5)}).call(this,n(30))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=function(t){var n=t.selector;if(!n)return[];var o=(0,a.qsa)(n);return o.length?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}(o)).map((function(t){var n=(0,r.createAppliedModification)(),i=t,o=parseInt(e.getComputedStyle(t).zIndex,10),s=isNaN(o)?9999999:o+1;return n.rollbacks.push((0,a.setNodeStyle)(i,"zIndex",s)),e.getComputedStyle(i).position.match(/absolute|relative|fixed/)||n.rollbacks.push((0,a.setNodeStyle)(t,"position","relative")),n})):[]};var r=n(7),a=n(5)}).call(this,n(30))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=function(e,t){var n='<style type="text/css">'+e.value+"</style>",i=(0,a.qsa)("head");return i.length?[].concat(o(i)).map((function(e){var i=t.find((function(t){return t.target===e}));if(i)return i;var s=(0,r.createAppliedModification)(),c=e.cloneNode(!0),l=(0,a.getDocument)().createElement("div");l.innerHTML=n;var d=[].concat(o(l.childNodes));if(d.forEach((function(e){return(0,a.addChildNode)(c,e)})),(0,a.isEqualNode)(s.savedState,c))s.elements.children.forEach((function(t){return(0,a.addChildNode)(e,t)}));else{var u=d.map((function(t){return(0,a.addChildNode)(e,t)}));s.rollbacks=[function(e){e&&u.forEach((function(t){null!=t&&t(e)}))}],s.target=e,s.elements.children=d,s.savedState=e.cloneNode(!0)}return s})):[]};var r=n(7),a=n(5);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hidePage=void 0,t.hidePage=(e=2e3)=>{const t=document.createElement("style");t.type="text/css";const n=".ABTastyHidden { display: none !important }";t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),document.getElementsByTagName("head")[0].appendChild(t),document.getElementsByTagName("html")[0].setAttribute("class","ABTastyHidden"),setTimeout(()=>{const e=document.getElementsByTagName("html")[0];e.className=e.className.replace("ABTastyHidden","")},e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyAnalytics=t.applyCustomAnalytics=void 0;const i=n(0),r=n(34),a={};{const{applyAdobeAnalytics:e}=n(131);a.SiteCatalyst=e}t.applyCustomAnalytics=async(e,t)=>{const n=/{{([a-z]*)}}/gi;e.forEach(({code:e})=>{const i=e.replace(n,(e,n)=>`'${t[n]}'`);r.applyCustomScript(i,null,t.campaignId,t.variationId)})},t.applyAnalytics=async(e,n,r)=>{i.info("applying analytics"),(async(e,t)=>{e.forEach(({name:e,wave:n,tracker:r,implementation:o,functionName:s})=>{const c=a[e];c?c(t,n,r,o,s):i.warning("Analytics tool is not supported by AB Tasty: ",e,`(for campaign ${t.campaignId})`)})})(e,n),t.applyCustomAnalytics(r,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyAdobeAnalytics=t.OMNITURE_INTEGRATION_CUSTOM_ASYNC=t.OMNITURE_INTEGRATION_DISPATCH_BY_CLIENT=t.OMNITURE_INTEGRATION_STANDARD=void 0;const i=n(12),r=n(3),a=n(6);t.OMNITURE_INTEGRATION_STANDARD=0,t.OMNITURE_INTEGRATION_DISPATCH_BY_CLIENT=1,t.OMNITURE_INTEGRATION_CUSTOM_ASYNC=2,t.applyAdobeAnalytics=function(e,n,o){const s=r.getAccountSettings().omnitureIntegration,c=null!==o?o:"s";if("function"!=typeof window.ABTasty.processOmniture&&(window.ABTasty.processOmniture=e=>{if(!window.ABTasty.processOmnitureCalled&&!a.isEmpty(window.ABTasty.temporaryOmnitureData)){const t=window.ABTasty.temporaryOmnitureData;Object.keys(t).map(n=>{e[n]=t[n]}),window.ABTasty.temporaryOmnitureData={}}window.ABTasty.processOmnitureCalled=!0}),s===t.OMNITURE_INTEGRATION_CUSTOM_ASYNC){window.ABTasty.processOmnitureCalled=window.ABTasty.processOmnitureCalled||!1,window.ABTasty.temporaryOmnitureData=window.ABTasty.temporaryOmnitureData||{};const t="eVar"+n,r=`[${e.campaignId}]${e.campaignName} - [${e.variationId}]${e.variationName}`;window.ABTasty.temporaryOmnitureData[t]=r,i.doWhen(()=>window.ABTasty.processOmnitureCalled&&!window.ABTasty.omnitureAlreadySent,()=>{window.ABTasty.omnitureAlreadySent=!0;const e=window[c].linkTrackVars;window[c].linkTrackVars=(e&&"None"!==e?e+",":"")+t,window[c][t]=r,window[c]&&"function"==typeof window[c].tl&&window[c].tl(!0,"o","ABTasty async event")},300)}else s===t.OMNITURE_INTEGRATION_DISPATCH_BY_CLIENT?i.doWhen(()=>null!=window[c]&&null!=window[c].isReadyToTrack&&window[c].isReadyToTrack(),()=>{const t=e.campaignName.replace(";",""),i=e.variationName.replace(";",""),r=`[${e.campaignId}]${t}-[${e.variationId}]${i}`;null==window[c]["eVar"+n]?window[c]["eVar"+n]=r:window[c]["eVar"+n]+=";"+r,window.ABTasty.omnitureProcessed=!0}):i.doWhen(()=>"object"==typeof window[c]&&"function"==typeof window[c].tl,()=>{window[c]["eVar"+n]=`[${e.campaignId}]${e.campaignName}-[${e.variationId}]${e.variationName}`,window[c].tl()},300)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDcInfos=t.fetchDcInfos=void 0;const i=n(23),r=n(3),a=n(8),o=n(2),s=n(6);function c(){try{const e=sessionStorage.getItem("DCInfos");return!s.isNil(e)&&e.length>0?JSON.parse(e):e}catch(e){return o.captureException(new Error("Error parsing dcinfos: "+e)),null}}t.fetchDcInfos=function(){const e=c();if(null!=e)return void(window.ABTasty.DCInfos=e);const t=(new a.ABTastyCookie).getVisitorId(),n=`https://dcinfos.abtasty.com/geolocAndWeather.php?chID=${r.getAccountIdentifier()}&vID=${t}&dmp=true`;i.get(n).then(e=>e.text()).then(e=>{let t;t=e.startsWith("(")?e.substring(1,e.length-1):e,sessionStorage.setItem("DCInfos",t),window.ABTasty.DCInfos=JSON.parse(t)}).catch(e=>{sessionStorage.setItem("DCInfos",""),o.captureException(new Error("Error fetching dcinfos: "+e))}),setTimeout(()=>{null==sessionStorage.getItem("DCInfos")&&sessionStorage.setItem("DCInfos","")},3e3)},t.getDcInfos=c},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getSegmentAudience=t.getTriggerAudience=t.checkAudience=t.audienceNeedsEngagementLevelTargeting=t.audienceNeedsAdblockTargeting=t.audienceNeedsUserAgentParser=t.audienceNeedsGeoloc=t.audienceNeedsDCInfos=t.getAudienceTargetingTypes=void 0;const o=a(n(0)),s=a(n(51)),c=n(22),l=n(25),d={};{const{deviceTargeting:e}=n(134);d[s.DEVICE]=e}{const{ipTargeting:e}=n(135);d[s.IP]=e}{const{geolocTargeting:e}=n(136);d[s.GEOLOCALISATION]=e}{const{cookieTargeting:e}=n(137);d[s.COOKIE]=e}{const{landingPageTargeting:e}=n(138);d[s.LANDING_PAGE]=e}{const{screenSizeTargeting:e}=n(140);d[s.SCREEN_SIZE]=e}{const{pagesViewedInSessionTargeting:e}=n(141);d[s.NUMBER_PAGES_VIEWED]=e}{const{codeTargeting:e}=n(142);d[s.CODE]=e}const u=e=>!0===e;t.getAudienceTargetingTypes=function({targeting_groups:e}){return e.reduce((e,t)=>[...e,...t.targetings.map(e=>e.targeting_type)],[]).filter((e,t,n)=>n.indexOf(e)===t)},t.audienceNeedsDCInfos=function(e){return c.Campaign.getGlobalCampaignsInfos().needDCInfosFetch.indexOf(e)>-1},t.audienceNeedsGeoloc=function(e){return c.Campaign.getGlobalCampaignsInfos().needGeolocFetch.indexOf(e)>-1},t.audienceNeedsUserAgentParser=function(e){return c.Campaign.getGlobalCampaignsInfos().needUAParserFetch.indexOf(e)>-1},t.audienceNeedsAdblockTargeting=function(e){return c.Campaign.getGlobalCampaignsInfos().needAdBlockDetection.indexOf(e)>-1},t.audienceNeedsEngagementLevelTargeting=function(e){return c.Campaign.getGlobalCampaignsInfos().needEngagementLevelFetch.indexOf(e)>-1},t.checkAudience=function(e,t){if(void 0===e||null==e.targeting_groups)return!0;let n=e.is_segment?l.AUDIENCE_SEGMENT_NAME:l.AUDIENCE_TRIGGER_NAME;const i=e.targeting_groups.map(e=>e.targetings.map(i=>{const r=d[i.targeting_type];let a=!0;return"function"==typeof r?(a=r(i,t.id),c.Campaign.updatePublicTargetingData(t.id,i,a,n,e.position),a):(o.warning("Cannot apply targeting",i),c.Campaign.updatePublicTargetingData(t.id,i,a,n,e.position),!0)}).every(u)).some(u);return o.info("Applying audience",e," for ",t,"result = ",i),i},t.getTriggerAudience=e=>e.find(({is_segment:e})=>!e)||{},t.getSegmentAudience=e=>e.find(({is_segment:e})=>!!e)||{}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deviceTargeting=t.deviceTypes=void 0;const o=n(18),s=a(n(0)),c=n(2);t.deviceTypes={1:"mobile phone",2:"tablet",3:"desktop"},t.deviceTargeting=function({conditions:e}){try{const n=o.getParsedUserAgent();if(null==n)return!1;const i=n.type;return e.every(({include:e,value:n})=>{const r=t.deviceTypes[n]===i.toLowerCase();return e?r:!r})}catch(t){const n="Targeting error (device)";return c.captureException(new Error(n)),s.error(n,e),!1}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ipTargeting=void 0;const o=n(6),s=a(n(0)),c=n(2),l=n(29),d=n(20),u=e=>({range:t,from:n,to:i})=>t?e>=Number(n)&&e<=Number(i):e===Number(n);t.ipTargeting=function({conditions:e}){try{const{exclusions:t,inclusions:n}=o.groupBy(({include:e})=>e?"inclusions":"exclusions",e),i=l.ipToInt(d.getUserIp());return(!t||!t.some(u(i)))&&(!(!n||!n.some(u(i)))||!n)}catch(t){const n="Targeting error (IP)";return c.captureException(new Error(n)),s.error(n,e),!1}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.geolocTargeting=void 0;const o=a(n(0)),s=n(2),c=n(20),l=e=>({code_country:t,code_least_specific_subdivision:n,code_most_specific_subdivision:i,code_city:r})=>{const a=e=>null==e||""===e,o=t.toLowerCase()===e.country_iso_code.toLowerCase(),s=a(n)||!a(e.least_specific_subdivision.iso_code)&&n.toLowerCase()===e.least_specific_subdivision.iso_code.toLowerCase(),c=a(i)||!a(e.most_specific_subdivision.iso_code)&&i.toLowerCase()===e.most_specific_subdivision.iso_code.toLowerCase(),l=a(r)||Number(r.toLowerCase())===e.city_id;return o&&s&&c&&l};t.geolocTargeting=function({conditions:e}){try{const t=e.filter(({include:e})=>!e),n=e.filter(({include:e})=>e),i=c.getGeoloc();return null!=i&&(!t.some(l(i))&&(!!n.some(l(i))||0===n.length))}catch(t){const n="Targeting error (geoloc)";return s.captureException(new Error(n)),o.error(n,e),!1}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.cookieTargeting=void 0;const o=a(n(11)),s=a(n(0)),c=n(2);function l({name:e,value:t,include:n}){const i=o.get(e);let r=!1;return(i||""===i)&&(r=!0,null!=t&&(r=null!==i.match(new RegExp(t,"i")))),n?r:!r}t.cookieTargeting=function({operator:e,conditions:t}){try{return"and"===e?t.every(l):t.some(l)}catch(e){const n="Targeting error (cookie)";return c.captureException(new Error(n)),s.error(n,t),!1}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.landingPageTargeting=void 0;const o=a(n(0)),s=n(2),c=n(13),l=n(9),d=n(139),u={[d.CONTAINS]:"contains",[d.REGEXP]:"regexp",[d.EQUALS]:"equals",[d.IGNORE_PARAMETERS]:"ignore_parameters"};function p({include:e,condition:t,value:n}){const i=(new c.ABTastySessionCookie).getLandingPage(),r=u[t],a=l.matchWithCond(r,n,i);return e?a:!a}t.landingPageTargeting=function({targeting_type:e,operator:t,conditions:n}){try{return"and"===t?n.every(p):n.some(p)}catch(e){const t="Targeting error (landingPage)";return s.captureException(new Error(t)),o.error(t,n),!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTENT_INTEREST_TIMEFRAMES=t.ENGAGEMENT_LEVEL_VALUES=t.PRODUCT_CATEGORY=t.PRODUCT_SKU=t.COUPON=t.AMOUNT=t.DELIVERY_METHOD=t.PAYMENT_METHOD=t.ATTRIBUTE=t.SEGMENT=t.UC_BROWSER=t.CUSTOM=t.MICROSOFT_EDGE=t.SAFARI=t.INTERNET_EXPLORER=t.FIREFOX=t.CHROME=t.ELEMENT_SELECTOR=t.CLASS_SELECTOR=t.ID_SELECTOR=t.IS_NOT_DECLARED=t.IS_DECLARED=t.IGNORE_PARAMETERS=t.THUNDERSTORM=t.SNOW=t.SMOKE=t.RAIN=t.MIST=t.FOG=t.DUST=t.DRIZZLE=t.CLOUDS=t.CLEAR=t.IS_BETWEEN=t.LOWER_THAN_OR_EQUALS=t.GREATER_THAN_OR_EQUALS=t.LOWER_THAN=t.GREATER_THAN=t.NOT_CONTAINS=t.REGEXP=t.CONTAINS=t.ALL_VALUES=t.NOT_EQUALS=t.EQUALS=void 0,t.EQUALS=1,t.NOT_EQUALS=2,t.ALL_VALUES=3,t.CONTAINS=10,t.REGEXP=11,t.NOT_CONTAINS=13,t.GREATER_THAN=20,t.LOWER_THAN=21,t.GREATER_THAN_OR_EQUALS=22,t.LOWER_THAN_OR_EQUALS=23,t.IS_BETWEEN=24,t.CLEAR=30,t.CLOUDS=31,t.DRIZZLE=32,t.DUST=33,t.FOG=34,t.MIST=35,t.RAIN=36,t.SMOKE=37,t.SNOW=38,t.THUNDERSTORM=39,t.IGNORE_PARAMETERS=40,t.IS_DECLARED=41,t.IS_NOT_DECLARED=42,t.ID_SELECTOR=43,t.CLASS_SELECTOR=44,t.ELEMENT_SELECTOR=45,t.CHROME=1,t.FIREFOX=2,t.INTERNET_EXPLORER=3,t.SAFARI=4,t.MICROSOFT_EDGE=5,t.CUSTOM=6,t.UC_BROWSER=7,t.SEGMENT=1,t.ATTRIBUTE=2,t.PAYMENT_METHOD=1,t.DELIVERY_METHOD=2,t.AMOUNT=3,t.COUPON=4,t.PRODUCT_SKU=5,t.PRODUCT_CATEGORY=6,function(e){e[e.LOYAL=1]="LOYAL",e[e.VALUABLE=2]="VALUABLE",e[e.WANDERERS=3]="WANDERERS",e[e.DISENGAGED=4]="DISENGAGED"}(t.ENGAGEMENT_LEVEL_VALUES||(t.ENGAGEMENT_LEVEL_VALUES={})),function(e){e[e.LAST_WEEK=1]="LAST_WEEK",e[e.LAST_TWO_WEEKS=2]="LAST_TWO_WEEKS"}(t.CONTENT_INTEREST_TIMEFRAMES||(t.CONTENT_INTEREST_TIMEFRAMES={}))},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.screenSizeTargeting=void 0;const o=a(n(0)),s=n(2);function c({value_min:e,value_max:t,include:n}){let i=!1;const r=screen.width;return i=e>=t?r>=t&&r<=e:r>=e&&r<=t,n?i:!i}t.screenSizeTargeting=function({operator:e,conditions:t}){try{return"and"===e?t.every(c):t.some(c)}catch(e){const n="Targeting error (screenSize)";return s.captureException(new Error(n)),o.error(n,t),!1}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pagesViewedInSessionTargeting=void 0;const o=n(8),s=a(n(0)),c=n(2);function l({value:e,include:t}){const n=(new o.ABTastyCookie).getPagesViewedInSession()>=e;return t?n:!n}t.pagesViewedInSessionTargeting=function({operator:e,conditions:t}){try{return"and"===e?t.every(l):t.some(l)}catch(e){const n="Targeting error (pagesViewedInSession)";return c.captureException(new Error(n)),s.error(n,t),!1}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.checkCodeConditions=t.codeTargeting=void 0;const o=a(n(0)),s=n(2),c=n(31);function l(e,t){try{return e.every(({value:e})=>!!c.execCustomScript(e,t))}catch(t){const n="Targeting error (code)";return s.captureException(new Error(n)),o.error(n,e),!1}}t.codeTargeting=function({conditions:e},t){return l(e,t)},t.checkCodeConditions=l},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.checkQaParameters=t.checkTargetPages=t.checkPageURL=t.checkScope=void 0;const o=a(n(0)),s=n(22),c=n(144),l=n(145),d=n(146),u=n(147),p=n(148),g=n(25),f=e=>!0===e,m={url_scope:{method:c.checkScopeUrl,group:g.TARGET_PAGES_NAME},code_scope:{method:l.checkScopeCode,group:g.TARGET_PAGES_NAME},selector_scope:{method:d.checkScopeSelector,group:g.TARGET_PAGES_NAME},cookie_scope:{method:u.checkScopeCookie,group:g.QA_MODE_NAME},ip_scope:{method:p.checkScopeIp,group:g.QA_MODE_NAME}};function h(e,t,n){const i=m[t].method,r=m[t].group,a=i(e,n.id);return o.info("Applying scope",t," for ",n,"result = ",a),s.Campaign.updatePublicTargetingData(n.id,{conditions:e,targeting_type:t},a,r),a}t.checkScope=h,t.checkPageURL=function({urlScope:e},t){return!e.length||h(e,"url_scope",t)},t.checkTargetPages=function({codeScope:e,selectorScope:t},n){return[!e.length||h(e,"code_scope",n),!t.length||h(t,"selector_scope",n)].every(f)},t.checkQaParameters=function({cookieScope:e,ipScope:t},n){return[!e.length||h(e,"cookie_scope",n),!t.length||h(t,"ip_scope",n)].every(f)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.checkScopeUrl=void 0;const o=a(n(0)),s=n(2),c=n(9),l=n(33),d={[l.EQUALS]:"equals",[l.CONTAINS]:"contains",[l.REGEXP]:"regexp",[l.IGNORE_PARAMETERS]:"ignore_parameters"};function u({value:e,condition:t}){return c.matchWithCond(d[t],e)}t.checkScopeUrl=function(e){try{const t=e.filter(({include:e})=>!e),n=e.filter(({include:e})=>e);return!t.some(u)&&(!!n.some(u)||0===n.length)}catch(t){const n="Scope error (currentUrl)";return s.captureException(new Error(n)),o.error(n,e),!1}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.checkScopeCode=void 0;const o=a(n(0)),s=n(2),c=n(31);t.checkScopeCode=function(e,t){try{return e.every(({value:e})=>!!c.execCustomScript(e,t))}catch(t){const n="Scope error (code)";return s.captureException(new Error(n)),o.error(n,e),!1}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.checkScopeSelector=void 0;const o=a(n(0)),s=n(2),c=n(36),l=n(29);function d({value:e,include:t}){let n=!1;const i=c.getAppropriatejQuery();if(i)n=i(e).length>0;else{const t=l.jqueryToCssSelector(e);n=Boolean(document.querySelector(t))}return t?n:!n}t.checkScopeSelector=function(e){try{return e.some(d)}catch(t){const n="Scope error (selector)";return s.captureException(new Error(n)),o.error(n,e),!1}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.checkScopeCookie=void 0;const o=a(n(11)),s=a(n(0)),c=n(2);function l({name:e,value:t,include:n}){const i=o.get(e);let r=!1;return(i||""===i)&&(r=!0,null!=t&&(r=null!==i.match(new RegExp(t,"i")))),n?r:!r}t.checkScopeCookie=function(e){try{return e.some(l)}catch(t){const n="Scope error (cookie)";return c.captureException(new Error(n)),s.error(n,e),!1}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.checkScopeIp=void 0;const o=n(6),s=a(n(0)),c=n(2),l=n(29),d=n(20),u=e=>({range:t,from:n,to:i})=>t?e>=Number(n)&&e<=Number(i):e===Number(n);t.checkScopeIp=function(e){try{const{exclusions:t,inclusions:n}=o.groupBy(({include:e})=>e?"inclusions":"exclusions",e),i=l.ipToInt(d.getUserIp());return(!t||!t.some(u(i)))&&(!(!n||!n.some(u(i)))||!n)}catch(t){const n="Scope error (IP)";return c.captureException(new Error(n)),s.error(n,e),!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchModifications=void 0;const i=n(23),r=n(2),a=n(24),o=n(3);t.fetchModifications=async function(e){const t=`https://try.abtasty.com/${o.getAccountIdentifier()}/${e}.json?${Date.now()}`;let n=!1;const s=setTimeout(()=>{if(!n)throw new Error("Modifications can't be fetch for "+e)},3e3);return a.registerTimeout("modifiationsFetchLoop_"+e,s),i.get(t).then(e=>e.json()).then(e=>(e&&e._taginfo&&delete e._taginfo,n=!0,e)).catch(t=>{r.captureException(new Error(`Error while fetching modifications data for ${e}: ${t}`))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCrossData=t.getCrossData=void 0;const i=n(3),r=[],a="try.abtasty.com/CORS.html",o=`[src*="${a}"]`;function s(){return new Promise((e,t)=>{if(document.querySelectorAll(o).length>0)return void e();window.addEventListener("message",l,!1);const n=document.createElement("iframe");n.src=`${document.location.protocol}//${a}`,n.onload=function(){e()},n.setAttribute("frameborder","0"),n.style.width="0",n.style.height="0",n.style.display="none",document.head.insertBefore(n,document.head.childNodes[0])})}function c(e,t=null){if(t){const n={resolve:t,name:e.key};r.push(n)}document.querySelector(o).contentWindow.postMessage(JSON.stringify(e),"*")}function l(e){if(e.origin.indexOf("try.abtasty.com")<0||!e.data)return;const t=JSON.parse(e.data),n=r.find(e=>e.name===t.key);return n&&n.resolve&&n.resolve(t),!1}t.getCrossData=function(){return new Promise((e,t)=>{s().then(()=>{c({key:"ABTasty",identifier:i.getAccountIdentifier(),method:"get"},e)})})},t.setCrossData=function(e){return new Promise((t,n)=>{s().then(()=>{c({key:"ABTasty",value:e,identifier:i.getAccountIdentifier(),method:"set"})})})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getMatchedCustomVars=t.onStartOrReset=t.startTag=t.isAllowed=t.getTagProcess=void 0;const o=a(n(11)),s=n(47),c=n(3),l=n(22),d=n(8),u=n(9),p=n(0),g=n(152),f=n(27),m=n(26),h=n(153),y=n(21),v=n(4),b=n(25),T=n(20),w=n(18),S=n(24),_=n(31),A=n(35),E=n(39),O=n(154),C=n(40),k=n(50),I=n(155),x=n(156),P=n(15),N=n(12),D=n(13),M=n(2);n(157);let R=!1;function j(){M.logForSpecialClient({ec:"ABTasty Debug",ea:"Cookies value on tag starting",cv:{30:"abtasty_debug,localStorage:"+localStorage.getItem("ABTasty")}}),window.lockABTastyTag?new Promise(e=>{window.unlockABTasty=()=>{delete window.lockABTastyTag,e(!0)}}).then(B):c.getAccountSettings().waitForCnilStrictMode&&!m.isCnilReady()?(m.listenForCnilCompliency(),new Promise(e=>{N.doWhen(m.isCnilReady,()=>e(!0))}).then(B)):c.noMoreQuota()?p.warning("[ABTasty quota limit reached]"):c.shouldRunAsynchronously()?setTimeout(B,0):B()}function B(){p.info("Main process started..."),window.ABTasty.started=!0,window.ABTasty.results={},window.ABTasty.omnitureProcessed=!1,window.ABTasty.getTestsOnPage=l.Campaign.getActiveCampaigns,window.ABTastyStartTest=l.Campaign.abTastyStartTest,window.ABTastyReload=()=>{p.info("Tag reloading from ABTastyReload"),L(!0)},window.ABTastyPageView=()=>{p.warning("Tag reloading from ABTastyPageView - function is deprecated please use ABTastyReload instead"),y.dispatchHit(v.HIT_TYPES.event,{ec:b.DEPRECATED_EVENT_CATEGORY,ea:"ABTastyPageView"}),L(!0)},async function(){return new Promise((e,t)=>{const n=o.get("ABTasty"),i=new d.ABTastyCookie;c.shouldVerifyCookies()&&(n&&n.length>=3900&&t("Cookies size is too big, ABTasty tag stopped execution."),h.canSaveInCookie(n,i)||t("ABTasty data can`t be saved to cookie, ABTasty tag stopped execution.")),c.getAccountSettings().waitForCnilStrictMode&&!m.isCnilReady()||m.listenForCnilCompliency();try{M.logForSpecialClient({ec:"ABTasty Debug",ea:"Initializing ABTasty cookies reading",cv:{30:"abtasty_debug,cookie:"+JSON.stringify(i).replace(/,/g,";")}})}catch(e){}N.waitFor(()=>""!==i.getVisitorId()).then(()=>{window.ABTasty.visitor={id:i.getVisitorId()},e()})})}().then(async()=>{c.usesGeolocTargeting(),N.doWhen(m.isCnilReady,T.fetchGeoloc),N.doWhen(m.isCnilReady,w.fetchUserAgentParser),O.usesDMPToFetch()&&N.doWhen(m.isCnilReady,O.fetchDMP);{const{start:e}=n(158);N.doWhen(m.isCnilReady,e)}y.setGlobals(),c.getAccountSettings().ajaxAutoReload&&g.onUrlChange(()=>L(!0)),L();const e=setTimeout(()=>y.dispatchHit(v.HIT_TYPES.performance),5e3);S.registerTimeout("performanceLoop",e)}).catch(e=>{p.warning(e)})}function L(e=!1){P.dispatchBatch(),s.rollback(),document.dispatchEvent(new CustomEvent(b.RESET_TRACKING_EVENT)),k.stopListening(),l.Campaign.resetCampaigns(),E.resetRedirectFrom(),e&&(S.cleanTimeouts(),new D.ABTastySessionCookie(!0)),c.getAccountSettings().ajaxAutoReload&&(window.ABTasty.urlHistory={previous:window.ABTasty.urlHistory&&window.ABTasty.urlHistory.current?window.ABTasty.urlHistory.current:document.referrer,current:document.location.href}),window.ABTasty.results={},window.ABTasty.omnitureProcessed=!1,R||(R=!0,$())}function $(){const e=d.ABTastyCookie.exists(),t=new d.ABTastyCookie;d.ABTastyCookie.cookieReady?(e||m.shouldWaitForCnil()||y.dispatchHit(v.HIT_TYPES.consent,{co:"yes"}),R=!1,function(){const e=V(c.getAccountData().customVariables||[]);Object.keys(e).length>0&&y.dispatchHit(v.HIT_TYPES.segment,{s:e})}(),t.pageView(),y.dispatchHit(v.HIT_TYPES.pageview,{}),E.hasBeenRedirected(),function(){const{globalCode:e,globalCodeOnDocReady:t}=c.getAccountSettings(),n=c.getGlobalCodeFragments(),i=""!==e,r=n&&n.length>0;if(!i&&!r)return;const a="accountGlobalCode";window.performance&&window.performance.mark&&window.performance.mark(a+"Start");function o(){if(window.performance&&window.performance.mark){window.performance.mark(a+"Stop"),window.performance.measure(a,a+"Start",a+"Stop");const e=window.performance.getEntriesByName(a,"measure");window.ABTasty.latency.gca=e&&e[0]?e[0].duration:null}}i&&(t?(A.domReady(()=>_.execCustomScript(e)),o()):(_.execCustomScript(e),o()));r&&(A.domReady(()=>{n.filter(e=>e.onDocumentReady).forEach(e=>{_.execCustomScript(e.code,null,null,e.id)})}),n.filter(e=>!e.onDocumentReady).forEach(e=>{_.execCustomScript(e.code,null,null,e.id)}))}(),function(){const e=l.Campaign.getParentCampaignsIDs();p.info(`Starting ${e.length} campaigns: ${e}`),e.map(l.Campaign.instanciate).forEach(e=>{if(e.isContainer()){e.setStatus(C.CampaignStatus.notChecked);e.getChildren().map(l.Campaign.instanciate).forEach(e=>{p.info("----- child campaign::",e.getType()),e.apply()})}else p.info("campaign::",e),e.apply()})}()):setTimeout($,16)}function V(e){return e.reduce((e,{method:t,url:n,category:i,action:r})=>u.matchWithCond(t,n)?Object.assign(Object.assign({},e),{[i]:r}):e,{})}t.getTagProcess=function(){return I.getEditorMode()?I.startEditor:x.detectPreview()?x.startPreview:j},t.isAllowed=function(){return I.detectEditorV3()||!window.ABTasty.started&&!function(){if(f.isObsoleteBrowser())return!0;const{abtastyeditorlock:e,abtastyoptout:t}=u.getUrlHashVars();let n=!1;try{n=null!=e||null!=window.top.ABTASTY_S}catch(e){}return null!=t?(o.set("ABTastyOptout","1",{expires:388}),!0):!(!o.get("ABTastyOptout")&&!n)}()},t.startTag=j,t.onStartOrReset=L,t.getMatchedCustomVars=V},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onUrlChange=void 0;const i=n(0);let r=document.location.href,a=!1;const o=[];t.onUrlChange=function(e){o.push(e),a||(a=!0,setInterval(()=>{document.location.href!==r&&(i.info("Url change detected",o.length+" callback to apply"),r=document.location.href,o.forEach(e=>e()))},50))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.canSaveInCookie=void 0;const o=a(n(11));t.canSaveInCookie=function(e,t){const n=e+"ABTastyCookieQuickTest";let i=!1;o.set(t.name,n,t.getConfig());try{i=document.cookie.indexOf("ABTastyCookieQuickTest")>-1,e&&i?o.set(t.name,e,t.getConfig()):o.remove(t.name,t.getConfig())}catch(e){o.remove(t.name,t.getConfig())}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usesDMPToFetch=t.fetchDMP=void 0,t.fetchDMP=function(){},t.usesDMPToFetch=function(){return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startEditor=t.detectEditorV3=t.getEditorMode=void 0;const i=n(9),r=n(28),a=n(0),o={abtasty_editor:"https://teddytor.abtasty.com",abtasty_editor_local:"https://local.editorv3.abtasty.com",abtasty_editor_preprod:"https://preprod-editorv3.abtasty.com"};function s(){return Object.keys(o).find(e=>i.urlParameterExists(e)&&i.getUrlParameter(e))}t.getEditorMode=s,t.detectEditorV3=function(){return!!s()},t.startEditor=function(){const e=s();if(!e)return void a.warning("The tag could not find which editor to launch");const t=i.getUrlParameter(e);t?r.appendScript(o[e]+"/editor.php?testID="+t):a.warning("The tag could not find which testID the editor should use")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectPreview=t.startPreview=void 0;const i=n(9),r=n(0),a=n(2),o=n(28),s={prod:"https://app.abtasty.com",local:"https://local.app.abtasty.com",preprod:"https://preprod-app.abtasty.com"};t.startPreview=function(){const e=Object.keys(s).find(e=>i.getVar("env")===e)||"prod";if(e)try{let t={testId:0,variationId:0};i.getVar("testId")&&i.getVar("variationId")?t={testId:Number(i.getVar("testId")),variationId:Number(i.getVar("variationId"))}:null!==sessionStorage.getItem("ABTastyPreview")&&(t=JSON.parse(sessionStorage.getItem("ABTastyPreview")));let n=s[e];n+="/ready/previewVariation.php?testID="+t.testId,n+="&variationID="+t.variationId,n+=null!=i.getVar("hideBar")?"&hideBar=true":"",n+=i.getVar("disabledModifications")?"&disabledModifications="+i.getVar("disabledModifications"):"",o.appendScript(n)}catch(e){const t="Preview mode error";return a.captureException(new Error(t)),r.error(t,e),!1}else r.warning("The tag could not find which preview to launch")},t.detectPreview=function(){return"preview"===i.getVars(document.location.href,!0).ab_project||"undefined"!=typeof sessionStorage&&void 0!==sessionStorage.ABTastyPreview&&null!=sessionStorage.ABTastyPreview}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.launchQaAssistant=void 0;const i=n(28),r=n(9),a={abtasty_qa_assistant:"prod",abtasty_qa_assistant_staging:"staging",abtasty_qa_assistant_local:"local"},o={prod:"https://qa-assistant.abtasty.com",staging:"https://staging-qa-assistant.abtasty.com",local:"https://local-qa-assistant.abtasty.com:5000"};function s(){return Object.keys(a).find(e=>!!r.getUrlParameter(e))}function c(){if(!window.frames.ABTastyQaAssistant){const e=function(){const e=s();return sessionStorage.getItem("AB_TASTY_QA_ASSISTANT_ENV")||e&&a[e]||"prod"}(),t=o[e];i.appendScript(t+"/bundle.js"),sessionStorage.setItem("AB_TASTY_QA_ASSISTANT_ENV",e)}}t.launchQaAssistant=async function(){s()||sessionStorage.getItem("AB_TASTY_QA_ASSISTANT_ENV")?c():function(){const e={a:!1,b:!1},t=Object.keys(e),n=n=>{(n.altKey||n.ctrlKey)&&t.includes(n.key.toLocaleLowerCase())&&(e[n.key.toLocaleLowerCase()]=!0),Object.values(e).every(e=>e)&&(c(),r())},i=function(n){t.includes(n.key)&&(e[n.key]=!1)},r=()=>{document.removeEventListener("keydown",n,!1),document.removeEventListener("keyup",i,!1)};r(),document.addEventListener("keydown",n,!1),document.addEventListener("keyup",i,!1)}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=void 0;const i=n(28),r=n(3);t.start=function(){const{sessionRecordingRights:e}=r.getAccountSettings(),t=r.getSessionRecordingSettings();e&&t&&t.length>0&&i.appendScript("https://sr-tag.abtasty.com/abtasty.js")}}]);